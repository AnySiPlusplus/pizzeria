Started GET "/custom_pizza/new" for ::1 at 2023-05-02 14:15:09 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CustomPizzasController#new as HTML
Completed 500 Internal Server Error in 11ms (ActiveRecord: 4.3ms | Allocations: 4276)


  
NoMethodError (undefined method `call' for PizzaDimensions::DimensionsQuery:Class):
  
app/controllers/custom_pizzas_controller.rb:6:in `new'
Started GET "/custom_pizza/new" for ::1 at 2023-05-02 14:15:47 +0300
Processing by CustomPizzasController#new as HTML
Completed 500 Internal Server Error in 16ms (ActiveRecord: 3.5ms | Allocations: 3447)


  
NameError (undefined local variable or method `separate_appritutes' for PizzaDimensions::DimensionsQuery:Class):
  
app/queries/pizza_dimensions/dimensions_query.rb:9:in `call'
app/controllers/custom_pizzas_controller.rb:6:in `new'
Started GET "/custom_pizza/new" for ::1 at 2023-05-02 14:15:48 +0300
Processing by CustomPizzasController#new as HTML
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms | Allocations: 1616)


  
NameError (undefined local variable or method `separate_appritutes' for PizzaDimensions::DimensionsQuery:Class):
  
app/queries/pizza_dimensions/dimensions_query.rb:9:in `call'
app/controllers/custom_pizzas_controller.rb:6:in `new'
Started GET "/custom_pizza/new" for ::1 at 2023-05-02 14:16:03 +0300
Processing by CustomPizzasController#new as HTML
Completed 500 Internal Server Error in 7ms (ActiveRecord: 1.8ms | Allocations: 2044)


  
ArgumentError (wrong number of arguments (given 0, expected 1..2)):
  
app/queries/base_query.rb:4:in `initialize'
app/controllers/custom_pizzas_controller.rb:6:in `new'
app/controllers/custom_pizzas_controller.rb:6:in `new'
Started GET "/custom_pizza/new" for ::1 at 2023-05-02 14:16:18 +0300
Processing by CustomPizzasController#new as HTML
Completed 500 Internal Server Error in 16ms (ActiveRecord: 4.0ms | Allocations: 3043)


  
NameError (undefined local variable or method `separate_appritutes' for #<PizzaDimensions::DimensionsQuery:0x0000565044ca06d0 @current_user=nil, @params={:params=>#<ActionController::Parameters {"controller"=>"custom_pizzas", "action"=>"new"} permitted: false>}>
Did you mean?  separete_attributes):
  
app/queries/pizza_dimensions/dimensions_query.rb:9:in `call'
app/controllers/custom_pizzas_controller.rb:6:in `new'
Started GET "/custom_pizza/new" for ::1 at 2023-05-02 14:18:52 +0300
Processing by CustomPizzasController#new as HTML
Completed 500 Internal Server Error in 14ms (ActiveRecord: 2.8ms | Allocations: 2529)


  
NoMethodError (undefined method `each' for nil:NilClass):
  
app/queries/pizza_dimensions/dimensions_query.rb:16:in `separated_attributes'
app/queries/pizza_dimensions/dimensions_query.rb:9:in `call'
app/controllers/custom_pizzas_controller.rb:6:in `new'
Started GET "/custom_pizza/new" for ::1 at 2023-05-02 14:19:17 +0300
Processing by CustomPizzasController#new as HTML
  [1m[36mPizzaDimension Load (1.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:16:in `separated_attributes'
  [1m[36mCACHE PizzaDimension Load (0.1ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:16:in `separated_attributes'
Completed 500 Internal Server Error in 63888ms (ActiveRecord: 10.8ms | Allocations: 85259)


  
NameError (undefined local variable or method `dimesion' for #<PizzaDimensions::DimensionsQuery:0x00007f48c0a57bd8 @current_user=nil, @params={:params=>#<ActionController::Parameters {"controller"=>"custom_pizzas", "action"=>"new"} permitted: false>}, @scope=#<ActiveRecord::Relation [#<PizzaDimension id: 1, dimension: 30.0, price_cents: 2000, price_currency: "USD", created_at: "2023-05-01 09:17:22.767609000 +0000", updated_at: "2023-05-01 10:34:16.796285000 +0000">, #<PizzaDimension id: 2, dimension: 60.0, price_cents: 2500, price_currency: "USD", created_at: "2023-05-01 09:17:22.776739000 +0000", updated_at: "2023-05-01 10:34:27.603809000 +0000">, #<PizzaDimension id: 3, dimension: 90.0, price_cents: 4000, price_currency: "USD", created_at: "2023-05-01 09:17:22.785309000 +0000", updated_at: "2023-05-01 10:34:35.613192000 +0000">, #<PizzaDimension id: 4, dimension: 100.0, price_cents: 5000, price_currency: "USD", created_at: "2023-05-01 09:17:22.794364000 +0000", updated_at: "2023-05-01 10:34:44.468301000 +0000">]>>
Did you mean?  dimension):
  
app/queries/pizza_dimensions/dimensions_query.rb:17:in `block in separated_attributes'
app/queries/pizza_dimensions/dimensions_query.rb:17:in `separated_attributes'
app/queries/pizza_dimensions/dimensions_query.rb:9:in `call'
app/controllers/custom_pizzas_controller.rb:6:in `new'
Started GET "/custom_pizza/new" for ::1 at 2023-05-02 14:20:23 +0300
Processing by CustomPizzasController#new as HTML
Completed 500 Internal Server Error in 44161ms (ActiveRecord: 2.8ms | Allocations: 13282)


  
NoMethodError (undefined method `each' for nil:NilClass):
  
app/queries/pizza_dimensions/dimensions_query.rb:18:in `separated_attributes'
app/queries/pizza_dimensions/dimensions_query.rb:10:in `call'
app/controllers/custom_pizzas_controller.rb:6:in `new'
Started GET "/custom_pizza/new" for ::1 at 2023-05-02 14:21:11 +0300
Processing by CustomPizzasController#new as HTML
Completed 500 Internal Server Error in 61683ms (ActiveRecord: 3.5ms | Allocations: 15917)


  
NoMethodError (undefined method `each' for nil:NilClass):
  
app/queries/pizza_dimensions/dimensions_query.rb:18:in `separated_attributes'
app/queries/pizza_dimensions/dimensions_query.rb:10:in `call'
app/controllers/custom_pizzas_controller.rb:6:in `new'
Started GET "/custom_pizza/new" for ::1 at 2023-05-02 14:22:15 +0300
Processing by CustomPizzasController#new as HTML
Completed 500 Internal Server Error in 82757ms (ActiveRecord: 2.2ms | Allocations: 21344)


  
NoMethodError (undefined method `each' for nil:NilClass):
  
app/queries/pizza_dimensions/dimensions_query.rb:17:in `separated_attributes'
app/queries/pizza_dimensions/dimensions_query.rb:9:in `call'
app/controllers/custom_pizzas_controller.rb:6:in `new'
Started GET "/custom_pizza/new" for ::1 at 2023-05-02 14:23:40 +0300
Processing by CustomPizzasController#new as HTML
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/new.haml within layouts/application
  [1m[36mPizzaDimension Load (0.7ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/new.haml:15:in `map'
  [1m[36mOrdinaryFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/new.haml:31
  [1m[36mAdditionalFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/new.haml:40
  Rendered custom_pizzas/new.haml within layouts/application (Duration: 124.3ms | Allocations: 55178)
  Rendered layouts/_header_guess_user.haml (Duration: 5.9ms | Allocations: 3413)
  Rendered layouts/_flesh.haml (Duration: 2.5ms | Allocations: 2057)
  Rendered layouts/_footer.haml (Duration: 11.1ms | Allocations: 12679)
  Rendered layout layouts/application.haml (Duration: 404.9ms | Allocations: 298890)
Completed 200 OK in 9186ms (Views: 388.5ms | ActiveRecord: 21.5ms | Allocations: 318967)


Started GET "/assets/application.css" for ::1 at 2023-05-02 14:23:50 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 14:23:50 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-02 14:23:50 +0300
Started GET "/custom_pizza/new" for ::1 at 2023-05-02 14:24:09 +0300
Processing by CustomPizzasController#new as HTML
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/new.haml within layouts/application
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/new.haml:15:in `map'
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/new.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/new.haml:40
  Rendered custom_pizzas/new.haml within layouts/application (Duration: 65.1ms | Allocations: 20177)
  Rendered layouts/_header_guess_user.haml (Duration: 0.4ms | Allocations: 202)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 68.7ms | Allocations: 22629)
Completed 200 OK in 27702ms (Views: 57.6ms | ActiveRecord: 15.1ms | Allocations: 36222)


Started GET "/assets/application.css" for ::1 at 2023-05-02 14:24:37 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 14:24:37 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-02 14:24:37 +0300
Started GET "/custom_pizza/new" for ::1 at 2023-05-02 14:24:39 +0300
Processing by CustomPizzasController#new as HTML
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/new.haml within layouts/application
  [1m[36mPizzaDimension Load (1.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/new.haml:15:in `map'
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/new.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/new.haml:40
  Rendered custom_pizzas/new.haml within layouts/application (Duration: 70.8ms | Allocations: 20088)
  Rendered layouts/_header_guess_user.haml (Duration: 0.3ms | Allocations: 202)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 74.3ms | Allocations: 22540)
Completed 200 OK in 58256ms (Views: 57.2ms | ActiveRecord: 20.6ms | Allocations: 38777)


Started GET "/assets/application.css" for ::1 at 2023-05-02 14:25:37 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 14:25:37 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-02 14:25:37 +0300
Started GET "/custom_pizza/new" for ::1 at 2023-05-02 14:25:39 +0300
Processing by CustomPizzasController#new as HTML
  [1m[36mPizzaDimension Load (0.7ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:16:in `separated_attributes'
Completed 500 Internal Server Error in 46782ms (ActiveRecord: 9.1ms | Allocations: 43021)


  
NameError (undefined local variable or method `dimesion' for #<PizzaDimensions::DimensionsQuery:0x00007f48b4c0e7f8 @scope=#<ActiveRecord::Relation [#<PizzaDimension id: 1, dimension: 30.0, price_cents: 2000, price_currency: "USD", created_at: "2023-05-01 09:17:22.767609000 +0000", updated_at: "2023-05-01 10:34:16.796285000 +0000">, #<PizzaDimension id: 2, dimension: 60.0, price_cents: 2500, price_currency: "USD", created_at: "2023-05-01 09:17:22.776739000 +0000", updated_at: "2023-05-01 10:34:27.603809000 +0000">, #<PizzaDimension id: 3, dimension: 90.0, price_cents: 4000, price_currency: "USD", created_at: "2023-05-01 09:17:22.785309000 +0000", updated_at: "2023-05-01 10:34:35.613192000 +0000">, #<PizzaDimension id: 4, dimension: 100.0, price_cents: 5000, price_currency: "USD", created_at: "2023-05-01 09:17:22.794364000 +0000", updated_at: "2023-05-01 10:34:44.468301000 +0000">]>, @data={30.0=>2000, 60.0=>2500, 90.0=>4000, 100.0=>5000}>
Did you mean?  dimension):
  
app/queries/pizza_dimensions/dimensions_query.rb:17:in `block in separated_attributes'
app/queries/pizza_dimensions/dimensions_query.rb:17:in `separated_attributes'
app/queries/pizza_dimensions/dimensions_query.rb:9:in `call'
app/controllers/custom_pizzas_controller.rb:6:in `new'
Started GET "/custom_pizza/new" for ::1 at 2023-05-02 14:27:42 +0300
Processing by CustomPizzasController#new as HTML
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/new.haml within layouts/application
  Rendered custom_pizzas/new.haml within layouts/application (Duration: 17.7ms | Allocations: 19980)
  Rendered layout layouts/application.haml (Duration: 18.0ms | Allocations: 20065)
Completed 500 Internal Server Error in 40ms (ActiveRecord: 8.2ms | Allocations: 25661)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check .fillings-page
  .filling-menu.dark-theme.dark-block
    .footer-bar
      .button
        .back-to-cart
          = link_to 'Back to Menu', pizzas_path, class: 'btn btn-primary'
    = simple_form_for CustomPizza.new, url: custom_pizza_path, method: :post do |f|
      = f.hidden_field :fillings, value: 0, id: 'filling_ids'
      .pizza-menu
        .thumbnail.dark-theme.pizza-image
          .image
            %img{src: "https://i.postimg.cc/63Gn2tYs/9.png"}
          .buttons-set
            %h4 Pizza Dimension
            = f.select(:pizza_dimension, options_for_select(@pizza_dimensions.map{|dimension| dimension.dimension }), {},{ class: 'dark-theme dark-block', data: { @dimension_with_price } })
          .subtotal-price#total-price
            %tr
              %td
                %strong.font-18 Total Price:
              %td
                %strong.front-18#sub-total{data: { price: 1000, currency: Money.from_cents(0, "USD").currency.symbol} }= Money.from_cents(1000, "USD").format
        .choose-fillings.dark-theme
          .fillings-block
            .border-block
              .fillings-title
                .ordinary-title#ordinary-button.active
                  %h1 Fillings
                .additional-title#adding-button
                  %h1 Additional Fillings
              .ordinary-fillings#ordinary
                - @fillings.each do |filling|
                  .addition-filling
                    .addition-checkbox
                      %input{ type: 'checkbox', name: 'filling', class: 'custom_pizza', data: { filling_id: filling.id, price: filling.price_cents } }
                    .filling-name
                      %h4= filling.name
                    .price-additional-filling
                      %h4= filling.price.format
              .additional-fillings#adding.hidden
                - @additional_fillings.each do |filling|
                  .addition-filling
                    .addition-checkbox
                      %input{ type: 'checkbox', name: 'filling', class: 'custom_pizza', data: { filling_id: filling.id, price: filling.price_cents } }
                    .filling-name
                      %h4= filling.name
                    .price-additional-filling
                      %h4= filling.price.format
        = f.button :submit, 'create pizza', class: 'btn btn-primary custom-pizza-create-button'

):
1:    .fillings-page
2:      .filling-menu.dark-theme.dark-block
3:        .footer-bar
4:          .button
5:            .back-to-cart
6:              = link_to 'Back to Menu', pizzas_path, class: 'btn btn-primary'
7:        = simple_form_for CustomPizza.new, url: custom_pizza_path, method: :post do |f|
8:          = f.hidden_field :fillings, value: 0, id: 'filling_ids'
9:          .pizza-menu
10:            .thumbnail.dark-theme.pizza-image
11:              .image
12:                %img{src: "https://i.postimg.cc/63Gn2tYs/9.png"}
13:              .buttons-set
14:                %h4 Pizza Dimension
15:                = f.select(:pizza_dimension, options_for_select(@pizza_dimensions.map{|dimension| dimension.dimension }), {},{ class: 'dark-theme dark-block', data: { @dimension_with_price } })
16:              .subtotal-price#total-price
17:                %tr
18:                  %td
19:                    %strong.font-18 Total Price:
20:                  %td
21:                    %strong.front-18#sub-total{data: { price: 1000, currency: Money.from_cents(0, "USD").currency.symbol} }= Money.from_cents(1000, "USD").format
22:            .choose-fillings.dark-theme
23:              .fillings-block
24:                .border-block
25:                  .fillings-title
26:                    .ordinary-title#ordinary-button.active
27:                      %h1 Fillings
28:                    .additional-title#adding-button
29:                      %h1 Additional Fillings
30:                  .ordinary-fillings#ordinary
31:                    - @fillings.each do |filling|
32:                      .addition-filling
33:                        .addition-checkbox
34:                          %input{ type: 'checkbox', name: 'filling', class: 'custom_pizza', data: { filling_id: filling.id, price: filling.price_cents } }
35:                        .filling-name
36:                          %h4= filling.name
37:                        .price-additional-filling
38:                          %h4= filling.price.format
39:                  .additional-fillings#adding.hidden
40:                    - @additional_fillings.each do |filling|
41:                      .addition-filling
42:                        .addition-checkbox
43:                          %input{ type: 'checkbox', name: 'filling', class: 'custom_pizza', data: { filling_id: filling.id, price: filling.price_cents } }
44:                        .filling-name
45:                          %h4= filling.name
46:                        .price-additional-filling
47:                          %h4= filling.price.format
48:            = f.button :submit, 'create pizza', class: 'btn btn-primary custom-pizza-create-button'
  
app/views/custom_pizzas/new.haml:15: syntax error, unexpected '}', expecting =>
app/views/custom_pizzas/new.haml:49: syntax error, unexpected `end', expecting ')'
app/views/custom_pizzas/new.haml:50: syntax error, unexpected `end', expecting ')'
app/views/custom_pizzas/new.haml:15: syntax error, unexpected '}', expecting =>
app/views/custom_pizzas/new.haml:49: syntax error, unexpected `end', expecting ')'
app/views/custom_pizzas/new.haml:50: syntax error, unexpected `end', expecting ')'
app/views/custom_pizzas/new.haml:15: syntax error, unexpected '}', expecting =>
app/views/custom_pizzas/new.haml:49: syntax error, unexpected `end', expecting ')'
app/views/custom_pizzas/new.haml:50: syntax error, unexpected `end', expecting ')'
app/views/custom_pizzas/new.haml:15: syntax error, unexpected '}', expecting =>
app/views/custom_pizzas/new.haml:49: syntax error, unexpected `end', expecting ')'
app/views/custom_pizzas/new.haml:50: syntax error, unexpected `end', expecting ')'
Started GET "/custom_pizza/new" for ::1 at 2023-05-02 14:27:59 +0300
Processing by CustomPizzasController#new as HTML
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/new.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/new.haml:15:in `map'
  [1m[36mOrdinaryFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/new.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/new.haml:40
  Rendered custom_pizzas/new.haml within layouts/application (Duration: 80.6ms | Allocations: 36325)
  Rendered layouts/_header_guess_user.haml (Duration: 3.7ms | Allocations: 3360)
  Rendered layouts/_flesh.haml (Duration: 2.7ms | Allocations: 2012)
  Rendered layouts/_footer.haml (Duration: 11.5ms | Allocations: 12638)
  Rendered layout layouts/application.haml (Duration: 109.7ms | Allocations: 63331)
Completed 200 OK in 115ms (Views: 99.6ms | ActiveRecord: 12.2ms | Allocations: 65164)


Started GET "/assets/application.css" for ::1 at 2023-05-02 14:28:00 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 14:28:00 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-02 14:28:00 +0300
Started GET "/custom_pizza/new" for ::1 at 2023-05-02 14:28:20 +0300
Processing by CustomPizzasController#new as HTML
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/new.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/new.haml:15:in `map'
  [1m[36mOrdinaryFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/new.haml:31
  [1m[36mAdditionalFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/new.haml:40
  Rendered custom_pizzas/new.haml within layouts/application (Duration: 32.2ms | Allocations: 25354)
  Rendered layouts/_header_guess_user.haml (Duration: 4.2ms | Allocations: 3356)
  Rendered layouts/_flesh.haml (Duration: 2.7ms | Allocations: 2008)
  Rendered layouts/_footer.haml (Duration: 21.2ms | Allocations: 12620)
  Rendered layout layouts/application.haml (Duration: 71.4ms | Allocations: 52173)
Completed 200 OK in 77ms (Views: 72.1ms | ActiveRecord: 1.5ms | Allocations: 53930)


Started GET "/assets/application.css" for ::1 at 2023-05-02 14:28:20 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 14:28:20 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-02 14:28:20 +0300
Started GET "/custom_pizza/new" for ::1 at 2023-05-02 14:40:34 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CustomPizzasController#new as HTML
  [1m[36mPizzaDimension Load (0.7ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/new.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/new.haml:15:in `map'
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/new.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/new.haml:40
  Rendered custom_pizzas/new.haml within layouts/application (Duration: 91.5ms | Allocations: 53481)
  Rendered layouts/_header_guess_user.haml (Duration: 4.0ms | Allocations: 3418)
  Rendered layouts/_flesh.haml (Duration: 2.6ms | Allocations: 2057)
  Rendered layouts/_footer.haml (Duration: 10.5ms | Allocations: 12678)
  Rendered layout layouts/application.haml (Duration: 350.1ms | Allocations: 307956)
Completed 200 OK in 388ms (Views: 342.4ms | ActiveRecord: 21.4ms | Allocations: 318599)


Started GET "/assets/application.css" for ::1 at 2023-05-02 14:40:34 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 14:40:34 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-02 14:40:35 +0300
Started GET "/custom_pizza/new" for ::1 at 2023-05-02 14:40:43 +0300
Processing by CustomPizzasController#new as HTML
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/new.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/new.haml:15:in `map'
  [1m[36mOrdinaryFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/new.haml:31
  [1m[36mAdditionalFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/new.haml:40
  Rendered custom_pizzas/new.haml within layouts/application (Duration: 12.0ms | Allocations: 4725)
  Rendered layouts/_header_guess_user.haml (Duration: 0.5ms | Allocations: 175)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 17.4ms | Allocations: 6940)
Completed 200 OK in 22ms (Views: 17.0ms | ActiveRecord: 1.6ms | Allocations: 8148)


Started GET "/assets/application.css" for ::1 at 2023-05-02 14:40:43 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 14:40:43 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-02 14:40:43 +0300
Started GET "/custom_pizza/new" for ::1 at 2023-05-02 14:41:59 +0300
Processing by CustomPizzasController#new as HTML
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/new.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/new.haml:15:in `map'
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/new.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/new.haml:40
  Rendered custom_pizzas/new.haml within layouts/application (Duration: 9.3ms | Allocations: 4631)
  Rendered layouts/_header_guess_user.haml (Duration: 0.4ms | Allocations: 175)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 46.6ms | Allocations: 7869)
Completed 200 OK in 50ms (Views: 46.3ms | ActiveRecord: 1.1ms | Allocations: 8999)


Started GET "/assets/application.css" for ::1 at 2023-05-02 14:41:59 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 14:41:59 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-02 14:41:59 +0300
Started GET "/custom_pizza/new" for ::1 at 2023-05-02 14:42:05 +0300
Processing by CustomPizzasController#new as HTML
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/new.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/new.haml:15:in `map'
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/new.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/new.haml:40
  Rendered custom_pizzas/new.haml within layouts/application (Duration: 7.9ms | Allocations: 4632)
  Rendered layouts/_header_guess_user.haml (Duration: 0.3ms | Allocations: 175)
  Rendered layouts/_flesh.haml (Duration: 0.0ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 11.4ms | Allocations: 6845)
Completed 200 OK in 14ms (Views: 11.1ms | ActiveRecord: 1.1ms | Allocations: 7959)


Started GET "/assets/application.css" for ::1 at 2023-05-02 14:42:06 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 14:42:06 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-02 14:42:06 +0300
Started GET "/custom_pizza/new" for ::1 at 2023-05-02 14:42:11 +0300
Processing by CustomPizzasController#new as HTML
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/new.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/new.haml:15:in `map'
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/new.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/new.haml:40
  Rendered custom_pizzas/new.haml within layouts/application (Duration: 7.6ms | Allocations: 4646)
  Rendered layouts/_header_guess_user.haml (Duration: 0.3ms | Allocations: 175)
  Rendered layouts/_flesh.haml (Duration: 0.0ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 10.8ms | Allocations: 6860)
Completed 200 OK in 14ms (Views: 10.5ms | ActiveRecord: 1.1ms | Allocations: 7990)


Started GET "/assets/application.css" for ::1 at 2023-05-02 14:42:11 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 14:42:11 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-02 14:42:11 +0300
Started POST "/custom_pizza" for ::1 at 2023-05-02 14:42:21 +0300
Processing by CustomPizzasController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "custom_pizza"=>{"fillings"=>"1,2,3,4,5,6,7,8,9,10,11", "pizza_dimension"=>"100.0"}, "filling"=>"on", "commit"=>"create pizza"}
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrder Create (1.0ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "created_at", "updated_at", "subtotal_cents", "subtotal_currency", "status", "delivery_id", "completed_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", nil], ["created_at", "2023-05-02 11:42:21.644484"], ["updated_at", "2023-05-02 11:42:21.644484"], ["subtotal_cents", 0], ["subtotal_currency", "USD"], ["status", 0], ["delivery_id", nil], ["completed_at", nil]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mFilling Load (1.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)[0m  [["id", 1], ["id", 2], ["id", 3], ["id", 4], ["id", 5], ["id", 6], ["id", 7], ["id", 8], ["id", 9], ["id", 10], ["id", 11]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:31:in `current_form'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."dimension" = $1 LIMIT $2[0m  [["dimension", 100.0], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:23:in `pizza_dimension'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Custom"], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:43:in `create_pizza_params'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mCustomPizza Create (1.9ms)[0m  [1m[32mINSERT INTO "pizzas" ("name", "price_cents", "price_currency", "description", "category_id", "pizza_dimension_id", "created_at", "updated_at", "type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "custom_pizza"], ["price_cents", 1000], ["price_currency", "USD"], ["description", "none"], ["category_id", 4], ["pizza_dimension_id", 4], ["created_at", "2023-05-02 11:42:21.719428"], ["updated_at", "2023-05-02 11:42:21.719428"], ["type", "CustomPizza"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (2.0ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 16], ["filling_id", 1], ["created_at", "2023-05-02 11:42:21.724517"], ["updated_at", "2023-05-02 11:42:21.724517"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.8ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 16], ["filling_id", 2], ["created_at", "2023-05-02 11:42:21.729610"], ["updated_at", "2023-05-02 11:42:21.729610"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.9ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 16], ["filling_id", 3], ["created_at", "2023-05-02 11:42:21.733012"], ["updated_at", "2023-05-02 11:42:21.733012"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.9ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 16], ["filling_id", 4], ["created_at", "2023-05-02 11:42:21.736574"], ["updated_at", "2023-05-02 11:42:21.736574"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.9ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 16], ["filling_id", 5], ["created_at", "2023-05-02 11:42:21.740084"], ["updated_at", "2023-05-02 11:42:21.740084"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.9ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 16], ["filling_id", 6], ["created_at", "2023-05-02 11:42:21.743584"], ["updated_at", "2023-05-02 11:42:21.743584"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.5ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 16], ["filling_id", 7], ["created_at", "2023-05-02 11:42:21.747346"], ["updated_at", "2023-05-02 11:42:21.747346"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.5ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 16], ["filling_id", 8], ["created_at", "2023-05-02 11:42:21.750480"], ["updated_at", "2023-05-02 11:42:21.750480"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.5ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 16], ["filling_id", 9], ["created_at", "2023-05-02 11:42:21.753535"], ["updated_at", "2023-05-02 11:42:21.753535"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.8ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 16], ["filling_id", 10], ["created_at", "2023-05-02 11:42:21.756514"], ["updated_at", "2023-05-02 11:42:21.756514"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.9ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 16], ["filling_id", 11], ["created_at", "2023-05-02 11:42:21.759903"], ["updated_at", "2023-05-02 11:42:21.759903"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/create_custom_pizza.rb:15:in `create_order_item'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:15:in `create_order_item'
  [1m[36mOrderItem Create (2.3ms)[0m  [1m[32mINSERT INTO "order_items" ("price_cents", "price_currency", "quantity", "pizza_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["price_cents", 0], ["price_currency", "USD"], ["quantity", 1], ["pizza_id", 16], ["order_id", 4], ["created_at", "2023-05-02 11:42:21.792796"], ["updated_at", "2023-05-02 11:42:21.792796"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:15:in `create_order_item'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/create_custom_pizza.rb:15:in `create_order_item'
Redirected to http://localhost:3000/cart
Completed 302 Found in 176ms (ActiveRecord: 45.8ms | Allocations: 60691)


Started GET "/cart" for ::1 at 2023-05-02 14:42:21 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 16]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaPicture Load (0.5ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" = $2[0m  [["picturable_type", "Pizza"], ["picturable_id", 16]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaDimension Load (0.6ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 4]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
  [1m[36mFilling Load (0.9ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 16], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  Rendered carts/_order_items.haml (Duration: 45.7ms | Allocations: 26127)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 16]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 16], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.6ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 16]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 16], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 78.2ms | Allocations: 47100)
  Rendered layouts/_header_guess_user.haml (Duration: 0.3ms | Allocations: 188)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 82.1ms | Allocations: 49466)
Completed 200 OK in 153ms (Views: 76.8ms | ActiveRecord: 11.7ms | Allocations: 63104)


Started GET "/assets/application.css" for ::1 at 2023-05-02 14:42:22 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 14:42:22 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-02 14:42:22 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-02 14:42:22 +0300
Started GET "/custom_pizza/edit?order_item_id=1" for ::1 at 2023-05-02 14:42:24 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"1"}
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:16:in `edit'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:29:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mPizzaDimension Load (0.6ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 16], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.7ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 16], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 16], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 16]]
  â†³ app/helpers/fillings_helper.rb:5:in `include_filling'
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 61.9ms | Allocations: 35324)
  Rendered layouts/_header_guess_user.haml (Duration: 0.4ms | Allocations: 175)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 66.1ms | Allocations: 37550)
Completed 200 OK in 73ms (Views: 63.1ms | ActiveRecord: 4.6ms | Allocations: 39711)


Started GET "/assets/application.css" for ::1 at 2023-05-02 14:42:24 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 14:42:24 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-02 14:42:25 +0300
Started GET "/custom_pizza/edit?order_item_id=1" for ::1 at 2023-05-02 14:42:51 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"1"}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:16:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:29:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mPizzaDimension Load (0.6ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 16], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 16], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 16], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mFilling Load (0.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 16]]
  â†³ app/helpers/fillings_helper.rb:5:in `include_filling'
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 26.5ms | Allocations: 12445)
  Rendered layouts/_header_guess_user.haml (Duration: 0.4ms | Allocations: 175)
  Rendered layouts/_flesh.haml (Duration: 0.0ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 30.3ms | Allocations: 14659)
Completed 200 OK in 36ms (Views: 27.6ms | ActiveRecord: 4.0ms | Allocations: 16504)


Started GET "/assets/application.css" for ::1 at 2023-05-02 14:42:51 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 14:42:51 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-02 14:42:51 +0300
Started GET "/custom_pizza/edit?order_item_id=1" for ::1 at 2023-05-02 14:42:56 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"1"}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:16:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:29:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 16], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.6ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 16], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 16], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 16]]
  â†³ app/helpers/fillings_helper.rb:5:in `include_filling'
  [1m[36mAdditionalFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 25.8ms | Allocations: 12444)
  Rendered layouts/_header_guess_user.haml (Duration: 0.3ms | Allocations: 175)
  Rendered layouts/_flesh.haml (Duration: 0.0ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 29.0ms | Allocations: 14658)
Completed 200 OK in 36ms (Views: 26.9ms | ActiveRecord: 3.4ms | Allocations: 16504)


Started GET "/assets/application.css" for ::1 at 2023-05-02 14:42:56 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 14:42:56 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-02 14:42:56 +0300
Started GET "/custom_pizza/edit?order_item_id=1" for ::1 at 2023-05-02 14:43:54 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"1"}
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:16:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:29:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 16], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 16], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 16], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 16]]
  â†³ app/helpers/fillings_helper.rb:5:in `include_filling'
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 27.7ms | Allocations: 12426)
  Rendered layouts/_header_guess_user.haml (Duration: 0.3ms | Allocations: 175)
  Rendered layouts/_flesh.haml (Duration: 0.0ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 31.1ms | Allocations: 14640)
Completed 200 OK in 37ms (Views: 28.6ms | ActiveRecord: 3.8ms | Allocations: 16487)


Started GET "/assets/application.css" for ::1 at 2023-05-02 14:43:54 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 14:43:54 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-02 14:43:54 +0300
Started GET "/cart" for ::1 at 2023-05-02 14:43:55 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 16]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaPicture Load (0.3ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" = $2[0m  [["picturable_type", "Pizza"], ["picturable_id", 16]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 4]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 16], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  Rendered carts/_order_items.haml (Duration: 7.3ms | Allocations: 4055)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 16]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 16], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 16]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 16], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 23.0ms | Allocations: 14387)
  Rendered layouts/_header_guess_user.haml (Duration: 0.3ms | Allocations: 173)
  Rendered layouts/_flesh.haml (Duration: 0.0ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 26.1ms | Allocations: 16559)
Completed 200 OK in 42ms (Views: 25.8ms | ActiveRecord: 2.5ms | Allocations: 22031)


Started GET "/assets/application.css" for ::1 at 2023-05-02 14:43:55 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 14:43:55 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-02 14:43:55 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-02 14:43:55 +0300
Started GET "/pizzas" for ::1 at 2023-05-02 14:43:56 +0300
Processing by PizzasController#index as HTML
  [1m[36mPizza Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."type" = $1[0m  [["type", "OrdinaryPizza"]]
  â†³ app/controllers/pizzas_controller.rb:5:in `index'
  Rendering layout layouts/application.haml
  Rendering pizzas/index.haml within layouts/application
  Rendered pizzas/_order_dropdown.haml (Duration: 5.6ms | Allocations: 5748)
  [1m[36mPizza Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas"[0m
  â†³ app/views/pizzas/index.haml:12
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/pizzas/index.haml:13
  [1m[36mPizza Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 1]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 2]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 3]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 4]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."type" = $1 ORDER BY "pizzas"."name" ASC LIMIT $2 OFFSET $3[0m  [["type", "OrdinaryPizza"], ["LIMIT", 12], ["OFFSET", 0]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mPizzaPicture Load (0.7ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13)[0m  [["picturable_type", "Pizza"], ["picturable_id", 1], ["picturable_id", 8], ["picturable_id", 12], ["picturable_id", 14], ["picturable_id", 9], ["picturable_id", 3], ["picturable_id", 10], ["picturable_id", 5], ["picturable_id", 2], ["picturable_id", 15], ["picturable_id", 11], ["picturable_id", 13]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  Rendered pizzas/_pizza.haml (Duration: 52.2ms | Allocations: 38096)
  Rendered pizzas/_view_more.haml (Duration: 3.6ms | Allocations: 2923)
  Rendered pizzas/index.haml within layouts/application (Duration: 83.8ms | Allocations: 60127)
  Rendered layouts/_header_guess_user.haml (Duration: 0.4ms | Allocations: 187)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 86.9ms | Allocations: 62369)
Completed 200 OK in 93ms (Views: 83.4ms | ActiveRecord: 6.0ms | Allocations: 64544)


Started GET "/assets/application.css" for ::1 at 2023-05-02 14:43:56 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 14:43:56 +0300
Started GET "/assets/medium.png" for ::1 at 2023-05-02 14:43:56 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-02 14:43:57 +0300
Started GET "/custom_pizza/new" for ::1 at 2023-05-02 14:43:58 +0300
Processing by CustomPizzasController#new as HTML
  [1m[36mPizzaDimension Load (0.8ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/new.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/new.haml:15:in `map'
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/new.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/new.haml:40
  Rendered custom_pizzas/new.haml within layouts/application (Duration: 10.4ms | Allocations: 4739)
  Rendered layouts/_header_guess_user.haml (Duration: 0.4ms | Allocations: 175)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 13.8ms | Allocations: 6954)
Completed 200 OK in 19ms (Views: 13.8ms | ActiveRecord: 1.5ms | Allocations: 8136)


Started GET "/assets/application.css" for ::1 at 2023-05-02 14:43:59 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 14:43:59 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-02 14:43:59 +0300
Started POST "/custom_pizza" for ::1 at 2023-05-02 14:44:21 +0300
Processing by CustomPizzasController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "custom_pizza"=>{"fillings"=>"1,2,3,4,5,6,7,8,9,10,11", "pizza_dimension"=>"60.0"}, "filling"=>"on", "commit"=>"create pizza"}
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)[0m  [["id", 1], ["id", 2], ["id", 3], ["id", 4], ["id", 5], ["id", 6], ["id", 7], ["id", 8], ["id", 9], ["id", 10], ["id", 11]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:31:in `current_form'
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."dimension" = $1 LIMIT $2[0m  [["dimension", 60.0], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:23:in `pizza_dimension'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Custom"], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:43:in `create_pizza_params'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mCustomPizza Create (0.9ms)[0m  [1m[32mINSERT INTO "pizzas" ("name", "price_cents", "price_currency", "description", "category_id", "pizza_dimension_id", "created_at", "updated_at", "type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "custom_pizza"], ["price_cents", 1000], ["price_currency", "USD"], ["description", "none"], ["category_id", 4], ["pizza_dimension_id", 2], ["created_at", "2023-05-02 11:44:21.121946"], ["updated_at", "2023-05-02 11:44:21.121946"], ["type", "CustomPizza"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.5ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 17], ["filling_id", 1], ["created_at", "2023-05-02 11:44:21.125480"], ["updated_at", "2023-05-02 11:44:21.125480"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.7ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 17], ["filling_id", 2], ["created_at", "2023-05-02 11:44:21.128542"], ["updated_at", "2023-05-02 11:44:21.128542"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.5ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 17], ["filling_id", 3], ["created_at", "2023-05-02 11:44:21.131889"], ["updated_at", "2023-05-02 11:44:21.131889"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.5ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 17], ["filling_id", 4], ["created_at", "2023-05-02 11:44:21.135515"], ["updated_at", "2023-05-02 11:44:21.135515"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.5ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 17], ["filling_id", 5], ["created_at", "2023-05-02 11:44:21.138724"], ["updated_at", "2023-05-02 11:44:21.138724"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.6ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 17], ["filling_id", 6], ["created_at", "2023-05-02 11:44:21.141613"], ["updated_at", "2023-05-02 11:44:21.141613"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.5ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 17], ["filling_id", 7], ["created_at", "2023-05-02 11:44:21.144599"], ["updated_at", "2023-05-02 11:44:21.144599"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.4ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 17], ["filling_id", 8], ["created_at", "2023-05-02 11:44:21.147575"], ["updated_at", "2023-05-02 11:44:21.147575"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.5ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 17], ["filling_id", 9], ["created_at", "2023-05-02 11:44:21.150793"], ["updated_at", "2023-05-02 11:44:21.150793"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.5ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 17], ["filling_id", 10], ["created_at", "2023-05-02 11:44:21.153979"], ["updated_at", "2023-05-02 11:44:21.153979"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.6ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 17], ["filling_id", 11], ["created_at", "2023-05-02 11:44:21.157723"], ["updated_at", "2023-05-02 11:44:21.157723"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/create_custom_pizza.rb:15:in `create_order_item'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:15:in `create_order_item'
  [1m[36mOrderItem Create (0.7ms)[0m  [1m[32mINSERT INTO "order_items" ("price_cents", "price_currency", "quantity", "pizza_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["price_cents", 0], ["price_currency", "USD"], ["quantity", 1], ["pizza_id", 17], ["order_id", 4], ["created_at", "2023-05-02 11:44:21.175848"], ["updated_at", "2023-05-02 11:44:21.175848"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:15:in `create_order_item'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/create_custom_pizza.rb:15:in `create_order_item'
Redirected to http://localhost:3000/cart
Completed 302 Found in 90ms (ActiveRecord: 16.8ms | Allocations: 32094)


Started GET "/cart" for ::1 at 2023-05-02 14:44:21 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 16], ["id", 17]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaPicture Load (0.3ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3)[0m  [["picturable_type", "Pizza"], ["picturable_id", 16], ["picturable_id", 17]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" IN ($1, $2)[0m  [["id", 4], ["id", 2]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 16], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 17], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  Rendered carts/_order_items.haml (Duration: 14.7ms | Allocations: 8246)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 16], ["id", 17]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 16], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 17], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 16], ["id", 17]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 16], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 17], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 42.5ms | Allocations: 25307)
  Rendered layouts/_header_guess_user.haml (Duration: 0.3ms | Allocations: 173)
  Rendered layouts/_flesh.haml (Duration: 0.0ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 46.0ms | Allocations: 27481)
Completed 200 OK in 62ms (Views: 44.8ms | ActiveRecord: 3.8ms | Allocations: 33807)


Started GET "/assets/application.css" for ::1 at 2023-05-02 14:44:21 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 14:44:21 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-02 14:44:21 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-02 14:44:21 +0300
Started GET "/cart" for ::1 at 2023-05-02 15:09:28 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.6ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizza Load (1.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 16], ["id", 17]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaPicture Load (2.0ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3)[0m  [["picturable_type", "Pizza"], ["picturable_id", 16], ["picturable_id", 17]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaDimension Load (0.6ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" IN ($1, $2)[0m  [["id", 4], ["id", 2]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 16], ["type", "AdditionalFilling"]]
  â†³ (pry):5:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at (pry):5)
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 16], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
  [1m[36mFilling Load (1.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 17], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
  Rendered carts/_order_items.haml (Duration: 104733.5ms | Allocations: 97422)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.1ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 16], ["id", 17]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 16], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
  [1m[36mPizzaDimension Load (0.7ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:15:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 17], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
  [1m[36mPizzaDimension Load (0.6ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:15:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 16], ["id", 17]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 16], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:15:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 17], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:15:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 108099.5ms | Allocations: 155443)
  Rendered layouts/_header_guess_user.haml (Duration: 0.3ms | Allocations: 190)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 108103.3ms | Allocations: 157812)
Completed 200 OK in 108184ms (Views: 108101.4ms | ActiveRecord: 17.8ms | Allocations: 183850)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:11:17 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-02 15:11:17 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:11:17 +0300
Started DELETE "/order_items?id=2" for ::1 at 2023-05-02 15:11:39 +0300
Processing by OrderItemsController#destroy as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2", "order_item"=>{}}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."id" = $2 LIMIT $3[0m  [["order_id", 4], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/order_items_controller.rb:14:in `destroy'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/order_items_controller.rb:14:in `destroy'
  [1m[36mOrderItem Destroy (0.5ms)[0m  [1m[31mDELETE FROM "order_items" WHERE "order_items"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/order_items_controller.rb:14:in `destroy'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/order_items_controller.rb:14:in `destroy'
No template found for OrderItemsController#destroy, rendering head :no_content
Completed 204 No Content in 36ms (ActiveRecord: 17.4ms | Allocations: 9645)


Started DELETE "/order_items?id=1" for ::1 at 2023-05-02 15:11:40 +0300
Processing by OrderItemsController#destroy as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"1", "order_item"=>{}}
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.6ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."id" = $2 LIMIT $3[0m  [["order_id", 4], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/order_items_controller.rb:14:in `destroy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/order_items_controller.rb:14:in `destroy'
  [1m[36mOrderItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM "order_items" WHERE "order_items"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/order_items_controller.rb:14:in `destroy'
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/order_items_controller.rb:14:in `destroy'
No template found for OrderItemsController#destroy, rendering head :no_content
Completed 204 No Content in 14ms (ActiveRecord: 6.1ms | Allocations: 3601)


Started GET "/pizzas" for ::1 at 2023-05-02 15:12:24 +0300
Processing by PizzasController#index as HTML
  [1m[36mPizza Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."type" = $1[0m  [["type", "OrdinaryPizza"]]
  â†³ app/controllers/pizzas_controller.rb:5:in `index'
  Rendering layout layouts/application.haml
  Rendering pizzas/index.haml within layouts/application
  Rendered pizzas/_order_dropdown.haml (Duration: 0.9ms | Allocations: 544)
  [1m[36mPizza Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas"[0m
  â†³ app/views/pizzas/index.haml:12
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/pizzas/index.haml:13
  [1m[36mPizza Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 1]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 2]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 3]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 4]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."type" = $1 ORDER BY "pizzas"."name" ASC LIMIT $2 OFFSET $3[0m  [["type", "OrdinaryPizza"], ["LIMIT", 12], ["OFFSET", 0]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mPizzaPicture Load (0.9ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13)[0m  [["picturable_type", "Pizza"], ["picturable_id", 1], ["picturable_id", 8], ["picturable_id", 12], ["picturable_id", 14], ["picturable_id", 9], ["picturable_id", 3], ["picturable_id", 10], ["picturable_id", 5], ["picturable_id", 2], ["picturable_id", 15], ["picturable_id", 11], ["picturable_id", 13]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  Rendered pizzas/_pizza.haml (Duration: 79.5ms | Allocations: 39050)
  Rendered pizzas/_view_more.haml (Duration: 0.1ms | Allocations: 62)
  Rendered pizzas/index.haml within layouts/application (Duration: 102.6ms | Allocations: 46082)
  Rendered layouts/_header_guess_user.haml (Duration: 0.4ms | Allocations: 189)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 105.7ms | Allocations: 48325)
Completed 200 OK in 116ms (Views: 88.5ms | ActiveRecord: 22.1ms | Allocations: 51185)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:12:25 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:12:25 +0300
Started GET "/assets/medium.png" for ::1 at 2023-05-02 15:12:25 +0300
Started GET "/custom_pizza/new" for ::1 at 2023-05-02 15:12:25 +0300
Processing by CustomPizzasController#new as HTML
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/new.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/new.haml:15:in `map'
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/new.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/new.haml:40
  Rendered custom_pizzas/new.haml within layouts/application (Duration: 34.1ms | Allocations: 13383)
  Rendered layouts/_header_guess_user.haml (Duration: 0.3ms | Allocations: 200)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 37.7ms | Allocations: 15821)
Completed 200 OK in 81ms (Views: 53.7ms | ActiveRecord: 13.7ms | Allocations: 20842)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:12:26 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:12:26 +0300
Started GET "/custom_pizza/new" for ::1 at 2023-05-02 15:12:37 +0300
Processing by CustomPizzasController#new as HTML
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/new.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/new.haml:15:in `map'
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/new.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/new.haml:40
  Rendered custom_pizzas/new.haml within layouts/application (Duration: 7.9ms | Allocations: 4646)
  Rendered layouts/_header_guess_user.haml (Duration: 0.3ms | Allocations: 175)
  Rendered layouts/_flesh.haml (Duration: 0.0ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 11.3ms | Allocations: 6860)
Completed 200 OK in 14ms (Views: 11.0ms | ActiveRecord: 1.2ms | Allocations: 8041)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:12:37 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:12:38 +0300
Started POST "/custom_pizza" for ::1 at 2023-05-02 15:12:46 +0300
Processing by CustomPizzasController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "custom_pizza"=>{"fillings"=>"", "pizza_dimension"=>"30.0"}, "commit"=>"create pizza"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."dimension" = $1 LIMIT $2[0m  [["dimension", 30.0], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:23:in `pizza_dimension'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Custom"], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:43:in `create_pizza_params'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mCustomPizza Create (0.7ms)[0m  [1m[32mINSERT INTO "pizzas" ("name", "price_cents", "price_currency", "description", "category_id", "pizza_dimension_id", "created_at", "updated_at", "type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "custom_pizza"], ["price_cents", 1000], ["price_currency", "USD"], ["description", "none"], ["category_id", 4], ["pizza_dimension_id", 1], ["created_at", "2023-05-02 12:12:46.355425"], ["updated_at", "2023-05-02 12:12:46.355425"], ["type", "CustomPizza"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/create_custom_pizza.rb:15:in `create_order_item'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:15:in `create_order_item'
  [1m[36mOrderItem Create (1.2ms)[0m  [1m[32mINSERT INTO "order_items" ("price_cents", "price_currency", "quantity", "pizza_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["price_cents", 0], ["price_currency", "USD"], ["quantity", 1], ["pizza_id", 18], ["order_id", 4], ["created_at", "2023-05-02 12:12:46.367649"], ["updated_at", "2023-05-02 12:12:46.367649"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:15:in `create_order_item'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/create_custom_pizza.rb:15:in `create_order_item'
Redirected to http://localhost:3000/cart
Completed 302 Found in 43ms (ActiveRecord: 6.5ms | Allocations: 18414)


Started GET "/cart" for ::1 at 2023-05-02 15:12:46 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.9ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.6ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 18]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaPicture Load (0.5ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" = $2[0m  [["picturable_type", "Pizza"], ["picturable_id", 18]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  Rendered carts/_order_items.haml (Duration: 11.4ms | Allocations: 4973)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 18]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 18]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 32.1ms | Allocations: 15928)
  Rendered layouts/_header_guess_user.haml (Duration: 0.3ms | Allocations: 188)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 36.2ms | Allocations: 18293)
Completed 200 OK in 60ms (Views: 36.1ms | ActiveRecord: 5.0ms | Allocations: 24924)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:12:46 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:12:46 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-02 15:12:46 +0300
Started GET "/custom_pizza/edit?order_item_id=3" for ::1 at 2023-05-02 15:12:52 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"3"}
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:16:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:29:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mOrdinaryFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/helpers/fillings_helper.rb:5:in `include_filling'
  [1m[36mAdditionalFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 23.6ms | Allocations: 10519)
  Rendered layouts/_header_guess_user.haml (Duration: 0.4ms | Allocations: 175)
  Rendered layouts/_flesh.haml (Duration: 0.0ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 26.8ms | Allocations: 12745)
Completed 200 OK in 33ms (Views: 24.6ms | ActiveRecord: 3.6ms | Allocations: 14828)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:12:52 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:12:52 +0300
Started PATCH "/custom_pizza?filling_id=1" for ::1 at 2023-05-02 15:12:58 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>3, "filling_id"=>"1", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 18], ["id", 1], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mPizzaFilling Create (0.9ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 18], ["filling_id", 1], ["created_at", "2023-05-02 12:12:58.897330"], ["updated_at", "2023-05-02 12:12:58.897330"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 45ms (ActiveRecord: 11.2ms | Allocations: 10915)


Started PATCH "/custom_pizza?filling_id=2" for ::1 at 2023-05-02 15:13:01 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>3, "filling_id"=>"2", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.9ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.7ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 18], ["id", 2], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mPizzaFilling Create (0.5ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 18], ["filling_id", 2], ["created_at", "2023-05-02 12:13:01.696349"], ["updated_at", "2023-05-02 12:13:01.696349"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 22ms (ActiveRecord: 7.7ms | Allocations: 6480)


Started PATCH "/custom_pizza?filling_id=3" for ::1 at 2023-05-02 15:13:02 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>3, "filling_id"=>"3", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 18], ["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mPizzaFilling Create (0.9ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 18], ["filling_id", 3], ["created_at", "2023-05-02 12:13:02.348782"], ["updated_at", "2023-05-02 12:13:02.348782"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 22ms (ActiveRecord: 7.3ms | Allocations: 6442)


Started PATCH "/custom_pizza?filling_id=4" for ::1 at 2023-05-02 15:13:02 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>3, "filling_id"=>"4", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.6ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.6ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 18], ["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mPizzaFilling Create (0.5ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 18], ["filling_id", 4], ["created_at", "2023-05-02 12:13:02.939890"], ["updated_at", "2023-05-02 12:13:02.939890"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 17ms (ActiveRecord: 3.9ms | Allocations: 6432)


Started PATCH "/custom_pizza?filling_id=5" for ::1 at 2023-05-02 15:13:03 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>3, "filling_id"=>"5", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 18], ["id", 5], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mPizzaFilling Create (1.0ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 18], ["filling_id", 5], ["created_at", "2023-05-02 12:13:03.520314"], ["updated_at", "2023-05-02 12:13:03.520314"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 23ms (ActiveRecord: 8.1ms | Allocations: 6431)


Started PATCH "/custom_pizza?filling_id=6" for ::1 at 2023-05-02 15:13:04 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>3, "filling_id"=>"6", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 18], ["id", 6], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mPizzaFilling Create (0.6ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 18], ["filling_id", 6], ["created_at", "2023-05-02 12:13:04.199684"], ["updated_at", "2023-05-02 12:13:04.199684"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 21ms (ActiveRecord: 7.7ms | Allocations: 6437)


Started PATCH "/custom_pizza?filling_id=7" for ::1 at 2023-05-02 15:13:04 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>3, "filling_id"=>"7", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 18], ["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mPizzaFilling Create (0.5ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 18], ["filling_id", 7], ["created_at", "2023-05-02 12:13:04.640498"], ["updated_at", "2023-05-02 12:13:04.640498"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 21ms (ActiveRecord: 7.2ms | Allocations: 6425)


Started PATCH "/custom_pizza?filling_id=8" for ::1 at 2023-05-02 15:13:05 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>3, "filling_id"=>"8", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 18], ["id", 8], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mPizzaFilling Create (0.9ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 18], ["filling_id", 8], ["created_at", "2023-05-02 12:13:05.470118"], ["updated_at", "2023-05-02 12:13:05.470118"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 22ms (ActiveRecord: 7.9ms | Allocations: 6415)


Started PATCH "/custom_pizza?filling_id=9" for ::1 at 2023-05-02 15:13:08 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>3, "filling_id"=>"9", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 18], ["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mPizzaFilling Create (0.6ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 18], ["filling_id", 9], ["created_at", "2023-05-02 12:13:08.052633"], ["updated_at", "2023-05-02 12:13:08.052633"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 20ms (ActiveRecord: 7.2ms | Allocations: 6459)


Started PATCH "/custom_pizza?filling_id=10" for ::1 at 2023-05-02 15:13:08 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>3, "filling_id"=>"10", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 18], ["id", 10], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mPizzaFilling Create (0.6ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 18], ["filling_id", 10], ["created_at", "2023-05-02 12:13:08.601611"], ["updated_at", "2023-05-02 12:13:08.601611"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 20ms (ActiveRecord: 7.6ms | Allocations: 6415)


Started PATCH "/custom_pizza?filling_id=11" for ::1 at 2023-05-02 15:13:09 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>3, "filling_id"=>"11", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 18], ["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mPizzaFilling Create (0.3ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 18], ["filling_id", 11], ["created_at", "2023-05-02 12:13:09.491112"], ["updated_at", "2023-05-02 12:13:09.491112"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 18ms (ActiveRecord: 6.0ms | Allocations: 6424)


Started GET "/cart" for ::1 at 2023-05-02 15:13:13 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 18]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaPicture Load (0.4ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" = $2[0m  [["picturable_type", "Pizza"], ["picturable_id", 18]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
  [1m[36mFilling Load (1.1ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  Rendered carts/_order_items.haml (Duration: 9.2ms | Allocations: 4222)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 18]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.6ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 18]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 45.2ms | Allocations: 14576)
  Rendered layouts/_header_guess_user.haml (Duration: 0.4ms | Allocations: 177)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 26)
  Rendered layouts/_footer.haml (Duration: 0.6ms | Allocations: 121)
  Rendered layout layouts/application.haml (Duration: 49.5ms | Allocations: 16781)
Completed 200 OK in 63ms (Views: 48.2ms | ActiveRecord: 3.7ms | Allocations: 22374)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:13:13 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:13:13 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-02 15:13:13 +0300
Started GET "/custom_pizza/edit?order_item_id=3" for ::1 at 2023-05-02 15:13:14 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"3"}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:16:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:29:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mFilling Load (0.9ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/helpers/fillings_helper.rb:5:in `include_filling'
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 27.3ms | Allocations: 12716)
  Rendered layouts/_header_guess_user.haml (Duration: 0.3ms | Allocations: 175)
  Rendered layouts/_flesh.haml (Duration: 0.0ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.4ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 30.9ms | Allocations: 14931)
Completed 200 OK in 36ms (Views: 28.6ms | ActiveRecord: 3.5ms | Allocations: 16783)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:13:15 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:13:15 +0300
Started GET "/cart" for ::1 at 2023-05-02 15:13:18 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 18]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaPicture Load (0.3ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" = $2[0m  [["picturable_type", "Pizza"], ["picturable_id", 18]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  Rendered carts/_order_items.haml (Duration: 7.2ms | Allocations: 4019)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 18]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 18]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 24.5ms | Allocations: 14346)
  Rendered layouts/_header_guess_user.haml (Duration: 0.5ms | Allocations: 173)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 27.9ms | Allocations: 16520)
Completed 200 OK in 40ms (Views: 27.0ms | ActiveRecord: 3.0ms | Allocations: 21987)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:13:18 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-02 15:13:18 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:13:18 +0300
Started GET "/pizzas" for ::1 at 2023-05-02 15:13:22 +0300
Processing by PizzasController#index as HTML
  [1m[36mPizza Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."type" = $1[0m  [["type", "OrdinaryPizza"]]
  â†³ app/controllers/pizzas_controller.rb:5:in `index'
  Rendering layout layouts/application.haml
  Rendering pizzas/index.haml within layouts/application
  Rendered pizzas/_order_dropdown.haml (Duration: 0.7ms | Allocations: 496)
  [1m[36mPizza Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas"[0m
  â†³ app/views/pizzas/index.haml:12
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/pizzas/index.haml:13
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 1]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 2]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 3]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 4]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."type" = $1 ORDER BY "pizzas"."name" ASC LIMIT $2 OFFSET $3[0m  [["type", "OrdinaryPizza"], ["LIMIT", 12], ["OFFSET", 0]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mPizzaPicture Load (0.6ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13)[0m  [["picturable_type", "Pizza"], ["picturable_id", 1], ["picturable_id", 8], ["picturable_id", 12], ["picturable_id", 14], ["picturable_id", 9], ["picturable_id", 3], ["picturable_id", 10], ["picturable_id", 5], ["picturable_id", 2], ["picturable_id", 15], ["picturable_id", 11], ["picturable_id", 13]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  Rendered pizzas/_pizza.haml (Duration: 38.3ms | Allocations: 28229)
  Rendered pizzas/_view_more.haml (Duration: 0.1ms | Allocations: 51)
  Rendered pizzas/index.haml within layouts/application (Duration: 52.0ms | Allocations: 33269)
  Rendered layouts/_header_guess_user.haml (Duration: 0.3ms | Allocations: 173)
  Rendered layouts/_flesh.haml (Duration: 0.0ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 55.1ms | Allocations: 35433)
Completed 200 OK in 59ms (Views: 52.2ms | ActiveRecord: 3.9ms | Allocations: 36527)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:13:22 +0300
Started GET "/assets/medium.png" for ::1 at 2023-05-02 15:13:22 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:13:22 +0300
Started GET "/" for ::1 at 2023-05-02 15:13:24 +0300
Processing by HomesController#index as HTML
  [1m[36mPizza Load (2.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" INNER JOIN "order_items" ON "order_items"."pizza_id" = "pizzas"."id" INNER JOIN "orders" ON "orders"."id" = "order_items"."order_id" WHERE "pizzas"."type" = $1 AND "orders"."status" IN ($2, $3, $4, $5, $6) GROUP BY "pizzas"."id" ORDER BY sum(order_items.quantity) desc[0m  [["type", "OrdinaryPizza"], ["status", 4], ["status", 5], ["status", 6], ["status", 7], ["status", 8]]
  â†³ app/queries/pizzas/best_sellers_query.rb:12:in `call'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."type" = $1[0m  [["type", "OrdinaryPizza"]]
  â†³ app/controllers/homes_controller.rb:6:in `index'
  [1m[36mPizzaPicture Load (0.6ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16)[0m  [["picturable_type", "Pizza"], ["picturable_id", 1], ["picturable_id", 2], ["picturable_id", 3], ["picturable_id", 4], ["picturable_id", 5], ["picturable_id", 6], ["picturable_id", 7], ["picturable_id", 8], ["picturable_id", 9], ["picturable_id", 10], ["picturable_id", 11], ["picturable_id", 12], ["picturable_id", 13], ["picturable_id", 14], ["picturable_id", 15]]
  â†³ app/controllers/homes_controller.rb:6:in `index'
  Rendering layout layouts/application.haml
  Rendering homes/index.haml within layouts/application
  Rendered homes/_best_sellers.haml (Duration: 8.2ms | Allocations: 7708)
  Rendered homes/index.haml within layouts/application (Duration: 19.9ms | Allocations: 18184)
  Rendered layouts/_header_guess_user.haml (Duration: 0.4ms | Allocations: 195)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 24.1ms | Allocations: 20751)
Completed 200 OK in 47ms (Views: 26.0ms | ActiveRecord: 3.3ms | Allocations: 31131)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:13:24 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-02 15:13:24 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:13:24 +0300
Started GET "/pizzas" for ::1 at 2023-05-02 15:13:25 +0300
Processing by PizzasController#index as HTML
  [1m[36mPizza Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."type" = $1[0m  [["type", "OrdinaryPizza"]]
  â†³ app/controllers/pizzas_controller.rb:5:in `index'
  Rendering layout layouts/application.haml
  Rendering pizzas/index.haml within layouts/application
  Rendered pizzas/_order_dropdown.haml (Duration: 1.0ms | Allocations: 504)
  [1m[36mPizza Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas"[0m
  â†³ app/views/pizzas/index.haml:12
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/pizzas/index.haml:13
  [1m[36mPizza Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 1]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 2]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 3]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 4]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."type" = $1 ORDER BY "pizzas"."name" ASC LIMIT $2 OFFSET $3[0m  [["type", "OrdinaryPizza"], ["LIMIT", 12], ["OFFSET", 0]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mPizzaPicture Load (0.9ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13)[0m  [["picturable_type", "Pizza"], ["picturable_id", 1], ["picturable_id", 8], ["picturable_id", 12], ["picturable_id", 14], ["picturable_id", 9], ["picturable_id", 3], ["picturable_id", 10], ["picturable_id", 5], ["picturable_id", 2], ["picturable_id", 15], ["picturable_id", 11], ["picturable_id", 13]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  Rendered pizzas/_pizza.haml (Duration: 41.3ms | Allocations: 28256)
  Rendered pizzas/_view_more.haml (Duration: 0.1ms | Allocations: 49)
  Rendered pizzas/index.haml within layouts/application (Duration: 55.3ms | Allocations: 33336)
  Rendered layouts/_header_guess_user.haml (Duration: 0.4ms | Allocations: 173)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 58.8ms | Allocations: 35498)
Completed 200 OK in 63ms (Views: 54.0ms | ActiveRecord: 6.1ms | Allocations: 36712)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:13:25 +0300
Started GET "/assets/medium.png" for ::1 at 2023-05-02 15:13:25 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:13:25 +0300
Started GET "/pizzas" for ::1 at 2023-05-02 15:15:01 +0300
Processing by PizzasController#index as HTML
  [1m[36mPizza Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."type" = $1[0m  [["type", "OrdinaryPizza"]]
  â†³ app/controllers/pizzas_controller.rb:5:in `index'
  Rendering layout layouts/application.haml
  Rendering pizzas/index.haml within layouts/application
  Rendered pizzas/_order_dropdown.haml (Duration: 28.8ms | Allocations: 5686)
  [1m[36mPizza Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas"[0m
  â†³ app/views/pizzas/index.haml:12
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/pizzas/index.haml:13
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 1]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 2]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 3]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 4]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."type" = $1 ORDER BY "pizzas"."name" ASC LIMIT $2 OFFSET $3[0m  [["type", "OrdinaryPizza"], ["LIMIT", 12], ["OFFSET", 0]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mPizzaPicture Load (0.4ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13)[0m  [["picturable_type", "Pizza"], ["picturable_id", 1], ["picturable_id", 8], ["picturable_id", 12], ["picturable_id", 14], ["picturable_id", 9], ["picturable_id", 3], ["picturable_id", 10], ["picturable_id", 5], ["picturable_id", 2], ["picturable_id", 15], ["picturable_id", 11], ["picturable_id", 13]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  Rendered pizzas/_pizza.haml (Duration: 83.1ms | Allocations: 34796)
  Rendered pizzas/_view_more.haml (Duration: 4.0ms | Allocations: 2794)
  Rendered pizzas/index.haml within layouts/application (Duration: 196.0ms | Allocations: 56378)
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 7.7ms | Allocations: 5160)
  Rendered layouts/_flesh.haml (Duration: 2.6ms | Allocations: 2009)
  Rendered layouts/_footer.haml (Duration: 11.6ms | Allocations: 12631)
  Rendered layout layouts/application.haml (Duration: 228.5ms | Allocations: 84846)
Completed 200 OK in 245ms (Views: 230.3ms | ActiveRecord: 5.6ms | Allocations: 86473)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:15:01 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:15:01 +0300
Started GET "/assets/medium.png" for ::1 at 2023-05-02 15:15:01 +0300
Started GET "/cart" for ::1 at 2023-05-02 15:15:03 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.7ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizza Load (0.6ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 18]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaPicture Load (0.5ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" = $2[0m  [["picturable_type", "Pizza"], ["picturable_id", 18]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  Rendered carts/_order_items.haml (Duration: 24.6ms | Allocations: 21602)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 18]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 18]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 52.2ms | Allocations: 41140)
  [1m[36mOrderItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.5ms | Allocations: 850)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 58.4ms | Allocations: 44068)
Completed 200 OK in 79ms (Views: 58.5ms | ActiveRecord: 4.3ms | Allocations: 49975)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:15:04 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-02 15:15:04 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:15:04 +0300
Started GET "/custom_pizza/edit?order_item_id=3" for ::1 at 2023-05-02 15:15:06 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"3"}
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:16:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:29:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mPizzaDimension Load (0.6ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mFilling Load (1.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/helpers/fillings_helper.rb:5:in `include_filling'
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 43.1ms | Allocations: 35063)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.9ms | Allocations: 1767)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 51.8ms | Allocations: 39062)
Completed 200 OK in 58ms (Views: 48.9ms | ActiveRecord: 5.0ms | Allocations: 41330)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:15:06 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:15:06 +0300
Started PATCH "/custom_pizza?filling_id=9" for ::1 at 2023-05-02 15:15:09 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>3, "filling_id"=>"9", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 18], ["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
  [1m[36mPizzaFilling Delete All (0.4ms)[0m  [1m[31mDELETE FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" = $1 AND "pizza_fillings"."filling_id" = $2[0m  [["pizza_id", 18], ["filling_id", 9]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 19ms (ActiveRecord: 6.9ms | Allocations: 6226)


Started PATCH "/custom_pizza?filling_id=9" for ::1 at 2023-05-02 15:15:10 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>3, "filling_id"=>"9", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 18], ["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mPizzaFilling Create (0.6ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 18], ["filling_id", 9], ["created_at", "2023-05-02 12:15:10.372484"], ["updated_at", "2023-05-02 12:15:10.372484"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 21ms (ActiveRecord: 6.6ms | Allocations: 6504)


Started PATCH "/custom_pizza?filling_id=1" for ::1 at 2023-05-02 15:15:15 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>3, "filling_id"=>"1", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 18], ["id", 1], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
  [1m[36mPizzaFilling Delete All (0.4ms)[0m  [1m[31mDELETE FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" = $1 AND "pizza_fillings"."filling_id" = $2[0m  [["pizza_id", 18], ["filling_id", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 20ms (ActiveRecord: 8.0ms | Allocations: 5721)


Started PATCH "/custom_pizza?filling_id=2" for ::1 at 2023-05-02 15:15:16 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>3, "filling_id"=>"2", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 18], ["id", 2], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
  [1m[36mPizzaFilling Delete All (0.5ms)[0m  [1m[31mDELETE FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" = $1 AND "pizza_fillings"."filling_id" = $2[0m  [["pizza_id", 18], ["filling_id", 2]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 19ms (ActiveRecord: 7.5ms | Allocations: 5708)


Started PATCH "/custom_pizza?filling_id=3" for ::1 at 2023-05-02 15:15:16 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>3, "filling_id"=>"3", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 18], ["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
  [1m[36mPizzaFilling Delete All (0.4ms)[0m  [1m[31mDELETE FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" = $1 AND "pizza_fillings"."filling_id" = $2[0m  [["pizza_id", 18], ["filling_id", 3]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 18ms (ActiveRecord: 7.2ms | Allocations: 5701)


Started PATCH "/custom_pizza?filling_id=4" for ::1 at 2023-05-02 15:15:18 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>3, "filling_id"=>"4", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 18], ["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
  [1m[36mPizzaFilling Delete All (0.5ms)[0m  [1m[31mDELETE FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" = $1 AND "pizza_fillings"."filling_id" = $2[0m  [["pizza_id", 18], ["filling_id", 4]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 23ms (ActiveRecord: 7.4ms | Allocations: 5717)


Started PATCH "/custom_pizza?filling_id=5" for ::1 at 2023-05-02 15:15:19 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>3, "filling_id"=>"5", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 18], ["id", 5], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
  [1m[36mPizzaFilling Delete All (0.3ms)[0m  [1m[31mDELETE FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" = $1 AND "pizza_fillings"."filling_id" = $2[0m  [["pizza_id", 18], ["filling_id", 5]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 19ms (ActiveRecord: 6.9ms | Allocations: 5723)


Started PATCH "/custom_pizza?filling_id=6" for ::1 at 2023-05-02 15:15:19 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>3, "filling_id"=>"6", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 18], ["id", 6], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
  [1m[36mPizzaFilling Delete All (0.6ms)[0m  [1m[31mDELETE FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" = $1 AND "pizza_fillings"."filling_id" = $2[0m  [["pizza_id", 18], ["filling_id", 6]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 20ms (ActiveRecord: 7.2ms | Allocations: 5726)


Started PATCH "/custom_pizza?filling_id=7" for ::1 at 2023-05-02 15:15:20 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>3, "filling_id"=>"7", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 18], ["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
  [1m[36mPizzaFilling Delete All (0.4ms)[0m  [1m[31mDELETE FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" = $1 AND "pizza_fillings"."filling_id" = $2[0m  [["pizza_id", 18], ["filling_id", 7]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 19ms (ActiveRecord: 7.2ms | Allocations: 5708)


Started PATCH "/custom_pizza?filling_id=8" for ::1 at 2023-05-02 15:15:21 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>3, "filling_id"=>"8", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 18], ["id", 8], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
  [1m[36mPizzaFilling Delete All (0.5ms)[0m  [1m[31mDELETE FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" = $1 AND "pizza_fillings"."filling_id" = $2[0m  [["pizza_id", 18], ["filling_id", 8]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 19ms (ActiveRecord: 7.6ms | Allocations: 5708)


Started PATCH "/custom_pizza?filling_id=9" for ::1 at 2023-05-02 15:15:23 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>3, "filling_id"=>"9", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.6ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 18], ["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
  [1m[36mPizzaFilling Delete All (0.4ms)[0m  [1m[31mDELETE FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" = $1 AND "pizza_fillings"."filling_id" = $2[0m  [["pizza_id", 18], ["filling_id", 9]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 19ms (ActiveRecord: 7.6ms | Allocations: 5726)


Started PATCH "/custom_pizza?filling_id=11" for ::1 at 2023-05-02 15:15:24 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>3, "filling_id"=>"11", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 18], ["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
  [1m[36mPizzaFilling Delete All (0.3ms)[0m  [1m[31mDELETE FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" = $1 AND "pizza_fillings"."filling_id" = $2[0m  [["pizza_id", 18], ["filling_id", 11]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 26ms (ActiveRecord: 7.2ms | Allocations: 5693)


Started PATCH "/custom_pizza?filling_id=10" for ::1 at 2023-05-02 15:15:25 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>3, "filling_id"=>"10", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 18], ["id", 10], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
  [1m[36mPizzaFilling Delete All (0.4ms)[0m  [1m[31mDELETE FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" = $1 AND "pizza_fillings"."filling_id" = $2[0m  [["pizza_id", 18], ["filling_id", 10]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 20ms (ActiveRecord: 6.9ms | Allocations: 5721)


Started GET "/cart" for ::1 at 2023-05-02 15:15:30 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 18]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaPicture Load (0.5ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" = $2[0m  [["picturable_type", "Pizza"], ["picturable_id", 18]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  Rendered carts/_order_items.haml (Duration: 6.2ms | Allocations: 3621)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 18]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 18]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 27.4ms | Allocations: 13126)
  [1m[36mOrderItem Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.6ms | Allocations: 816)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 33.1ms | Allocations: 15945)
Completed 200 OK in 45ms (Views: 31.6ms | ActiveRecord: 4.0ms | Allocations: 21471)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:15:30 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:15:30 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-02 15:15:30 +0300
Started GET "/custom_pizza/edit?order_item_id=3" for ::1 at 2023-05-02 15:15:33 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"3"}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:16:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:29:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/helpers/fillings_helper.rb:5:in `include_filling'
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 19.6ms | Allocations: 10115)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.4ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.4ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 27.3ms | Allocations: 13869)
Completed 200 OK in 33ms (Views: 24.4ms | ActiveRecord: 4.1ms | Allocations: 15720)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:15:33 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:15:33 +0300
Started GET "/cart" for ::1 at 2023-05-02 15:15:36 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizza Load (0.6ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 18]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaPicture Load (0.4ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" = $2[0m  [["picturable_type", "Pizza"], ["picturable_id", 18]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  Rendered carts/_order_items.haml (Duration: 7.1ms | Allocations: 3566)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 18]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 18]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 22.8ms | Allocations: 13064)
  [1m[36mOrderItem Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.5ms | Allocations: 816)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 28.5ms | Allocations: 15879)
Completed 200 OK in 41ms (Views: 27.1ms | ActiveRecord: 3.8ms | Allocations: 21335)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:15:36 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-02 15:15:36 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:15:36 +0300
Started GET "/custom_pizza/edit?order_item_id=3" for ::1 at 2023-05-02 15:15:39 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"3"}
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:16:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:29:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mOrdinaryFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/helpers/fillings_helper.rb:5:in `include_filling'
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 18.3ms | Allocations: 10082)
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 5.3ms | Allocations: 1716)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.6ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 27.7ms | Allocations: 13839)
Completed 200 OK in 33ms (Views: 26.0ms | ActiveRecord: 2.7ms | Allocations: 15687)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:15:39 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:15:39 +0300
Started PATCH "/custom_pizza?filling_id=1" for ::1 at 2023-05-02 15:15:42 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>3, "filling_id"=>"1", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 18], ["id", 1], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mPizzaFilling Create (0.5ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 18], ["filling_id", 1], ["created_at", "2023-05-02 12:15:42.469144"], ["updated_at", "2023-05-02 12:15:42.469144"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 16ms (ActiveRecord: 3.4ms | Allocations: 6429)


Started GET "/cart" for ::1 at 2023-05-02 15:15:44 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 18]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaPicture Load (0.3ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" = $2[0m  [["picturable_type", "Pizza"], ["picturable_id", 18]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  Rendered carts/_order_items.haml (Duration: 6.8ms | Allocations: 3575)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 18]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 18]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 22.6ms | Allocations: 13072)
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.0ms | Allocations: 816)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 27.8ms | Allocations: 15887)
Completed 200 OK in 40ms (Views: 26.8ms | ActiveRecord: 2.9ms | Allocations: 21356)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:15:44 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:15:44 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-02 15:15:44 +0300
Started GET "/custom_pizza/edit?order_item_id=3" for ::1 at 2023-05-02 15:15:45 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"3"}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:16:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:29:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mFilling Load (0.9ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/helpers/fillings_helper.rb:5:in `include_filling'
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 26.0ms | Allocations: 10214)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 3.8ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 33.0ms | Allocations: 13969)
Completed 200 OK in 41ms (Views: 30.0ms | ActiveRecord: 4.3ms | Allocations: 15813)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:15:46 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:15:46 +0300
Started GET "/cart" for ::1 at 2023-05-02 15:15:51 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 18]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaPicture Load (0.3ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" = $2[0m  [["picturable_type", "Pizza"], ["picturable_id", 18]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  Rendered carts/_order_items.haml (Duration: 6.2ms | Allocations: 3565)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 18]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 18]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.1ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 22.9ms | Allocations: 13062)
  [1m[36mOrderItem Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.6ms | Allocations: 816)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 28.5ms | Allocations: 15877)
Completed 200 OK in 44ms (Views: 27.2ms | ActiveRecord: 3.1ms | Allocations: 21341)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:15:51 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:15:51 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-02 15:15:51 +0300
Started GET "/custom_pizza/edit?order_item_id=3" for ::1 at 2023-05-02 15:15:53 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"3"}
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:16:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:29:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/helpers/fillings_helper.rb:5:in `include_filling'
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 28.5ms | Allocations: 10190)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 5.6ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.4ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 38.7ms | Allocations: 13943)
Completed 200 OK in 44ms (Views: 35.7ms | ActiveRecord: 4.1ms | Allocations: 15787)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:15:53 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:15:53 +0300
Started GET "/cart" for ::1 at 2023-05-02 15:15:58 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 18]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaPicture Load (0.4ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" = $2[0m  [["picturable_type", "Pizza"], ["picturable_id", 18]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  Rendered carts/_order_items.haml (Duration: 6.1ms | Allocations: 3565)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 18]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 18]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."type" = $2[0m  [["pizza_id", 18], ["type", "AdditionalFilling"]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 22.3ms | Allocations: 13062)
  [1m[36mOrderItem Count (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.5ms | Allocations: 816)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 28.3ms | Allocations: 15877)
Completed 200 OK in 40ms (Views: 26.8ms | ActiveRecord: 3.3ms | Allocations: 21356)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:15:58 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:15:58 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-02 15:15:58 +0300
Started GET "/cart" for ::1 at 2023-05-02 15:16:30 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 18]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaPicture Load (0.3ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" = $2[0m  [["picturable_type", "Pizza"], ["picturable_id", 18]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  Rendered carts/_order_items.haml (Duration: 47.7ms | Allocations: 14101)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 18]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 18]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 66.9ms | Allocations: 26326)
  [1m[36mOrderItem Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.6ms | Allocations: 919)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 72.7ms | Allocations: 29423)
Completed 200 OK in 163ms (Views: 60.2ms | ActiveRecord: 44.0ms | Allocations: 53242)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:16:30 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:16:30 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-02 15:16:30 +0300
Started GET "/custom_pizza/edit?order_item_id=3" for ::1 at 2023-05-02 15:16:32 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"3"}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:16:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:29:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 22.4ms | Allocations: 11778)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.6ms | Allocations: 1772)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 30.1ms | Allocations: 15781)
Completed 200 OK in 38ms (Views: 28.3ms | ActiveRecord: 4.0ms | Allocations: 19110)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:16:32 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:16:32 +0300
Started PATCH "/custom_pizza?filling_id=7" for ::1 at 2023-05-02 15:16:36 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>3, "filling_id"=>"7", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 18], ["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mPizzaFilling Create (0.9ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 18], ["filling_id", 7], ["created_at", "2023-05-02 12:16:36.285016"], ["updated_at", "2023-05-02 12:16:36.285016"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 28ms (ActiveRecord: 7.6ms | Allocations: 8799)


Started PATCH "/custom_pizza?filling_id=6" for ::1 at 2023-05-02 15:16:36 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>3, "filling_id"=>"6", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.1ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 18], ["id", 6], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mPizzaFilling Create (0.4ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 18], ["filling_id", 6], ["created_at", "2023-05-02 12:16:36.706467"], ["updated_at", "2023-05-02 12:16:36.706467"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 20ms (ActiveRecord: 7.0ms | Allocations: 6475)


Started PATCH "/custom_pizza?filling_id=5" for ::1 at 2023-05-02 15:16:37 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>3, "filling_id"=>"5", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 18], ["id", 5], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mPizzaFilling Create (0.5ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 18], ["filling_id", 5], ["created_at", "2023-05-02 12:16:37.323536"], ["updated_at", "2023-05-02 12:16:37.323536"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 20ms (ActiveRecord: 7.2ms | Allocations: 6443)


Started PATCH "/custom_pizza?filling_id=4" for ::1 at 2023-05-02 15:16:37 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>3, "filling_id"=>"4", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 18], ["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mPizzaFilling Create (0.8ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 18], ["filling_id", 4], ["created_at", "2023-05-02 12:16:37.667132"], ["updated_at", "2023-05-02 12:16:37.667132"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 17ms (ActiveRecord: 4.0ms | Allocations: 6427)


Started PATCH "/custom_pizza?filling_id=2" for ::1 at 2023-05-02 15:16:38 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>3, "filling_id"=>"2", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 18], ["id", 2], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mPizzaFilling Create (0.5ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 18], ["filling_id", 2], ["created_at", "2023-05-02 12:16:38.464592"], ["updated_at", "2023-05-02 12:16:38.464592"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 20ms (ActiveRecord: 7.1ms | Allocations: 6437)


Started PATCH "/custom_pizza?filling_id=8" for ::1 at 2023-05-02 15:16:39 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>3, "filling_id"=>"8", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 18], ["id", 8], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mPizzaFilling Create (0.8ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 18], ["filling_id", 8], ["created_at", "2023-05-02 12:16:39.206438"], ["updated_at", "2023-05-02 12:16:39.206438"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 21ms (ActiveRecord: 7.6ms | Allocations: 6425)


Started PATCH "/custom_pizza?filling_id=3" for ::1 at 2023-05-02 15:16:41 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>3, "filling_id"=>"3", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 18], ["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mPizzaFilling Create (0.5ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 18], ["filling_id", 3], ["created_at", "2023-05-02 12:16:41.224188"], ["updated_at", "2023-05-02 12:16:41.224188"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 20ms (ActiveRecord: 7.1ms | Allocations: 6434)


Started PATCH "/custom_pizza?filling_id=9" for ::1 at 2023-05-02 15:16:42 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>3, "filling_id"=>"9", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 18], ["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mPizzaFilling Create (0.7ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 18], ["filling_id", 9], ["created_at", "2023-05-02 12:16:42.757094"], ["updated_at", "2023-05-02 12:16:42.757094"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 26ms (ActiveRecord: 7.8ms | Allocations: 6428)


Started PATCH "/custom_pizza?filling_id=10" for ::1 at 2023-05-02 15:16:43 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>3, "filling_id"=>"10", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 18], ["id", 10], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mPizzaFilling Create (0.9ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 18], ["filling_id", 10], ["created_at", "2023-05-02 12:16:43.307898"], ["updated_at", "2023-05-02 12:16:43.307898"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 21ms (ActiveRecord: 4.5ms | Allocations: 6412)


Started PATCH "/custom_pizza?filling_id=11" for ::1 at 2023-05-02 15:16:43 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>3, "filling_id"=>"11", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 18], ["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mPizzaFilling Create (0.8ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 18], ["filling_id", 11], ["created_at", "2023-05-02 12:16:43.783994"], ["updated_at", "2023-05-02 12:16:43.783994"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 36ms (ActiveRecord: 8.0ms | Allocations: 6423)


Started GET "/cart" for ::1 at 2023-05-02 15:16:45 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 18]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaPicture Load (0.3ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" = $2[0m  [["picturable_type", "Pizza"], ["picturable_id", 18]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
  [1m[36mFilling Load (0.9ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  Rendered carts/_order_items.haml (Duration: 9.9ms | Allocations: 5445)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 18]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 18]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.1ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 29.4ms | Allocations: 18044)
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 3.4ms | Allocations: 833)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 26)
  Rendered layouts/_footer.haml (Duration: 0.6ms | Allocations: 121)
  Rendered layout layouts/application.haml (Duration: 37.9ms | Allocations: 20903)
Completed 200 OK in 50ms (Views: 36.5ms | ActiveRecord: 3.4ms | Allocations: 26484)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:16:45 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-02 15:16:45 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:16:45 +0300
Started GET "/custom_pizza/edit?order_item_id=3" for ::1 at 2023-05-02 15:16:51 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"3"}
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:16:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:29:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 20.4ms | Allocations: 12349)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 3.5ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 26.7ms | Allocations: 16102)
Completed 200 OK in 31ms (Views: 25.4ms | ActiveRecord: 2.4ms | Allocations: 17952)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:16:52 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:16:52 +0300
Started GET "/cart" for ::1 at 2023-05-02 15:16:54 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 18]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaPicture Load (0.3ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" = $2[0m  [["picturable_type", "Pizza"], ["picturable_id", 18]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
  [1m[36mFilling Load (0.9ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  Rendered carts/_order_items.haml (Duration: 9.6ms | Allocations: 5206)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 18]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 18]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 28.5ms | Allocations: 17779)
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.0ms | Allocations: 816)
  Rendered layouts/_flesh.haml (Duration: 0.0ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 33.4ms | Allocations: 20596)
Completed 200 OK in 46ms (Views: 31.9ms | ActiveRecord: 3.6ms | Allocations: 26051)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:16:54 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-02 15:16:55 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:16:55 +0300
Started GET "/pizzas" for ::1 at 2023-05-02 15:16:59 +0300
Processing by PizzasController#index as HTML
  [1m[36mPizza Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."type" = $1[0m  [["type", "OrdinaryPizza"]]
  â†³ app/controllers/pizzas_controller.rb:5:in `index'
  Rendering layout layouts/application.haml
  Rendering pizzas/index.haml within layouts/application
  Rendered pizzas/_order_dropdown.haml (Duration: 1.0ms | Allocations: 544)
  [1m[36mPizza Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas"[0m
  â†³ app/views/pizzas/index.haml:12
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/pizzas/index.haml:13
  [1m[36mPizza Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 1]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 2]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 3]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 4]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."type" = $1 ORDER BY "pizzas"."name" ASC LIMIT $2 OFFSET $3[0m  [["type", "OrdinaryPizza"], ["LIMIT", 12], ["OFFSET", 0]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mPizzaPicture Load (0.9ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13)[0m  [["picturable_type", "Pizza"], ["picturable_id", 1], ["picturable_id", 8], ["picturable_id", 12], ["picturable_id", 14], ["picturable_id", 9], ["picturable_id", 3], ["picturable_id", 10], ["picturable_id", 5], ["picturable_id", 2], ["picturable_id", 15], ["picturable_id", 11], ["picturable_id", 13]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  Rendered pizzas/_pizza.haml (Duration: 50.8ms | Allocations: 31768)
  Rendered pizzas/_view_more.haml (Duration: 0.1ms | Allocations: 62)
  Rendered pizzas/index.haml within layouts/application (Duration: 77.2ms | Allocations: 38753)
  [1m[36mOrderItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.3ms | Allocations: 943)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 82.3ms | Allocations: 41753)
Completed 200 OK in 89ms (Views: 72.5ms | ActiveRecord: 12.3ms | Allocations: 43681)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:16:59 +0300
Started GET "/assets/medium.png" for ::1 at 2023-05-02 15:17:00 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:17:00 +0300
Started GET "/custom_pizza/new" for ::1 at 2023-05-02 15:17:00 +0300
Processing by CustomPizzasController#new as HTML
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/new.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/new.haml:15:in `map'
  [1m[36mOrdinaryFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/new.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/new.haml:40
  Rendered custom_pizzas/new.haml within layouts/application (Duration: 25.5ms | Allocations: 25306)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.1ms | Allocations: 1799)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 27)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 121)
  Rendered layout layouts/application.haml (Duration: 32.6ms | Allocations: 29276)
Completed 200 OK in 37ms (Views: 31.2ms | ActiveRecord: 2.3ms | Allocations: 30825)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:17:00 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:17:01 +0300
Started POST "/custom_pizza" for ::1 at 2023-05-02 15:17:14 +0300
Processing by CustomPizzasController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "custom_pizza"=>{"fillings"=>"1,2,3,4,5,6,7,8,9,10,11", "pizza_dimension"=>"30.0"}, "filling"=>"on", "commit"=>"create pizza"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)[0m  [["id", 1], ["id", 2], ["id", 3], ["id", 4], ["id", 5], ["id", 6], ["id", 7], ["id", 8], ["id", 9], ["id", 10], ["id", 11]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:31:in `current_form'
  [1m[36mPizzaDimension Load (0.6ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."dimension" = $1 LIMIT $2[0m  [["dimension", 30.0], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:23:in `pizza_dimension'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Custom"], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:43:in `create_pizza_params'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mCustomPizza Create (1.3ms)[0m  [1m[32mINSERT INTO "pizzas" ("name", "price_cents", "price_currency", "description", "category_id", "pizza_dimension_id", "created_at", "updated_at", "type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "custom_pizza"], ["price_cents", 1000], ["price_currency", "USD"], ["description", "none"], ["category_id", 4], ["pizza_dimension_id", 1], ["created_at", "2023-05-02 12:17:14.198915"], ["updated_at", "2023-05-02 12:17:14.198915"], ["type", "CustomPizza"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.7ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 19], ["filling_id", 1], ["created_at", "2023-05-02 12:17:14.203029"], ["updated_at", "2023-05-02 12:17:14.203029"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.5ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 19], ["filling_id", 2], ["created_at", "2023-05-02 12:17:14.206688"], ["updated_at", "2023-05-02 12:17:14.206688"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.6ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 19], ["filling_id", 3], ["created_at", "2023-05-02 12:17:14.209630"], ["updated_at", "2023-05-02 12:17:14.209630"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.6ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 19], ["filling_id", 4], ["created_at", "2023-05-02 12:17:14.212853"], ["updated_at", "2023-05-02 12:17:14.212853"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.5ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 19], ["filling_id", 5], ["created_at", "2023-05-02 12:17:14.216282"], ["updated_at", "2023-05-02 12:17:14.216282"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.6ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 19], ["filling_id", 6], ["created_at", "2023-05-02 12:17:14.219187"], ["updated_at", "2023-05-02 12:17:14.219187"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.5ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 19], ["filling_id", 7], ["created_at", "2023-05-02 12:17:14.222349"], ["updated_at", "2023-05-02 12:17:14.222349"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.6ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 19], ["filling_id", 8], ["created_at", "2023-05-02 12:17:14.225289"], ["updated_at", "2023-05-02 12:17:14.225289"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.4ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 19], ["filling_id", 9], ["created_at", "2023-05-02 12:17:14.228742"], ["updated_at", "2023-05-02 12:17:14.228742"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.4ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 19], ["filling_id", 10], ["created_at", "2023-05-02 12:17:14.231506"], ["updated_at", "2023-05-02 12:17:14.231506"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.3ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 19], ["filling_id", 11], ["created_at", "2023-05-02 12:17:14.234702"], ["updated_at", "2023-05-02 12:17:14.234702"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/create_custom_pizza.rb:15:in `create_order_item'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:15:in `create_order_item'
  [1m[36mOrderItem Create (0.8ms)[0m  [1m[32mINSERT INTO "order_items" ("price_cents", "price_currency", "quantity", "pizza_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["price_cents", 0], ["price_currency", "USD"], ["quantity", 1], ["pizza_id", 19], ["order_id", 4], ["created_at", "2023-05-02 12:17:14.249961"], ["updated_at", "2023-05-02 12:17:14.249961"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:15:in `create_order_item'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/create_custom_pizza.rb:15:in `create_order_item'
Redirected to http://localhost:3000/cart
Completed 302 Found in 104ms (ActiveRecord: 17.3ms | Allocations: 40540)


Started GET "/cart" for ::1 at 2023-05-02 15:17:14 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaPicture Load (0.3ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3)[0m  [["picturable_type", "Pizza"], ["picturable_id", 18], ["picturable_id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 19]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  Rendered carts/_order_items.haml (Duration: 33.2ms | Allocations: 11732)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 19]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 19]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 69.3ms | Allocations: 33502)
  [1m[36mOrderItem Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.0ms | Allocations: 838)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 27)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 121)
  Rendered layout layouts/application.haml (Duration: 74.6ms | Allocations: 36394)
Completed 200 OK in 88ms (Views: 73.0ms | ActiveRecord: 3.5ms | Allocations: 42839)


user: siplusplus
GET /cart
USE eager loading detected
  CustomPizza => [:fillings]
  Add to your query: .includes([:fillings])
Call stack
  /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13:in `amount_pay'
  /home/siplusplus/done_pj/website_pizzeria/app/views/carts/_order_items.haml:19:in `block in _app_views_carts__order_items_haml___1205173719840089461_113980'
  /home/siplusplus/done_pj/website_pizzeria/app/views/carts/_order_items.haml:1:in `each'
  /home/siplusplus/done_pj/website_pizzeria/app/views/carts/_order_items.haml:1:in `_app_views_carts__order_items_haml___1205173719840089461_113980'
  /home/siplusplus/done_pj/website_pizzeria/app/views/carts/show.haml:16:in `_app_views_carts_show_haml___2220714381488188692_113960'


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:17:14 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:17:14 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-02 15:17:14 +0300
Started GET "/cart" for ::1 at 2023-05-02 15:17:46 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
Completed 500 Internal Server Error in 28ms (ActiveRecord: 10.5ms | Allocations: 6830)


  
SyntaxError (/home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13: syntax error, unexpected local variable or method, expecting `end'
...a.includes([:fillings])fillings.sum(&:price)
...                       ^~~~~~~~
):
  
app/decorators/order_item_decorator.rb:13: syntax error, unexpected local variable or method, expecting `end'
app/decorators/order_item_decorator.rb:13: syntax error, unexpected local variable or method, expecting `end'
app/controllers/carts_controller.rb:3:in `show'
Started GET "/cart" for ::1 at 2023-05-02 15:18:03 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaPicture Load (0.8ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3)[0m  [["picturable_type", "Pizza"], ["picturable_id", 18], ["picturable_id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
  Rendered carts/_order_items.haml (Duration: 31.9ms | Allocations: 8766)
  Rendered carts/show.haml within layouts/application (Duration: 32.5ms | Allocations: 8845)
  Rendered layout layouts/application.haml (Duration: 32.7ms | Allocations: 8926)
Completed 500 Internal Server Error in 128ms (ActiveRecord: 35.3ms | Allocations: 33514)


  
ActionView::Template::Error (undefined method `includes' for #<CustomPizza id: 18, name: "custom_pizza", price_cents: 1000, price_currency: "USD", description: "none", category_id: 4, pizza_dimension_id: 1, created_at: "2023-05-02 12:12:46.355425000 +0000", updated_at: "2023-05-02 12:12:46.355425000 +0000", type: "CustomPizza">):
    16:         %a.input-link.d-none.plus-pizza-quantity{ data: { id: order_item.id, pizza_id: order_item.pizza.id, authenticity_token: form_authenticity_token } }
    17:           %i.fa.fa-plus.line-heaght-40
    18:     %td
    19:       %span.font-16.in-gold-500.subtotal{ data: { price: order_item.pizza.price.cents, currency: order_item.price.currency.symbol }, class: "#{order_item.id}" }= order_item.amount_pay.format
    20:     %td
    21:       %button.close.general-cart-close.delete-order-item{type: "button", 'aria-label': "Close", class: "#{order_item.id}", data: { id: order_item.id, authenticity_token: form_authenticity_token } }
    22:         %span{'aria-hidden': "true"} &times;
  
app/decorators/order_item_decorator.rb:13:in `amount_pay'
app/views/carts/_order_items.haml:19
app/views/carts/_order_items.haml:1:in `each'
app/views/carts/_order_items.haml:1
app/views/carts/show.haml:16
Started GET "/cart" for ::1 at 2023-05-02 15:18:17 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaPicture Load (0.3ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3)[0m  [["picturable_type", "Pizza"], ["picturable_id", 18], ["picturable_id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mFilling Load (1.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 19]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  Rendered carts/_order_items.haml (Duration: 79.8ms | Allocations: 23162)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 19]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 19]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 132.3ms | Allocations: 46584)
  [1m[36mOrderItem Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.6ms | Allocations: 920)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 139.3ms | Allocations: 49684)
Completed 200 OK in 237ms (Views: 125.3ms | ActiveRecord: 42.2ms | Allocations: 74291)


user: siplusplus
GET /cart
USE eager loading detected
  CustomPizza => [:fillings]
  Add to your query: .includes([:fillings])
Call stack
  /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13:in `amount_pay'
  /home/siplusplus/done_pj/website_pizzeria/app/views/carts/_order_items.haml:19:in `block in _app_views_carts__order_items_haml___1205173719840089461_113980'
  /home/siplusplus/done_pj/website_pizzeria/app/views/carts/_order_items.haml:1:in `each'
  /home/siplusplus/done_pj/website_pizzeria/app/views/carts/_order_items.haml:1:in `_app_views_carts__order_items_haml___1205173719840089461_113980'
  /home/siplusplus/done_pj/website_pizzeria/app/views/carts/show.haml:16:in `_app_views_carts_show_haml___2220714381488188692_113960'


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:18:17 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:18:17 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-02 15:18:17 +0300
Started GET "/cart" for ::1 at 2023-05-02 15:19:02 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaPicture Load (0.4ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3)[0m  [["picturable_type", "Pizza"], ["picturable_id", 18], ["picturable_id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
  Rendered carts/_order_items.haml (Duration: 24.9ms | Allocations: 8730)
  Rendered carts/show.haml within layouts/application (Duration: 25.2ms | Allocations: 8807)
  Rendered layout layouts/application.haml (Duration: 25.4ms | Allocations: 8888)
Completed 500 Internal Server Error in 113ms (ActiveRecord: 29.8ms | Allocations: 33454)


  
ActionView::Template::Error (undefined method `includes' for #<CustomPizza id: 18, name: "custom_pizza", price_cents: 1000, price_currency: "USD", description: "none", category_id: 4, pizza_dimension_id: 1, created_at: "2023-05-02 12:12:46.355425000 +0000", updated_at: "2023-05-02 12:12:46.355425000 +0000", type: "CustomPizza">):
    16:         %a.input-link.d-none.plus-pizza-quantity{ data: { id: order_item.id, pizza_id: order_item.pizza.id, authenticity_token: form_authenticity_token } }
    17:           %i.fa.fa-plus.line-heaght-40
    18:     %td
    19:       %span.font-16.in-gold-500.subtotal{ data: { price: order_item.pizza.price.cents, currency: order_item.price.currency.symbol }, class: "#{order_item.id}" }= order_item.amount_pay.format
    20:     %td
    21:       %button.close.general-cart-close.delete-order-item{type: "button", 'aria-label': "Close", class: "#{order_item.id}", data: { id: order_item.id, authenticity_token: form_authenticity_token } }
    22:         %span{'aria-hidden': "true"} &times;
  
app/decorators/order_item_decorator.rb:13:in `amount_pay'
app/views/carts/_order_items.haml:19
app/views/carts/_order_items.haml:1:in `each'
app/views/carts/_order_items.haml:1
app/views/carts/show.haml:16
Started GET "/cart" for ::1 at 2023-05-02 15:19:15 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaPicture Load (0.4ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3)[0m  [["picturable_type", "Pizza"], ["picturable_id", 18], ["picturable_id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
  Rendered carts/_order_items.haml (Duration: 27.5ms | Allocations: 8169)
  Rendered carts/show.haml within layouts/application (Duration: 27.8ms | Allocations: 8246)
  Rendered layout layouts/application.haml (Duration: 28.0ms | Allocations: 8327)
Completed 500 Internal Server Error in 121ms (ActiveRecord: 30.7ms | Allocations: 32907)


  
ActionView::Template::Error (undefined method `includes' for #<OrderItem id: 3, price_cents: 0, price_currency: "USD", quantity: 1, pizza_id: 18, order_id: 4, created_at: "2023-05-02 12:12:46.367649000 +0000", updated_at: "2023-05-02 12:12:46.367649000 +0000">):
    16:         %a.input-link.d-none.plus-pizza-quantity{ data: { id: order_item.id, pizza_id: order_item.pizza.id, authenticity_token: form_authenticity_token } }
    17:           %i.fa.fa-plus.line-heaght-40
    18:     %td
    19:       %span.font-16.in-gold-500.subtotal{ data: { price: order_item.pizza.price.cents, currency: order_item.price.currency.symbol }, class: "#{order_item.id}" }= order_item.amount_pay.format
    20:     %td
    21:       %button.close.general-cart-close.delete-order-item{type: "button", 'aria-label': "Close", class: "#{order_item.id}", data: { id: order_item.id, authenticity_token: form_authenticity_token } }
    22:         %span{'aria-hidden': "true"} &times;
  
app/decorators/order_item_decorator.rb:13:in `amount_pay'
app/views/carts/_order_items.haml:19
app/views/carts/_order_items.haml:1:in `each'
app/views/carts/_order_items.haml:1
app/views/carts/show.haml:16
Started GET "/cart" for ::1 at 2023-05-02 15:19:23 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizza Load (0.6ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaPicture Load (0.4ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3)[0m  [["picturable_type", "Pizza"], ["picturable_id", 18], ["picturable_id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  Rendered carts/_order_items.haml (Duration: 63.8ms | Allocations: 17860)
  Rendered carts/show.haml within layouts/application (Duration: 64.1ms | Allocations: 17941)
  Rendered layout layouts/application.haml (Duration: 64.3ms | Allocations: 18022)
Completed 500 Internal Server Error in 152ms (ActiveRecord: 32.0ms | Allocations: 42601)


  
ActionView::Template::Error (undefined method `includes' for #<Money fractional:6404 currency:USD>):
    16:         %a.input-link.d-none.plus-pizza-quantity{ data: { id: order_item.id, pizza_id: order_item.pizza.id, authenticity_token: form_authenticity_token } }
    17:           %i.fa.fa-plus.line-heaght-40
    18:     %td
    19:       %span.font-16.in-gold-500.subtotal{ data: { price: order_item.pizza.price.cents, currency: order_item.price.currency.symbol }, class: "#{order_item.id}" }= order_item.amount_pay.format
    20:     %td
    21:       %button.close.general-cart-close.delete-order-item{type: "button", 'aria-label': "Close", class: "#{order_item.id}", data: { id: order_item.id, authenticity_token: form_authenticity_token } }
    22:         %span{'aria-hidden': "true"} &times;
  
app/decorators/order_item_decorator.rb:13:in `amount_pay'
app/views/carts/_order_items.haml:19
app/views/carts/_order_items.haml:1:in `each'
app/views/carts/_order_items.haml:1
app/views/carts/show.haml:16
Started GET "/cart" for ::1 at 2023-05-02 15:19:33 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaPicture Load (0.6ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3)[0m  [["picturable_type", "Pizza"], ["picturable_id", 18], ["picturable_id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mFilling Load (0.9ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 19]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  Rendered carts/_order_items.haml (Duration: 78.0ms | Allocations: 23162)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 19]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 19]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 134.7ms | Allocations: 46578)
  [1m[36mOrderItem Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.5ms | Allocations: 920)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 142.0ms | Allocations: 49678)
Completed 200 OK in 241ms (Views: 131.1ms | ActiveRecord: 46.7ms | Allocations: 74284)


user: siplusplus
GET /cart
USE eager loading detected
  CustomPizza => [:fillings]
  Add to your query: .includes([:fillings])
Call stack
  /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13:in `amount_pay'
  /home/siplusplus/done_pj/website_pizzeria/app/views/carts/_order_items.haml:19:in `block in _app_views_carts__order_items_haml___1205173719840089461_113980'
  /home/siplusplus/done_pj/website_pizzeria/app/views/carts/_order_items.haml:1:in `each'
  /home/siplusplus/done_pj/website_pizzeria/app/views/carts/_order_items.haml:1:in `_app_views_carts__order_items_haml___1205173719840089461_113980'
  /home/siplusplus/done_pj/website_pizzeria/app/views/carts/show.haml:16:in `_app_views_carts_show_haml___2220714381488188692_113960'


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:19:33 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:19:33 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-02 15:19:33 +0300
Started GET "/cart" for ::1 at 2023-05-02 15:20:03 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
Completed 500 Internal Server Error in 29ms (ActiveRecord: 11.2ms | Allocations: 6764)


  
SyntaxError (/home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13: syntax error, unexpected local variable or method, expecting `end'
...des([pizza: :fillings])fillings.sum(&:price)
...                       ^~~~~~~~
):
  
app/decorators/order_item_decorator.rb:13: syntax error, unexpected local variable or method, expecting `end'
app/decorators/order_item_decorator.rb:13: syntax error, unexpected local variable or method, expecting `end'
app/controllers/carts_controller.rb:3:in `show'
Started GET "/cart" for ::1 at 2023-05-02 15:20:15 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaPicture Load (0.4ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3)[0m  [["picturable_type", "Pizza"], ["picturable_id", 18], ["picturable_id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
  Rendered carts/_order_items.haml (Duration: 37.1ms | Allocations: 8732)
  Rendered carts/show.haml within layouts/application (Duration: 37.5ms | Allocations: 8809)
  Rendered layout layouts/application.haml (Duration: 37.7ms | Allocations: 8890)
Completed 500 Internal Server Error in 140ms (ActiveRecord: 36.5ms | Allocations: 33465)


  
ActionView::Template::Error (undefined method `includes' for #<CustomPizza id: 18, name: "custom_pizza", price_cents: 1000, price_currency: "USD", description: "none", category_id: 4, pizza_dimension_id: 1, created_at: "2023-05-02 12:12:46.355425000 +0000", updated_at: "2023-05-02 12:12:46.355425000 +0000", type: "CustomPizza">):
    16:         %a.input-link.d-none.plus-pizza-quantity{ data: { id: order_item.id, pizza_id: order_item.pizza.id, authenticity_token: form_authenticity_token } }
    17:           %i.fa.fa-plus.line-heaght-40
    18:     %td
    19:       %span.font-16.in-gold-500.subtotal{ data: { price: order_item.pizza.price.cents, currency: order_item.price.currency.symbol }, class: "#{order_item.id}" }= order_item.amount_pay.format
    20:     %td
    21:       %button.close.general-cart-close.delete-order-item{type: "button", 'aria-label': "Close", class: "#{order_item.id}", data: { id: order_item.id, authenticity_token: form_authenticity_token } }
    22:         %span{'aria-hidden': "true"} &times;
  
app/decorators/order_item_decorator.rb:13:in `amount_pay'
app/views/carts/_order_items.haml:19
app/views/carts/_order_items.haml:1:in `each'
app/views/carts/_order_items.haml:1
app/views/carts/show.haml:16
Started GET "/cart" for ::1 at 2023-05-02 15:20:28 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaPicture Load (0.4ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3)[0m  [["picturable_type", "Pizza"], ["picturable_id", 18], ["picturable_id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
  [1m[36mFilling Load (0.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mFilling Load (1.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 19]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  Rendered carts/_order_items.haml (Duration: 79.9ms | Allocations: 23188)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 19]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 19]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 121.8ms | Allocations: 46608)
  [1m[36mOrderItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.7ms | Allocations: 919)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 130.2ms | Allocations: 49705)
Completed 200 OK in 213ms (Views: 116.9ms | ActiveRecord: 36.9ms | Allocations: 74302)


user: siplusplus
GET /cart
USE eager loading detected
  CustomPizza => [:fillings]
  Add to your query: .includes([:fillings])
Call stack
  /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13:in `amount_pay'
  /home/siplusplus/done_pj/website_pizzeria/app/views/carts/_order_items.haml:19:in `block in _app_views_carts__order_items_haml___1205173719840089461_113980'
  /home/siplusplus/done_pj/website_pizzeria/app/views/carts/_order_items.haml:1:in `each'
  /home/siplusplus/done_pj/website_pizzeria/app/views/carts/_order_items.haml:1:in `_app_views_carts__order_items_haml___1205173719840089461_113980'
  /home/siplusplus/done_pj/website_pizzeria/app/views/carts/show.haml:16:in `_app_views_carts_show_haml___2220714381488188692_113960'


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:20:28 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:20:28 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-02 15:20:28 +0300
Started GET "/cart" for ::1 at 2023-05-02 15:21:16 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizza Load (0.6ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaPicture Load (0.9ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3)[0m  [["picturable_type", "Pizza"], ["picturable_id", 18], ["picturable_id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
  Rendered carts/_order_items.haml (Duration: 25.0ms | Allocations: 8684)
  Rendered carts/show.haml within layouts/application (Duration: 25.4ms | Allocations: 8761)
  Rendered layout layouts/application.haml (Duration: 25.6ms | Allocations: 8842)
Completed 500 Internal Server Error in 119ms (ActiveRecord: 35.8ms | Allocations: 33344)


  
ActionView::Template::Error (undefined method `includes' for #<CustomPizza id: 18, name: "custom_pizza", price_cents: 1000, price_currency: "USD", description: "none", category_id: 4, pizza_dimension_id: 1, created_at: "2023-05-02 12:12:46.355425000 +0000", updated_at: "2023-05-02 12:12:46.355425000 +0000", type: "CustomPizza">):
    16:         %a.input-link.d-none.plus-pizza-quantity{ data: { id: order_item.id, pizza_id: order_item.pizza.id, authenticity_token: form_authenticity_token } }
    17:           %i.fa.fa-plus.line-heaght-40
    18:     %td
    19:       %span.font-16.in-gold-500.subtotal{ data: { price: order_item.pizza.price.cents, currency: order_item.price.currency.symbol }, class: "#{order_item.id}" }= order_item.amount_pay.format
    20:     %td
    21:       %button.close.general-cart-close.delete-order-item{type: "button", 'aria-label': "Close", class: "#{order_item.id}", data: { id: order_item.id, authenticity_token: form_authenticity_token } }
    22:         %span{'aria-hidden': "true"} &times;
  
app/decorators/order_item_decorator.rb:13:in `amount_pay'
app/views/carts/_order_items.haml:19
app/views/carts/_order_items.haml:1:in `each'
app/views/carts/_order_items.haml:1
app/views/carts/show.haml:16
Started GET "/cart" for ::1 at 2023-05-02 15:21:44 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaPicture Load (0.6ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3)[0m  [["picturable_type", "Pizza"], ["picturable_id", 18], ["picturable_id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
  Rendered carts/_order_items.haml (Duration: 40.3ms | Allocations: 8702)
  Rendered carts/show.haml within layouts/application (Duration: 40.6ms | Allocations: 8779)
  Rendered layout layouts/application.haml (Duration: 40.7ms | Allocations: 8860)
Completed 500 Internal Server Error in 155ms (ActiveRecord: 34.5ms | Allocations: 33451)


  
ActionView::Template::Error (undefined method `includes' for #<CustomPizza id: 18, name: "custom_pizza", price_cents: 1000, price_currency: "USD", description: "none", category_id: 4, pizza_dimension_id: 1, created_at: "2023-05-02 12:12:46.355425000 +0000", updated_at: "2023-05-02 12:12:46.355425000 +0000", type: "CustomPizza">):
    16:         %a.input-link.d-none.plus-pizza-quantity{ data: { id: order_item.id, pizza_id: order_item.pizza.id, authenticity_token: form_authenticity_token } }
    17:           %i.fa.fa-plus.line-heaght-40
    18:     %td
    19:       %span.font-16.in-gold-500.subtotal{ data: { price: order_item.pizza.price.cents, currency: order_item.price.currency.symbol }, class: "#{order_item.id}" }= order_item.amount_pay.format
    20:     %td
    21:       %button.close.general-cart-close.delete-order-item{type: "button", 'aria-label': "Close", class: "#{order_item.id}", data: { id: order_item.id, authenticity_token: form_authenticity_token } }
    22:         %span{'aria-hidden': "true"} &times;
  
app/decorators/order_item_decorator.rb:13:in `amount_pay'
app/views/carts/_order_items.haml:19
app/views/carts/_order_items.haml:1:in `each'
app/views/carts/_order_items.haml:1
app/views/carts/show.haml:16
Started GET "/cart" for ::1 at 2023-05-02 15:22:00 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaPicture Load (0.3ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3)[0m  [["picturable_type", "Pizza"], ["picturable_id", 18], ["picturable_id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
  Rendered carts/_order_items.haml (Duration: 36.5ms | Allocations: 8141)
  Rendered carts/show.haml within layouts/application (Duration: 36.8ms | Allocations: 8218)
  Rendered layout layouts/application.haml (Duration: 37.0ms | Allocations: 8299)
Completed 500 Internal Server Error in 128ms (ActiveRecord: 24.2ms | Allocations: 32893)


  
ActionView::Template::Error (undefined method `includes' for #<OrderItem id: 3, price_cents: 0, price_currency: "USD", quantity: 1, pizza_id: 18, order_id: 4, created_at: "2023-05-02 12:12:46.367649000 +0000", updated_at: "2023-05-02 12:12:46.367649000 +0000">):
    16:         %a.input-link.d-none.plus-pizza-quantity{ data: { id: order_item.id, pizza_id: order_item.pizza.id, authenticity_token: form_authenticity_token } }
    17:           %i.fa.fa-plus.line-heaght-40
    18:     %td
    19:       %span.font-16.in-gold-500.subtotal{ data: { price: order_item.pizza.price.cents, currency: order_item.price.currency.symbol }, class: "#{order_item.id}" }= order_item.amount_pay.format
    20:     %td
    21:       %button.close.general-cart-close.delete-order-item{type: "button", 'aria-label': "Close", class: "#{order_item.id}", data: { id: order_item.id, authenticity_token: form_authenticity_token } }
    22:         %span{'aria-hidden': "true"} &times;
  
app/decorators/order_item_decorator.rb:13:in `amount_pay'
app/views/carts/_order_items.haml:19
app/views/carts/_order_items.haml:1:in `each'
app/views/carts/_order_items.haml:1
app/views/carts/show.haml:16
Started GET "/cart" for ::1 at 2023-05-02 15:22:14 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaPicture Load (0.5ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3)[0m  [["picturable_type", "Pizza"], ["picturable_id", 18], ["picturable_id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 19]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
  Rendered carts/_order_items.haml (Duration: 90.3ms | Allocations: 23166)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:15:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 19]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:15:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:15:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 19]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:15:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 130.3ms | Allocations: 46590)
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.1ms | Allocations: 919)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.6ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 139.0ms | Allocations: 49689)
Completed 200 OK in 239ms (Views: 126.8ms | ActiveRecord: 45.0ms | Allocations: 74283)


user: siplusplus
GET /cart
USE eager loading detected
  CustomPizza => [:fillings]
  Add to your query: .includes([:fillings])
Call stack
  /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14:in `amount_pay'
  /home/siplusplus/done_pj/website_pizzeria/app/views/carts/_order_items.haml:19:in `block in _app_views_carts__order_items_haml___1205173719840089461_113980'
  /home/siplusplus/done_pj/website_pizzeria/app/views/carts/_order_items.haml:1:in `each'
  /home/siplusplus/done_pj/website_pizzeria/app/views/carts/_order_items.haml:1:in `_app_views_carts__order_items_haml___1205173719840089461_113980'
  /home/siplusplus/done_pj/website_pizzeria/app/views/carts/show.haml:16:in `_app_views_carts_show_haml___2220714381488188692_113960'


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:22:15 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:22:15 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-02 15:22:15 +0300
Started GET "/cart" for ::1 at 2023-05-02 15:23:15 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaPicture Load (0.6ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3)[0m  [["picturable_type", "Pizza"], ["picturable_id", 18], ["picturable_id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
  [1m[36mFilling Load (1.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 19]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
  Rendered carts/_order_items.haml (Duration: 68.0ms | Allocations: 22567)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 19]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 19]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 120.4ms | Allocations: 41951)
  [1m[36mOrderItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.6ms | Allocations: 920)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 126.6ms | Allocations: 45051)
Completed 200 OK in 216ms (Views: 114.4ms | ActiveRecord: 39.6ms | Allocations: 69613)


user: siplusplus
GET /cart
USE eager loading detected
  CustomPizza => [:fillings]
  Add to your query: .includes([:fillings])
Call stack
  /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14:in `amount_pay'
  /home/siplusplus/done_pj/website_pizzeria/app/views/carts/_order_items.haml:19:in `block in _app_views_carts__order_items_haml___1205173719840089461_113980'
  /home/siplusplus/done_pj/website_pizzeria/app/views/carts/_order_items.haml:1:in `each'
  /home/siplusplus/done_pj/website_pizzeria/app/views/carts/_order_items.haml:1:in `_app_views_carts__order_items_haml___1205173719840089461_113980'
  /home/siplusplus/done_pj/website_pizzeria/app/views/carts/show.haml:16:in `_app_views_carts_show_haml___2220714381488188692_113960'


user: siplusplus
GET /cart
AVOID eager loading detected
  CustomPizza => [:pizza_dimension]
  Remove from your query: .includes([:pizza_dimension])
Call stack
  /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14:in `amount_pay'
  /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53:in `amount_pay'
  /home/siplusplus/done_pj/website_pizzeria/app/views/carts/show.haml:26:in `_app_views_carts_show_haml___2220714381488188692_113960'


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:23:16 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:23:16 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-02 15:23:16 +0300
Started GET "/cart" for ::1 at 2023-05-02 15:23:16 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaPicture Load (0.7ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3)[0m  [["picturable_type", "Pizza"], ["picturable_id", 18], ["picturable_id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
  [1m[36mFilling Load (0.9ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 19]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
  Rendered carts/_order_items.haml (Duration: 21.3ms | Allocations: 10282)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 19]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
  [1m[36mCACHE Filling Load (0.1ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 19]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 63.5ms | Allocations: 28219)
  [1m[36mOrderItem Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.3ms | Allocations: 835)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 27)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 121)
  Rendered layout layouts/application.haml (Duration: 68.9ms | Allocations: 31083)
Completed 200 OK in 84ms (Views: 66.9ms | ActiveRecord: 4.7ms | Allocations: 37687)


user: siplusplus
GET /cart
USE eager loading detected
  CustomPizza => [:fillings]
  Add to your query: .includes([:fillings])
Call stack
  /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14:in `amount_pay'
  /home/siplusplus/done_pj/website_pizzeria/app/views/carts/_order_items.haml:19:in `block in _app_views_carts__order_items_haml___1205173719840089461_113980'
  /home/siplusplus/done_pj/website_pizzeria/app/views/carts/_order_items.haml:1:in `each'
  /home/siplusplus/done_pj/website_pizzeria/app/views/carts/_order_items.haml:1:in `_app_views_carts__order_items_haml___1205173719840089461_113980'
  /home/siplusplus/done_pj/website_pizzeria/app/views/carts/show.haml:16:in `_app_views_carts_show_haml___2220714381488188692_113960'


user: siplusplus
GET /cart
AVOID eager loading detected
  CustomPizza => [:pizza_dimension]
  Remove from your query: .includes([:pizza_dimension])
Call stack
  /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14:in `amount_pay'
  /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53:in `amount_pay'
  /home/siplusplus/done_pj/website_pizzeria/app/views/carts/show.haml:26:in `_app_views_carts_show_haml___2220714381488188692_113960'


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:23:17 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:23:17 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-02 15:23:17 +0300
Started GET "/cart" for ::1 at 2023-05-02 15:23:19 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaPicture Load (0.5ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3)[0m  [["picturable_type", "Pizza"], ["picturable_id", 18], ["picturable_id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
  [1m[36mFilling Load (1.1ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
  [1m[36mFilling Load (0.9ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 19]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
  Rendered carts/_order_items.haml (Duration: 18.2ms | Allocations: 10102)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 19]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 19]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 44.9ms | Allocations: 28010)
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.0ms | Allocations: 816)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 49.9ms | Allocations: 30825)
Completed 200 OK in 64ms (Views: 47.6ms | ActiveRecord: 4.8ms | Allocations: 37086)


user: siplusplus
GET /cart
USE eager loading detected
  CustomPizza => [:fillings]
  Add to your query: .includes([:fillings])
Call stack
  /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14:in `amount_pay'
  /home/siplusplus/done_pj/website_pizzeria/app/views/carts/_order_items.haml:19:in `block in _app_views_carts__order_items_haml___1205173719840089461_113980'
  /home/siplusplus/done_pj/website_pizzeria/app/views/carts/_order_items.haml:1:in `each'
  /home/siplusplus/done_pj/website_pizzeria/app/views/carts/_order_items.haml:1:in `_app_views_carts__order_items_haml___1205173719840089461_113980'
  /home/siplusplus/done_pj/website_pizzeria/app/views/carts/show.haml:16:in `_app_views_carts_show_haml___2220714381488188692_113960'


user: siplusplus
GET /cart
AVOID eager loading detected
  CustomPizza => [:pizza_dimension]
  Remove from your query: .includes([:pizza_dimension])
Call stack
  /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14:in `amount_pay'
  /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53:in `amount_pay'
  /home/siplusplus/done_pj/website_pizzeria/app/views/carts/show.haml:26:in `_app_views_carts_show_haml___2220714381488188692_113960'


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:23:19 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:23:19 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-02 15:23:19 +0300
Started GET "/cart" for ::1 at 2023-05-02 15:23:21 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizza Load (0.6ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaPicture Load (0.7ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3)[0m  [["picturable_type", "Pizza"], ["picturable_id", 18], ["picturable_id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
  [1m[36mFilling Load (0.9ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
  [1m[36mFilling Load (0.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 19]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
  Rendered carts/_order_items.haml (Duration: 18.0ms | Allocations: 10107)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 19]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 19]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 45.5ms | Allocations: 28016)
  [1m[36mOrderItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.0ms | Allocations: 816)
  Rendered layouts/_flesh.haml (Duration: 0.0ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.5ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 50.9ms | Allocations: 30831)
Completed 200 OK in 66ms (Views: 48.8ms | ActiveRecord: 4.8ms | Allocations: 37074)


user: siplusplus
GET /cart
USE eager loading detected
  CustomPizza => [:fillings]
  Add to your query: .includes([:fillings])
Call stack
  /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14:in `amount_pay'
  /home/siplusplus/done_pj/website_pizzeria/app/views/carts/_order_items.haml:19:in `block in _app_views_carts__order_items_haml___1205173719840089461_113980'
  /home/siplusplus/done_pj/website_pizzeria/app/views/carts/_order_items.haml:1:in `each'
  /home/siplusplus/done_pj/website_pizzeria/app/views/carts/_order_items.haml:1:in `_app_views_carts__order_items_haml___1205173719840089461_113980'
  /home/siplusplus/done_pj/website_pizzeria/app/views/carts/show.haml:16:in `_app_views_carts_show_haml___2220714381488188692_113960'


user: siplusplus
GET /cart
AVOID eager loading detected
  CustomPizza => [:pizza_dimension]
  Remove from your query: .includes([:pizza_dimension])
Call stack
  /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14:in `amount_pay'
  /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53:in `amount_pay'
  /home/siplusplus/done_pj/website_pizzeria/app/views/carts/show.haml:26:in `_app_views_carts_show_haml___2220714381488188692_113960'


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:23:21 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:23:21 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-02 15:23:21 +0300
Started GET "/cart" for ::1 at 2023-05-02 15:23:59 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaPicture Load (0.5ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3)[0m  [["picturable_type", "Pizza"], ["picturable_id", 18], ["picturable_id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaFilling Load (0.9ms)[0m  [1m[34mSELECT "pizza_fillings".* FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" IN ($1, $2)[0m  [["pizza_id", 18], ["pizza_id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)[0m  [["id", 1], ["id", 7], ["id", 6], ["id", 5], ["id", 4], ["id", 2], ["id", 8], ["id", 3], ["id", 9], ["id", 10], ["id", 11]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
  Rendered carts/_order_items.haml (Duration: 33.9ms | Allocations: 16615)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mFilling Load (1.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:15:in `amount_pay'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 19]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:15:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:15:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 19]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:15:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 79.5ms | Allocations: 40756)
  [1m[36mOrderItem Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 3.0ms | Allocations: 919)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 86.6ms | Allocations: 43853)
Completed 200 OK in 233ms (Views: 81.8ms | ActiveRecord: 49.0ms | Allocations: 86093)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:23:59 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:23:59 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-02 15:23:59 +0300
Started GET "/cart" for ::1 at 2023-05-02 15:24:00 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizza Load (0.6ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaPicture Load (0.6ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3)[0m  [["picturable_type", "Pizza"], ["picturable_id", 18], ["picturable_id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaFilling Load (0.4ms)[0m  [1m[34mSELECT "pizza_fillings".* FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" IN ($1, $2)[0m  [["pizza_id", 18], ["pizza_id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)[0m  [["id", 1], ["id", 7], ["id", 6], ["id", 5], ["id", 4], ["id", 2], ["id", 8], ["id", 3], ["id", 9], ["id", 10], ["id", 11]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
  Rendered carts/_order_items.haml (Duration: 19.9ms | Allocations: 13033)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mFilling Load (0.9ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:15:in `amount_pay'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 19]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:15:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:15:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 19]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:14)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:15:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 63.4ms | Allocations: 34851)
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.0ms | Allocations: 816)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 69.0ms | Allocations: 37667)
Completed 200 OK in 104ms (Views: 66.9ms | ActiveRecord: 5.7ms | Allocations: 52383)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:24:00 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:24:00 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-02 15:24:00 +0300
Started GET "/cart" for ::1 at 2023-05-02 15:24:18 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaPicture Load (0.5ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3)[0m  [["picturable_type", "Pizza"], ["picturable_id", 18], ["picturable_id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaFilling Load (0.6ms)[0m  [1m[34mSELECT "pizza_fillings".* FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" IN ($1, $2)[0m  [["pizza_id", 18], ["pizza_id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mFilling Load (0.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)[0m  [["id", 1], ["id", 7], ["id", 6], ["id", 5], ["id", 4], ["id", 2], ["id", 8], ["id", 3], ["id", 9], ["id", 10], ["id", 11]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  Rendered carts/_order_items.haml (Duration: 29.2ms | Allocations: 16614)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mFilling Load (1.1ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mFilling Load (0.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 19]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 19]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 74.5ms | Allocations: 40756)
  [1m[36mOrderItem Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 3.6ms | Allocations: 919)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.5ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 83.3ms | Allocations: 43853)
Completed 200 OK in 227ms (Views: 78.2ms | ActiveRecord: 46.6ms | Allocations: 86022)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:24:18 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-02 15:24:18 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:24:18 +0300
Started GET "/cart" for ::1 at 2023-05-02 15:24:19 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizza Load (0.9ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaPicture Load (0.7ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3)[0m  [["picturable_type", "Pizza"], ["picturable_id", 18], ["picturable_id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaFilling Load (0.6ms)[0m  [1m[34mSELECT "pizza_fillings".* FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" IN ($1, $2)[0m  [["pizza_id", 18], ["pizza_id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)[0m  [["id", 1], ["id", 7], ["id", 6], ["id", 5], ["id", 4], ["id", 2], ["id", 8], ["id", 3], ["id", 9], ["id", 10], ["id", 11]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  Rendered carts/_order_items.haml (Duration: 18.6ms | Allocations: 13033)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mFilling Load (1.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mFilling Load (0.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 19]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 19]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 58.2ms | Allocations: 34851)
  [1m[36mOrderItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.3ms | Allocations: 816)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 64.6ms | Allocations: 37667)
Completed 200 OK in 96ms (Views: 62.1ms | ActiveRecord: 7.0ms | Allocations: 52413)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:24:19 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:24:19 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-02 15:24:19 +0300
Started GET "/cart" for ::1 at 2023-05-02 15:24:20 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.6ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizza Load (0.9ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaPicture Load (0.5ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3)[0m  [["picturable_type", "Pizza"], ["picturable_id", 18], ["picturable_id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaFilling Load (0.7ms)[0m  [1m[34mSELECT "pizza_fillings".* FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" IN ($1, $2)[0m  [["pizza_id", 18], ["pizza_id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mFilling Load (0.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)[0m  [["id", 1], ["id", 7], ["id", 6], ["id", 5], ["id", 4], ["id", 2], ["id", 8], ["id", 3], ["id", 9], ["id", 10], ["id", 11]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  Rendered carts/_order_items.haml (Duration: 16.4ms | Allocations: 12999)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mFilling Load (0.9ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mFilling Load (0.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 19]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 19]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 58.6ms | Allocations: 34809)
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.3ms | Allocations: 816)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.4ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 64.6ms | Allocations: 37626)
Completed 200 OK in 100ms (Views: 62.5ms | ActiveRecord: 6.8ms | Allocations: 52259)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:24:20 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:24:20 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-02 15:24:20 +0300
Started GET "/custom_pizza/edit?order_item_id=3" for ::1 at 2023-05-02 15:24:23 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"3"}
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:16:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:29:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 24.5ms | Allocations: 13041)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.6ms | Allocations: 1769)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.4ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 32.7ms | Allocations: 17040)
Completed 200 OK in 41ms (Views: 31.3ms | ActiveRecord: 3.7ms | Allocations: 19913)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:24:24 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:24:24 +0300
Started GET "/assets/application.css" for ::1 at 2023-05-02 15:24:27 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-02 15:24:27 +0300
Started GET "/custom_pizza/edit?order_item_id=3" for ::1 at 2023-05-02 15:24:51 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"3"}
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:16:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:29:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (1.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 22.6ms | Allocations: 12227)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.0ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 29.8ms | Allocations: 15982)
Completed 200 OK in 35ms (Views: 27.0ms | ActiveRecord: 3.7ms | Allocations: 17872)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:24:51 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:24:51 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-02 15:24:52 +0300
Started GET "/cart" for ::1 at 2023-05-02 15:24:58 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizza Load (0.9ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaPicture Load (0.5ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3)[0m  [["picturable_type", "Pizza"], ["picturable_id", 18], ["picturable_id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaFilling Load (0.4ms)[0m  [1m[34mSELECT "pizza_fillings".* FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" IN ($1, $2)[0m  [["pizza_id", 18], ["pizza_id", 19]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)[0m  [["id", 1], ["id", 7], ["id", 6], ["id", 5], ["id", 4], ["id", 2], ["id", 8], ["id", 3], ["id", 9], ["id", 10], ["id", 11]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  Rendered carts/_order_items.haml (Duration: 20.3ms | Allocations: 13039)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mFilling Load (1.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 19]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 18], ["id", 19]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 19]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 59.7ms | Allocations: 34858)
  [1m[36mOrderItem Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.4ms | Allocations: 816)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 65.0ms | Allocations: 37675)
Completed 200 OK in 97ms (Views: 62.8ms | ActiveRecord: 6.3ms | Allocations: 52327)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:24:58 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:24:58 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-02 15:24:58 +0300
Started GET "/pizzas" for ::1 at 2023-05-02 15:25:00 +0300
Processing by PizzasController#index as HTML
  [1m[36mPizza Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."type" = $1[0m  [["type", "OrdinaryPizza"]]
  â†³ app/controllers/pizzas_controller.rb:5:in `index'
  Rendering layout layouts/application.haml
  Rendering pizzas/index.haml within layouts/application
  Rendered pizzas/_order_dropdown.haml (Duration: 0.8ms | Allocations: 544)
  [1m[36mPizza Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas"[0m
  â†³ app/views/pizzas/index.haml:12
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/pizzas/index.haml:13
  [1m[36mPizza Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 1]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 2]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 3]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 4]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."type" = $1 ORDER BY "pizzas"."name" ASC LIMIT $2 OFFSET $3[0m  [["type", "OrdinaryPizza"], ["LIMIT", 12], ["OFFSET", 0]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mPizzaPicture Load (0.9ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13)[0m  [["picturable_type", "Pizza"], ["picturable_id", 1], ["picturable_id", 8], ["picturable_id", 12], ["picturable_id", 14], ["picturable_id", 9], ["picturable_id", 3], ["picturable_id", 10], ["picturable_id", 5], ["picturable_id", 2], ["picturable_id", 15], ["picturable_id", 11], ["picturable_id", 13]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  Rendered pizzas/_pizza.haml (Duration: 60.5ms | Allocations: 31774)
  Rendered pizzas/_view_more.haml (Duration: 0.1ms | Allocations: 62)
  Rendered pizzas/index.haml within layouts/application (Duration: 82.8ms | Allocations: 38759)
  [1m[36mOrderItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.6ms | Allocations: 943)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 87.9ms | Allocations: 41759)
Completed 200 OK in 93ms (Views: 80.5ms | ActiveRecord: 9.2ms | Allocations: 43876)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:25:00 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:25:00 +0300
Started GET "/assets/medium.png" for ::1 at 2023-05-02 15:25:01 +0300
Started GET "/custom_pizza/new" for ::1 at 2023-05-02 15:25:01 +0300
Processing by CustomPizzasController#new as HTML
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/new.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/new.haml:15:in `map'
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/new.haml:31
  [1m[36mAdditionalFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/new.haml:40
  Rendered custom_pizzas/new.haml within layouts/application (Duration: 8.6ms | Allocations: 4994)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.6ms | Allocations: 1798)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 27)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 121)
  Rendered layout layouts/application.haml (Duration: 17.0ms | Allocations: 8962)
Completed 200 OK in 22ms (Views: 15.9ms | ActiveRecord: 2.1ms | Allocations: 10440)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:25:01 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:25:01 +0300
Started POST "/custom_pizza" for ::1 at 2023-05-02 15:25:06 +0300
Processing by CustomPizzasController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "custom_pizza"=>{"fillings"=>"", "pizza_dimension"=>"30.0"}, "commit"=>"create pizza"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mPizzaDimension Load (0.8ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."dimension" = $1 LIMIT $2[0m  [["dimension", 30.0], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:23:in `pizza_dimension'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Custom"], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:43:in `create_pizza_params'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mCustomPizza Create (0.9ms)[0m  [1m[32mINSERT INTO "pizzas" ("name", "price_cents", "price_currency", "description", "category_id", "pizza_dimension_id", "created_at", "updated_at", "type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "custom_pizza"], ["price_cents", 1000], ["price_currency", "USD"], ["description", "none"], ["category_id", 4], ["pizza_dimension_id", 1], ["created_at", "2023-05-02 12:25:06.909070"], ["updated_at", "2023-05-02 12:25:06.909070"], ["type", "CustomPizza"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/create_custom_pizza.rb:15:in `create_order_item'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:15:in `create_order_item'
  [1m[36mOrderItem Create (1.1ms)[0m  [1m[32mINSERT INTO "order_items" ("price_cents", "price_currency", "quantity", "pizza_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["price_cents", 0], ["price_currency", "USD"], ["quantity", 1], ["pizza_id", 20], ["order_id", 4], ["created_at", "2023-05-02 12:25:06.924801"], ["updated_at", "2023-05-02 12:25:06.924801"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:15:in `create_order_item'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/create_custom_pizza.rb:15:in `create_order_item'
Redirected to http://localhost:3000/cart
Completed 302 Found in 41ms (ActiveRecord: 10.8ms | Allocations: 16815)


Started GET "/cart" for ::1 at 2023-05-02 15:25:06 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2, $3)[0m  [["id", 18], ["id", 19], ["id", 20]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaPicture Load (1.0ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3, $4)[0m  [["picturable_type", "Pizza"], ["picturable_id", 18], ["picturable_id", 19], ["picturable_id", 20]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaFilling Load (0.6ms)[0m  [1m[34mSELECT "pizza_fillings".* FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" IN ($1, $2, $3)[0m  [["pizza_id", 18], ["pizza_id", 19], ["pizza_id", 20]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)[0m  [["id", 1], ["id", 7], ["id", 6], ["id", 5], ["id", 4], ["id", 2], ["id", 8], ["id", 3], ["id", 9], ["id", 10], ["id", 11]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  Rendered carts/_order_items.haml (Duration: 25.1ms | Allocations: 16319)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2, $3)[0m  [["id", 18], ["id", 19], ["id", 20]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mFilling Load (1.1ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mFilling Load (1.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 19]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 20]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2, $3)[0m  [["id", 18], ["id", 19], ["id", 20]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 19]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 20]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 73.7ms | Allocations: 44214)
  [1m[36mOrderItem Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.4ms | Allocations: 835)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 26)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 121)
  Rendered layout layouts/application.haml (Duration: 79.0ms | Allocations: 47078)
Completed 200 OK in 113ms (Views: 75.2ms | ActiveRecord: 8.2ms | Allocations: 63010)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:25:07 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:25:07 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-02 15:25:07 +0300
Started GET "/custom_pizza/edit?order_item_id=5" for ::1 at 2023-05-02 15:25:10 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"5"}
  [1m[36mOrderItem Load (0.7ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:16:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:29:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (1.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 20]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 21.9ms | Allocations: 8552)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.0ms | Allocations: 1716)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 29.5ms | Allocations: 12307)
Completed 200 OK in 37ms (Views: 26.5ms | ActiveRecord: 4.7ms | Allocations: 14169)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:25:10 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:25:10 +0300
Started GET "/assets/application.css" for ::1 at 2023-05-02 15:25:52 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-02 15:25:52 +0300
Started GET "/custom_pizza/edit?order_item_id=5" for ::1 at 2023-05-02 15:32:32 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"5"}
  [1m[36mPizzaDimension Load (1.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.7ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.8ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 20]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 68.2ms | Allocations: 39278)
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 19.0ms | Allocations: 9057)
  Rendered layouts/_flesh.haml (Duration: 3.8ms | Allocations: 2109)
  Rendered layouts/_footer.haml (Duration: 12.8ms | Allocations: 12680)
  Rendered layout layouts/application.haml (Duration: 150.3ms | Allocations: 73263)
Completed 200 OK in 220ms (Views: 148.8ms | ActiveRecord: 15.1ms | Allocations: 92594)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:32:33 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:32:33 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-02 15:32:33 +0300
Started GET "/custom_pizza/edit?order_item_id=5" for ::1 at 2023-05-02 15:34:20 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"5"}
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 20]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mOrdinaryFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 19.9ms | Allocations: 8607)
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.9ms | Allocations: 1721)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 62.7ms | Allocations: 13457)
Completed 200 OK in 70ms (Views: 59.6ms | ActiveRecord: 5.0ms | Allocations: 16151)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:34:20 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:34:20 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-02 15:34:20 +0300
Started PATCH "/custom_pizza?filling_id=undefined" for ::1 at 2023-05-02 15:34:22 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"filling_id"=>"undefined", "custom_pizza"=>{}}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 1ms (ActiveRecord: 0.0ms | Allocations: 219)


  
ActionController::InvalidAuthenticityToken (Can't verify CSRF token authenticity.):
  
actionpack (7.0.4.3) lib/action_controller/metal/request_forgery_protection.rb:251:in `handle_unverified_request'
actionpack (7.0.4.3) lib/action_controller/metal/request_forgery_protection.rb:284:in `handle_unverified_request'
devise (4.9.2) lib/devise/controllers/helpers.rb:255:in `handle_unverified_request'
actionpack (7.0.4.3) lib/action_controller/metal/request_forgery_protection.rb:273:in `verify_authenticity_token'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:400:in `block in make_lambda'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.4.3) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:116:in `block in run_callbacks'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:138:in `run_callbacks'
actionpack (7.0.4.3) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.4.3) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.4.3) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.4.3) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.4.3) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.4.3) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.4.3) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.4.3) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.4.3) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.4.3) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:852:in `call'
bullet (7.0.7) lib/bullet/rack.rb:17:in `call'
omniauth (2.1.1) lib/omniauth/strategy.rb:202:in `call!'
omniauth (2.1.1) lib/omniauth/strategy.rb:169:in `call'
omniauth (2.1.1) lib/omniauth/strategy.rb:202:in `call!'
omniauth (2.1.1) lib/omniauth/strategy.rb:169:in `call'
omniauth (2.1.1) lib/omniauth/strategy.rb:202:in `call!'
omniauth (2.1.1) lib/omniauth/strategy.rb:169:in `call'
omniauth (2.1.1) lib/omniauth/builder.rb:44:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.6.4) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.6.4) lib/rack/etag.rb:27:in `call'
rack (2.2.6.4) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.6.4) lib/rack/head.rb:12:in `call'
actionpack (7.0.4.3) lib/action_dispatch/http/permissions_policy.rb:38:in `call'
actionpack (7.0.4.3) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack (2.2.6.4) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.6.4) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/cookies.rb:704:in `call'
activerecord (7.0.4.3) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4.3) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
request_store (1.5.1) lib/request_store/middleware.rb:19:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.6.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.6.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.6.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.4.3) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started PATCH "/custom_pizza?filling_id=undefined" for ::1 at 2023-05-02 15:34:23 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"filling_id"=>"undefined", "custom_pizza"=>{}}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 0ms (ActiveRecord: 0.0ms | Allocations: 164)


  
ActionController::InvalidAuthenticityToken (Can't verify CSRF token authenticity.):
  
actionpack (7.0.4.3) lib/action_controller/metal/request_forgery_protection.rb:251:in `handle_unverified_request'
actionpack (7.0.4.3) lib/action_controller/metal/request_forgery_protection.rb:284:in `handle_unverified_request'
devise (4.9.2) lib/devise/controllers/helpers.rb:255:in `handle_unverified_request'
actionpack (7.0.4.3) lib/action_controller/metal/request_forgery_protection.rb:273:in `verify_authenticity_token'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:400:in `block in make_lambda'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.4.3) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:116:in `block in run_callbacks'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:138:in `run_callbacks'
actionpack (7.0.4.3) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.4.3) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.4.3) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.4.3) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.4.3) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.4.3) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.4.3) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.4.3) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.4.3) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.4.3) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:852:in `call'
bullet (7.0.7) lib/bullet/rack.rb:17:in `call'
omniauth (2.1.1) lib/omniauth/strategy.rb:202:in `call!'
omniauth (2.1.1) lib/omniauth/strategy.rb:169:in `call'
omniauth (2.1.1) lib/omniauth/strategy.rb:202:in `call!'
omniauth (2.1.1) lib/omniauth/strategy.rb:169:in `call'
omniauth (2.1.1) lib/omniauth/strategy.rb:202:in `call!'
omniauth (2.1.1) lib/omniauth/strategy.rb:169:in `call'
omniauth (2.1.1) lib/omniauth/builder.rb:44:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.6.4) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.6.4) lib/rack/etag.rb:27:in `call'
rack (2.2.6.4) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.6.4) lib/rack/head.rb:12:in `call'
actionpack (7.0.4.3) lib/action_dispatch/http/permissions_policy.rb:38:in `call'
actionpack (7.0.4.3) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack (2.2.6.4) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.6.4) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/cookies.rb:704:in `call'
activerecord (7.0.4.3) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4.3) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
request_store (1.5.1) lib/request_store/middleware.rb:19:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.6.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.6.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.6.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.4.3) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started PATCH "/custom_pizza?filling_id=undefined" for ::1 at 2023-05-02 15:34:26 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"filling_id"=>"undefined", "custom_pizza"=>{}}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 0ms (ActiveRecord: 0.0ms | Allocations: 164)


  
ActionController::InvalidAuthenticityToken (Can't verify CSRF token authenticity.):
  
actionpack (7.0.4.3) lib/action_controller/metal/request_forgery_protection.rb:251:in `handle_unverified_request'
actionpack (7.0.4.3) lib/action_controller/metal/request_forgery_protection.rb:284:in `handle_unverified_request'
devise (4.9.2) lib/devise/controllers/helpers.rb:255:in `handle_unverified_request'
actionpack (7.0.4.3) lib/action_controller/metal/request_forgery_protection.rb:273:in `verify_authenticity_token'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:400:in `block in make_lambda'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.4.3) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:116:in `block in run_callbacks'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:138:in `run_callbacks'
actionpack (7.0.4.3) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.4.3) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.4.3) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.4.3) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.4.3) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.4.3) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.4.3) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.4.3) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.4.3) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.4.3) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:852:in `call'
bullet (7.0.7) lib/bullet/rack.rb:17:in `call'
omniauth (2.1.1) lib/omniauth/strategy.rb:202:in `call!'
omniauth (2.1.1) lib/omniauth/strategy.rb:169:in `call'
omniauth (2.1.1) lib/omniauth/strategy.rb:202:in `call!'
omniauth (2.1.1) lib/omniauth/strategy.rb:169:in `call'
omniauth (2.1.1) lib/omniauth/strategy.rb:202:in `call!'
omniauth (2.1.1) lib/omniauth/strategy.rb:169:in `call'
omniauth (2.1.1) lib/omniauth/builder.rb:44:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.6.4) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.6.4) lib/rack/etag.rb:27:in `call'
rack (2.2.6.4) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.6.4) lib/rack/head.rb:12:in `call'
actionpack (7.0.4.3) lib/action_dispatch/http/permissions_policy.rb:38:in `call'
actionpack (7.0.4.3) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack (2.2.6.4) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.6.4) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/cookies.rb:704:in `call'
activerecord (7.0.4.3) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4.3) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
request_store (1.5.1) lib/request_store/middleware.rb:19:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.6.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.6.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.6.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.4.3) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/custom_pizza/edit?order_item_id=5" for ::1 at 2023-05-02 15:34:27 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"5"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.9ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 20]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mOrdinaryFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 19.3ms | Allocations: 8465)
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.9ms | Allocations: 1716)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 28.1ms | Allocations: 12224)
Completed 200 OK in 35ms (Views: 25.1ms | ActiveRecord: 4.6ms | Allocations: 14812)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:34:27 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:34:27 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-02 15:34:27 +0300
Started PATCH "/custom_pizza?filling_id=undefined" for ::1 at 2023-05-02 15:34:28 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"filling_id"=>"undefined", "custom_pizza"=>{}}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 0ms (ActiveRecord: 0.0ms | Allocations: 164)


  
ActionController::InvalidAuthenticityToken (Can't verify CSRF token authenticity.):
  
actionpack (7.0.4.3) lib/action_controller/metal/request_forgery_protection.rb:251:in `handle_unverified_request'
actionpack (7.0.4.3) lib/action_controller/metal/request_forgery_protection.rb:284:in `handle_unverified_request'
devise (4.9.2) lib/devise/controllers/helpers.rb:255:in `handle_unverified_request'
actionpack (7.0.4.3) lib/action_controller/metal/request_forgery_protection.rb:273:in `verify_authenticity_token'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:400:in `block in make_lambda'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.4.3) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:116:in `block in run_callbacks'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:138:in `run_callbacks'
actionpack (7.0.4.3) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.4.3) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.4.3) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.4.3) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.4.3) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.4.3) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.4.3) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.4.3) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.4.3) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.4.3) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:852:in `call'
bullet (7.0.7) lib/bullet/rack.rb:17:in `call'
omniauth (2.1.1) lib/omniauth/strategy.rb:202:in `call!'
omniauth (2.1.1) lib/omniauth/strategy.rb:169:in `call'
omniauth (2.1.1) lib/omniauth/strategy.rb:202:in `call!'
omniauth (2.1.1) lib/omniauth/strategy.rb:169:in `call'
omniauth (2.1.1) lib/omniauth/strategy.rb:202:in `call!'
omniauth (2.1.1) lib/omniauth/strategy.rb:169:in `call'
omniauth (2.1.1) lib/omniauth/builder.rb:44:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.6.4) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.6.4) lib/rack/etag.rb:27:in `call'
rack (2.2.6.4) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.6.4) lib/rack/head.rb:12:in `call'
actionpack (7.0.4.3) lib/action_dispatch/http/permissions_policy.rb:38:in `call'
actionpack (7.0.4.3) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack (2.2.6.4) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.6.4) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/cookies.rb:704:in `call'
activerecord (7.0.4.3) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4.3) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
request_store (1.5.1) lib/request_store/middleware.rb:19:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.6.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.6.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.6.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.4.3) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/custom_pizza/edit?order_item_id=5" for ::1 at 2023-05-02 15:35:01 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"5"}
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 20]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 19.7ms | Allocations: 8444)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 7.8ms | Allocations: 1717)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 63.2ms | Allocations: 13226)
Completed 200 OK in 70ms (Views: 61.1ms | ActiveRecord: 4.0ms | Allocations: 15801)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:35:01 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:35:01 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-02 15:35:01 +0300
Started GET "/custom_pizza/edit?order_item_id=5" for ::1 at 2023-05-02 15:35:29 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"5"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 20]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 17.8ms | Allocations: 8474)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.7ms | Allocations: 1716)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.5ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 26.1ms | Allocations: 12233)
Completed 200 OK in 33ms (Views: 24.3ms | ActiveRecord: 3.2ms | Allocations: 14809)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:35:29 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:35:29 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-02 15:35:29 +0300
Started GET "/custom_pizza/edit?order_item_id=5" for ::1 at 2023-05-02 15:35:30 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"5"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (1.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 20]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 21.1ms | Allocations: 8438)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.8ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 30.2ms | Allocations: 12191)
Completed 200 OK in 38ms (Views: 27.4ms | ActiveRecord: 4.5ms | Allocations: 14766)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:35:30 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:35:30 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-02 15:35:30 +0300
Started GET "/assets/application.css" for ::1 at 2023-05-02 15:35:37 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-02 15:35:37 +0300
Started GET "/custom_pizza/edit?order_item_id=5" for ::1 at 2023-05-02 15:35:39 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"5"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 20]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 15.5ms | Allocations: 8432)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.7ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 56.1ms | Allocations: 13216)
Completed 200 OK in 63ms (Views: 54.0ms | ActiveRecord: 3.7ms | Allocations: 15791)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:35:39 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:35:39 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-02 15:35:39 +0300
Started GET "/custom_pizza/edit?order_item_id=5" for ::1 at 2023-05-02 15:41:11 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"5"}
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 20]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 16.5ms | Allocations: 8456)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.3ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 24.8ms | Allocations: 12209)
Completed 200 OK in 34ms (Views: 23.2ms | ActiveRecord: 3.5ms | Allocations: 14784)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:41:11 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:41:11 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-02 15:41:11 +0300
Started PATCH "/custom_pizza?filling_id=4" for ::1 at 2023-05-02 15:41:13 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>5, "filling_id"=>"4", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 20], ["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mPizzaFilling Create (1.3ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 20], ["filling_id", 4], ["created_at", "2023-05-02 12:41:13.693405"], ["updated_at", "2023-05-02 12:41:13.693405"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 37ms (ActiveRecord: 5.0ms | Allocations: 11329)


Started PATCH "/custom_pizza?filling_id=5" for ::1 at 2023-05-02 15:41:14 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>5, "filling_id"=>"5", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 20], ["id", 5], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mPizzaFilling Create (0.7ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 20], ["filling_id", 5], ["created_at", "2023-05-02 12:41:14.672844"], ["updated_at", "2023-05-02 12:41:14.672844"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 22ms (ActiveRecord: 7.6ms | Allocations: 6472)


Started PATCH "/custom_pizza?filling_id=5" for ::1 at 2023-05-02 15:41:16 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>5, "filling_id"=>"5", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 20], ["id", 5], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
  [1m[36mPizzaFilling Delete All (0.4ms)[0m  [1m[31mDELETE FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" = $1 AND "pizza_fillings"."filling_id" = $2[0m  [["pizza_id", 20], ["filling_id", 5]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 20ms (ActiveRecord: 7.1ms | Allocations: 5770)


Started PATCH "/custom_pizza?filling_id=4" for ::1 at 2023-05-02 15:41:16 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>5, "filling_id"=>"4", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 20], ["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
  [1m[36mPizzaFilling Delete All (0.5ms)[0m  [1m[31mDELETE FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" = $1 AND "pizza_fillings"."filling_id" = $2[0m  [["pizza_id", 20], ["filling_id", 4]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 20ms (ActiveRecord: 7.5ms | Allocations: 5703)


Started PATCH "/custom_pizza?filling_id=4" for ::1 at 2023-05-02 15:41:18 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>5, "filling_id"=>"4", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (1.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 20], ["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mPizzaFilling Create (0.9ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 20], ["filling_id", 4], ["created_at", "2023-05-02 12:41:18.210700"], ["updated_at", "2023-05-02 12:41:18.210700"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 26ms (ActiveRecord: 5.0ms | Allocations: 6439)


Started GET "/custom_pizza/edit?order_item_id=5" for ::1 at 2023-05-02 15:41:19 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"5"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 20]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 18.7ms | Allocations: 9516)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.1ms | Allocations: 1745)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 26)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 121)
  Rendered layout layouts/application.haml (Duration: 26.3ms | Allocations: 13429)
Completed 200 OK in 33ms (Views: 24.2ms | ActiveRecord: 3.4ms | Allocations: 16072)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:41:19 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:41:19 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-02 15:41:19 +0300
Started GET "/custom_pizza/edit?order_item_id=5" for ::1 at 2023-05-02 15:41:19 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"5"}
  [1m[36mPizzaDimension Load (0.6ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 20]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 18.7ms | Allocations: 9285)
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 3.6ms | Allocations: 1716)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 25.2ms | Allocations: 13040)
Completed 200 OK in 37ms (Views: 23.8ms | ActiveRecord: 3.4ms | Allocations: 15621)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:41:19 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:41:19 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-02 15:41:19 +0300
Started GET "/custom_pizza/edit?order_item_id=5" for ::1 at 2023-05-02 15:41:41 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"5"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 20]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 16.6ms | Allocations: 9260)
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 3.8ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 23.6ms | Allocations: 13013)
Completed 200 OK in 31ms (Views: 22.5ms | ActiveRecord: 2.7ms | Allocations: 15588)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:41:41 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:41:41 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-02 15:41:41 +0300
Started GET "/custom_pizza/edit?order_item_id=5" for ::1 at 2023-05-02 15:41:42 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"5"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 20]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 16.8ms | Allocations: 9277)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.8ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 25.2ms | Allocations: 13030)
Completed 200 OK in 35ms (Views: 23.8ms | ActiveRecord: 3.3ms | Allocations: 15605)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:41:42 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:41:42 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-02 15:41:42 +0300
Started PATCH "/custom_pizza?filling_id=7" for ::1 at 2023-05-02 15:41:43 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>5, "filling_id"=>"7", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 20], ["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mPizzaFilling Create (0.9ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 20], ["filling_id", 7], ["created_at", "2023-05-02 12:41:43.414799"], ["updated_at", "2023-05-02 12:41:43.414799"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 19ms (ActiveRecord: 4.1ms | Allocations: 6425)


Started GET "/custom_pizza/edit?order_item_id=5" for ::1 at 2023-05-02 15:41:43 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"5"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 20]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 19.4ms | Allocations: 9577)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.0ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 26.4ms | Allocations: 13330)
Completed 200 OK in 36ms (Views: 24.8ms | ActiveRecord: 3.3ms | Allocations: 15905)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:41:43 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:41:43 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-02 15:41:43 +0300
Started GET "/custom_pizza/edit?order_item_id=5" for ::1 at 2023-05-02 15:41:44 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"5"}
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.9ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 20]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 19.1ms | Allocations: 9570)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 8.3ms | Allocations: 1717)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 30.8ms | Allocations: 13326)
Completed 200 OK in 38ms (Views: 28.4ms | ActiveRecord: 4.2ms | Allocations: 15901)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:41:44 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:41:44 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-02 15:41:44 +0300
Started GET "/custom_pizza/edit?order_item_id=5" for ::1 at 2023-05-02 15:41:44 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"5"}
  [1m[36mPizzaDimension Load (0.6ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 20]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 18.0ms | Allocations: 9615)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.2ms | Allocations: 1716)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 25.9ms | Allocations: 13374)
Completed 200 OK in 35ms (Views: 24.0ms | ActiveRecord: 3.7ms | Allocations: 15955)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:41:45 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:41:45 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-02 15:41:45 +0300
Started PATCH "/custom_pizza?filling_id=7" for ::1 at 2023-05-02 15:41:46 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>5, "filling_id"=>"7", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 20], ["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
  [1m[36mPizzaFilling Delete All (0.3ms)[0m  [1m[31mDELETE FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" = $1 AND "pizza_fillings"."filling_id" = $2[0m  [["pizza_id", 20], ["filling_id", 7]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 19ms (ActiveRecord: 6.1ms | Allocations: 5718)


Started PATCH "/custom_pizza?filling_id=4" for ::1 at 2023-05-02 15:41:47 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>5, "filling_id"=>"4", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 20], ["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
  [1m[36mPizzaFilling Delete All (0.3ms)[0m  [1m[31mDELETE FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" = $1 AND "pizza_fillings"."filling_id" = $2[0m  [["pizza_id", 20], ["filling_id", 4]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 17ms (ActiveRecord: 6.0ms | Allocations: 5703)


Started GET "/custom_pizza/edit?order_item_id=5" for ::1 at 2023-05-02 15:41:48 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"5"}
  [1m[36mPizzaDimension Load (0.6ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 20]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 18.6ms | Allocations: 8475)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.4ms | Allocations: 1716)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 27.0ms | Allocations: 12230)
Completed 200 OK in 37ms (Views: 24.9ms | ActiveRecord: 3.9ms | Allocations: 14806)


Started GET "/assets/application.js" for ::1 at 2023-05-02 15:41:48 +0300
Started GET "/assets/application.css" for ::1 at 2023-05-02 15:41:48 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-02 15:41:48 +0300
Started GET "/custom_pizza/edit?order_item_id=5" for ::1 at 2023-05-02 15:41:48 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"5"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.1ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 20]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mOrdinaryFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 16.7ms | Allocations: 8465)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 5.6ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 27.5ms | Allocations: 12218)
Completed 200 OK in 34ms (Views: 25.8ms | ActiveRecord: 2.9ms | Allocations: 14793)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:41:48 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:41:48 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-02 15:41:48 +0300
Started PATCH "/custom_pizza?filling_id=4" for ::1 at 2023-05-02 15:41:53 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>5, "filling_id"=>"4", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 20], ["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mPizzaFilling Create (0.6ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 20], ["filling_id", 4], ["created_at", "2023-05-02 12:41:53.563882"], ["updated_at", "2023-05-02 12:41:53.563882"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 21ms (ActiveRecord: 7.5ms | Allocations: 6427)


Started GET "/custom_pizza/edit?order_item_id=5" for ::1 at 2023-05-02 15:42:05 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"5"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 20]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 19.4ms | Allocations: 9253)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.2ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 26.5ms | Allocations: 13006)
Completed 200 OK in 33ms (Views: 24.2ms | ActiveRecord: 3.6ms | Allocations: 15581)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:42:05 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:42:05 +0300
Started GET "/custom_pizza/edit?order_item_id=5" for ::1 at 2023-05-02 15:42:06 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"5"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (1.1ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 20]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 77.3ms | Allocations: 9251)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 17.7ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 3.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 117.5ms | Allocations: 13004)
Completed 200 OK in 125ms (Views: 115.2ms | ActiveRecord: 3.7ms | Allocations: 15579)


Started GET "/assets/application.js" for ::1 at 2023-05-02 15:42:06 +0300
Started GET "/assets/application.css" for ::1 at 2023-05-02 15:42:06 +0300
Started PATCH "/custom_pizza?filling_id=4" for ::1 at 2023-05-02 15:42:08 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>5, "filling_id"=>"4", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 20], ["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
  [1m[36mPizzaFilling Delete All (0.3ms)[0m  [1m[31mDELETE FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" = $1 AND "pizza_fillings"."filling_id" = $2[0m  [["pizza_id", 20], ["filling_id", 4]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 14ms (ActiveRecord: 2.6ms | Allocations: 5717)


Started GET "/custom_pizza/edit?order_item_id=5" for ::1 at 2023-05-02 15:42:09 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"5"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 20]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mOrdinaryFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 17.1ms | Allocations: 8462)
  [1m[36mOrder Load (0.8ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 5.0ms | Allocations: 1716)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.6ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 58.0ms | Allocations: 13313)
Completed 200 OK in 64ms (Views: 55.0ms | ActiveRecord: 4.1ms | Allocations: 15889)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:42:09 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:42:09 +0300
Started GET "/custom_pizza/edit?order_item_id=5" for ::1 at 2023-05-02 15:42:10 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"5"}
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 20]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 17.3ms | Allocations: 8456)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.4ms | Allocations: 1716)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 25.8ms | Allocations: 12215)
Completed 200 OK in 34ms (Views: 23.5ms | ActiveRecord: 4.0ms | Allocations: 14791)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:42:10 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:42:10 +0300
Started GET "/custom_pizza/edit?order_item_id=5" for ::1 at 2023-05-02 15:42:10 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"5"}
  [1m[36mPizzaDimension Load (0.8ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 20]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 16.7ms | Allocations: 8465)
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.0ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.0ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.6ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 24.8ms | Allocations: 12218)
Completed 200 OK in 36ms (Views: 22.6ms | ActiveRecord: 4.2ms | Allocations: 14798)


Started GET "/assets/application.js" for ::1 at 2023-05-02 15:42:10 +0300
Started GET "/assets/application.css" for ::1 at 2023-05-02 15:42:10 +0300
Started PATCH "/custom_pizza?filling_id=4" for ::1 at 2023-05-02 15:42:12 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>5, "filling_id"=>"4", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 20], ["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mPizzaFilling Create (1.0ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 20], ["filling_id", 4], ["created_at", "2023-05-02 12:42:12.754147"], ["updated_at", "2023-05-02 12:42:12.754147"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 18ms (ActiveRecord: 4.2ms | Allocations: 6417)


Started PATCH "/custom_pizza?filling_id=4" for ::1 at 2023-05-02 15:42:14 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>5, "filling_id"=>"4", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 20], ["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
  [1m[36mPizzaFilling Delete All (0.4ms)[0m  [1m[31mDELETE FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" = $1 AND "pizza_fillings"."filling_id" = $2[0m  [["pizza_id", 20], ["filling_id", 4]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 16ms (ActiveRecord: 3.9ms | Allocations: 5718)


Started PATCH "/custom_pizza?filling_id=4" for ::1 at 2023-05-02 15:42:15 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>5, "filling_id"=>"4", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 20], ["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mPizzaFilling Create (0.6ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 20], ["filling_id", 4], ["created_at", "2023-05-02 12:42:15.265486"], ["updated_at", "2023-05-02 12:42:15.265486"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 23ms (ActiveRecord: 7.7ms | Allocations: 6414)


Started PATCH "/custom_pizza?filling_id=4" for ::1 at 2023-05-02 15:42:15 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>5, "filling_id"=>"4", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 20], ["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
  [1m[36mPizzaFilling Delete All (0.5ms)[0m  [1m[31mDELETE FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" = $1 AND "pizza_fillings"."filling_id" = $2[0m  [["pizza_id", 20], ["filling_id", 4]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 17ms (ActiveRecord: 4.2ms | Allocations: 5703)


Started PATCH "/custom_pizza?filling_id=4" for ::1 at 2023-05-02 15:42:17 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>5, "filling_id"=>"4", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 20], ["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mPizzaFilling Create (0.5ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 20], ["filling_id", 4], ["created_at", "2023-05-02 12:42:17.797565"], ["updated_at", "2023-05-02 12:42:17.797565"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 22ms (ActiveRecord: 7.5ms | Allocations: 6407)


Started PATCH "/custom_pizza?filling_id=4" for ::1 at 2023-05-02 15:42:20 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>5, "filling_id"=>"4", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 20], ["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
  [1m[36mPizzaFilling Delete All (0.5ms)[0m  [1m[31mDELETE FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" = $1 AND "pizza_fillings"."filling_id" = $2[0m  [["pizza_id", 20], ["filling_id", 4]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `delete_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 20ms (ActiveRecord: 7.4ms | Allocations: 5718)


Started GET "/custom_pizza/edit?order_item_id=5" for ::1 at 2023-05-02 15:42:22 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"5"}
  [1m[36mPizzaDimension Load (0.6ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 20]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 15.5ms | Allocations: 8468)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.7ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 24.0ms | Allocations: 12221)
Completed 200 OK in 35ms (Views: 21.8ms | ActiveRecord: 3.9ms | Allocations: 14797)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:42:22 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:42:22 +0300
Started GET "/custom_pizza/edit?order_item_id=5" for ::1 at 2023-05-02 15:42:23 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"5"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 20]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 20.8ms | Allocations: 8450)
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 3.9ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.5ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 28.6ms | Allocations: 12203)
Completed 200 OK in 35ms (Views: 26.9ms | ActiveRecord: 3.3ms | Allocations: 14778)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:42:23 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:42:23 +0300
Started GET "/cart" for ::1 at 2023-05-02 15:42:57 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizza Load (1.1ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2, $3)[0m  [["id", 18], ["id", 19], ["id", 20]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaPicture Load (1.0ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3, $4)[0m  [["picturable_type", "Pizza"], ["picturable_id", 18], ["picturable_id", 19], ["picturable_id", 20]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaFilling Load (1.3ms)[0m  [1m[34mSELECT "pizza_fillings".* FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" IN ($1, $2, $3)[0m  [["pizza_id", 18], ["pizza_id", 19], ["pizza_id", 20]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)[0m  [["id", 1], ["id", 7], ["id", 6], ["id", 5], ["id", 4], ["id", 2], ["id", 8], ["id", 3], ["id", 9], ["id", 10], ["id", 11]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  Rendered carts/_order_items.haml (Duration: 51.1ms | Allocations: 36566)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2, $3)[0m  [["id", 18], ["id", 19], ["id", 20]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mFilling Load (1.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 19]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 20]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2, $3)[0m  [["id", 18], ["id", 19], ["id", 20]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 19]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 20]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 126.0ms | Allocations: 75189)
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.5ms | Allocations: 870)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 132.2ms | Allocations: 78238)
Completed 200 OK in 175ms (Views: 130.6ms | ActiveRecord: 8.4ms | Allocations: 97225)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:42:57 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:42:57 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-02 15:42:57 +0300
Started GET "/custom_pizza/edit?order_item_id=5" for ::1 at 2023-05-02 15:42:59 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"5"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 20]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mOrdinaryFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 15.4ms | Allocations: 8532)
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.2ms | Allocations: 1727)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 22.7ms | Allocations: 12310)
Completed 200 OK in 30ms (Views: 21.6ms | ActiveRecord: 2.6ms | Allocations: 14960)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:42:59 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:42:59 +0300
Started GET "/cart" for ::1 at 2023-05-02 15:43:02 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (1.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2, $3)[0m  [["id", 18], ["id", 19], ["id", 20]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaPicture Load (0.6ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3, $4)[0m  [["picturable_type", "Pizza"], ["picturable_id", 18], ["picturable_id", 19], ["picturable_id", 20]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mPizzaFilling Load (0.5ms)[0m  [1m[34mSELECT "pizza_fillings".* FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" IN ($1, $2, $3)[0m  [["pizza_id", 18], ["pizza_id", 19], ["pizza_id", 20]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  [1m[36mFilling Load (1.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)[0m  [["id", 1], ["id", 7], ["id", 6], ["id", 5], ["id", 4], ["id", 2], ["id", 8], ["id", 3], ["id", 9], ["id", 10], ["id", 11]]
  â†³ app/controllers/carts_controller.rb:3:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  Rendered carts/_order_items.haml (Duration: 22.9ms | Allocations: 16172)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2, $3)[0m  [["id", 18], ["id", 19], ["id", 20]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mFilling Load (1.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 19]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 20]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2, $3)[0m  [["id", 18], ["id", 19], ["id", 20]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 18]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 19]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 20]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 74.5ms | Allocations: 44038)
  [1m[36mOrderItem Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.7ms | Allocations: 816)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.4ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 80.1ms | Allocations: 46853)
Completed 200 OK in 116ms (Views: 77.0ms | ActiveRecord: 8.0ms | Allocations: 62624)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:43:02 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:43:02 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-02 15:43:02 +0300
Started GET "/pizzas" for ::1 at 2023-05-02 15:43:04 +0300
Processing by PizzasController#index as HTML
  [1m[36mPizza Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."type" = $1[0m  [["type", "OrdinaryPizza"]]
  â†³ app/controllers/pizzas_controller.rb:5:in `index'
  Rendering layout layouts/application.haml
  Rendering pizzas/index.haml within layouts/application
  Rendered pizzas/_order_dropdown.haml (Duration: 5.9ms | Allocations: 5688)
  [1m[36mPizza Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas"[0m
  â†³ app/views/pizzas/index.haml:12
  [1m[36mCategory Load (0.9ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/pizzas/index.haml:13
  [1m[36mPizza Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 1]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 2]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 3]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 4]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Load (0.7ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."type" = $1 ORDER BY "pizzas"."name" ASC LIMIT $2 OFFSET $3[0m  [["type", "OrdinaryPizza"], ["LIMIT", 12], ["OFFSET", 0]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mPizzaPicture Load (1.0ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13)[0m  [["picturable_type", "Pizza"], ["picturable_id", 1], ["picturable_id", 8], ["picturable_id", 12], ["picturable_id", 14], ["picturable_id", 9], ["picturable_id", 3], ["picturable_id", 10], ["picturable_id", 5], ["picturable_id", 2], ["picturable_id", 15], ["picturable_id", 11], ["picturable_id", 13]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  Rendered pizzas/_pizza.haml (Duration: 58.5ms | Allocations: 37970)
  Rendered pizzas/_view_more.haml (Duration: 3.6ms | Allocations: 2908)
  Rendered pizzas/index.haml within layouts/application (Duration: 95.7ms | Allocations: 61148)
  [1m[36mOrderItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.7ms | Allocations: 943)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 101.9ms | Allocations: 64146)
Completed 200 OK in 110ms (Views: 96.8ms | ActiveRecord: 8.4ms | Allocations: 66203)


Started GET "/assets/application.js" for ::1 at 2023-05-02 15:43:05 +0300
Started GET "/assets/application.css" for ::1 at 2023-05-02 15:43:05 +0300
Started GET "/assets/medium.png" for ::1 at 2023-05-02 15:43:05 +0300
Started GET "/custom_pizza/new" for ::1 at 2023-05-02 15:43:05 +0300
Processing by CustomPizzasController#new as HTML
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/new.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/new.haml:15:in `map'
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/new.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/new.haml:40
  Rendered custom_pizzas/new.haml within layouts/application (Duration: 25.3ms | Allocations: 24996)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.7ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.4ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 34.6ms | Allocations: 28749)
Completed 200 OK in 39ms (Views: 33.5ms | ActiveRecord: 2.2ms | Allocations: 29984)


Started GET "/assets/application.js" for ::1 at 2023-05-02 15:43:06 +0300
Started GET "/assets/application.css" for ::1 at 2023-05-02 15:43:06 +0300
Started GET "/pizzas" for ::1 at 2023-05-02 15:43:12 +0300
Processing by PizzasController#index as HTML
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."type" = $1[0m  [["type", "OrdinaryPizza"]]
  â†³ app/controllers/pizzas_controller.rb:5:in `index'
  Rendering layout layouts/application.haml
  Rendering pizzas/index.haml within layouts/application
  Rendered pizzas/_order_dropdown.haml (Duration: 0.7ms | Allocations: 496)
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas"[0m
  â†³ app/views/pizzas/index.haml:12
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/pizzas/index.haml:13
  [1m[36mPizza Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 1]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 2]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 3]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 4]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."type" = $1 ORDER BY "pizzas"."name" ASC LIMIT $2 OFFSET $3[0m  [["type", "OrdinaryPizza"], ["LIMIT", 12], ["OFFSET", 0]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mPizzaPicture Load (0.8ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13)[0m  [["picturable_type", "Pizza"], ["picturable_id", 1], ["picturable_id", 8], ["picturable_id", 12], ["picturable_id", 14], ["picturable_id", 9], ["picturable_id", 3], ["picturable_id", 10], ["picturable_id", 5], ["picturable_id", 2], ["picturable_id", 15], ["picturable_id", 11], ["picturable_id", 13]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  Rendered pizzas/_pizza.haml (Duration: 54.5ms | Allocations: 28191)
  Rendered pizzas/_view_more.haml (Duration: 0.1ms | Allocations: 49)
  Rendered pizzas/index.haml within layouts/application (Duration: 68.5ms | Allocations: 33222)
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.8ms | Allocations: 896)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.4ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 74.1ms | Allocations: 36111)
Completed 200 OK in 78ms (Views: 69.9ms | ActiveRecord: 5.3ms | Allocations: 37194)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:43:12 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:43:12 +0300
Started GET "/assets/medium.png" for ::1 at 2023-05-02 15:43:12 +0300
Started GET "/custom_pizza/new" for ::1 at 2023-05-02 15:43:44 +0300
Processing by CustomPizzasController#new as HTML
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/new.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.1ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/new.haml:15:in `map'
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/new.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/new.haml:40
  Rendered custom_pizzas/new.haml within layouts/application (Duration: 27.5ms | Allocations: 25448)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 10.3ms | Allocations: 6017)
  Rendered layouts/_flesh.haml (Duration: 4.4ms | Allocations: 2009)
  Rendered layouts/_footer.haml (Duration: 14.4ms | Allocations: 12633)
  Rendered layout layouts/application.haml (Duration: 69.1ms | Allocations: 54952)
Completed 200 OK in 74ms (Views: 68.9ms | ActiveRecord: 2.3ms | Allocations: 56665)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:43:44 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:43:44 +0300
Started GET "/custom_pizza/new" for ::1 at 2023-05-02 15:43:46 +0300
Processing by CustomPizzasController#new as HTML
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/new.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/new.haml:15:in `map'
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/new.haml:31
  [1m[36mAdditionalFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/new.haml:40
  Rendered custom_pizzas/new.haml within layouts/application (Duration: 8.1ms | Allocations: 4660)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.1ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 15.2ms | Allocations: 8412)
Completed 200 OK in 18ms (Views: 14.0ms | ActiveRecord: 2.1ms | Allocations: 9568)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:43:46 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:43:46 +0300
Started GET "/custom_pizza/new" for ::1 at 2023-05-02 15:43:46 +0300
Processing by CustomPizzasController#new as HTML
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/new.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/new.haml:15:in `map'
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/new.haml:31
  [1m[36mAdditionalFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/new.haml:40
  Rendered custom_pizzas/new.haml within layouts/application (Duration: 8.0ms | Allocations: 4636)
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 3.8ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 14.9ms | Allocations: 8388)
Completed 200 OK in 18ms (Views: 14.3ms | ActiveRecord: 1.3ms | Allocations: 9507)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:43:47 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:43:47 +0300
Started GET "/custom_pizza/new" for ::1 at 2023-05-02 15:43:56 +0300
Processing by CustomPizzasController#new as HTML
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/new.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/new.haml:15:in `map'
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/new.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/new.haml:40
  Rendered custom_pizzas/new.haml within layouts/application (Duration: 31.3ms | Allocations: 25365)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 9.8ms | Allocations: 6015)
  Rendered layouts/_flesh.haml (Duration: 3.0ms | Allocations: 2008)
  Rendered layouts/_footer.haml (Duration: 12.8ms | Allocations: 12620)
  Rendered layout layouts/application.haml (Duration: 71.3ms | Allocations: 54844)
Completed 200 OK in 77ms (Views: 71.8ms | ActiveRecord: 1.9ms | Allocations: 56552)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:43:56 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:43:56 +0300
Started GET "/custom_pizza/new" for ::1 at 2023-05-02 15:43:57 +0300
Processing by CustomPizzasController#new as HTML
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/new.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/new.haml:15:in `map'
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/new.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/new.haml:40
  Rendered custom_pizzas/new.haml within layouts/application (Duration: 7.4ms | Allocations: 4644)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.9ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.5ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 16.1ms | Allocations: 8396)
Completed 200 OK in 20ms (Views: 15.0ms | ActiveRecord: 2.1ms | Allocations: 9553)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:43:57 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:43:57 +0300
Started GET "/custom_pizza/new" for ::1 at 2023-05-02 15:44:38 +0300
Processing by CustomPizzasController#new as HTML
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/new.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/new.haml:15:in `map'
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/new.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/new.haml:40
  Rendered custom_pizzas/new.haml within layouts/application (Duration: 8.0ms | Allocations: 4629)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.6ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 49.1ms | Allocations: 9464)
Completed 200 OK in 53ms (Views: 48.1ms | ActiveRecord: 1.9ms | Allocations: 10583)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:44:38 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:44:38 +0300
Started GET "/custom_pizza/new" for ::1 at 2023-05-02 15:44:39 +0300
Processing by CustomPizzasController#new as HTML
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/new.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/new.haml:15:in `map'
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/new.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/new.haml:40
  Rendered custom_pizzas/new.haml within layouts/application (Duration: 7.6ms | Allocations: 4632)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 10.0ms | Allocations: 1715)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 20.8ms | Allocations: 8385)
Completed 200 OK in 24ms (Views: 19.5ms | ActiveRecord: 2.2ms | Allocations: 9504)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:44:39 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:44:39 +0300
Started GET "/custom_pizza/new" for ::1 at 2023-05-02 15:44:49 +0300
Processing by CustomPizzasController#new as HTML
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/new.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/new.haml:15:in `map'
  [1m[36mOrdinaryFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/new.haml:31
  [1m[36mAdditionalFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/new.haml:40
  Rendered custom_pizzas/new.haml within layouts/application (Duration: 8.3ms | Allocations: 4637)
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 3.8ms | Allocations: 1716)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 15.1ms | Allocations: 8393)
Completed 200 OK in 18ms (Views: 14.6ms | ActiveRecord: 1.2ms | Allocations: 9512)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:44:49 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:44:49 +0300
Started GET "/custom_pizza/new" for ::1 at 2023-05-02 15:45:15 +0300
Processing by CustomPizzasController#new as HTML
  [1m[36mPizzaDimension Load (0.6ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/new.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/new.haml:15:in `map'
  [1m[36mOrdinaryFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/new.haml:31
  [1m[36mAdditionalFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/new.haml:40
  Rendered custom_pizzas/new.haml within layouts/application (Duration: 12.4ms | Allocations: 4626)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 4]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.7ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 20.6ms | Allocations: 8378)
Completed 200 OK in 25ms (Views: 18.9ms | ActiveRecord: 2.9ms | Allocations: 9497)


Started GET "/assets/application.css" for ::1 at 2023-05-02 15:45:15 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-02 15:45:15 +0300
Started GET "/custom_pizza/new" for ::1 at 2023-05-03 11:39:02 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CustomPizzasController#new as HTML
  [1m[36mPizzaDimension Load (0.9ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/new.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/new.haml:15:in `map'
  [1m[36mOrdinaryFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/new.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/new.haml:40
  Rendered custom_pizzas/new.haml within layouts/application (Duration: 90.8ms | Allocations: 53488)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrder Create (1.7ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "created_at", "updated_at", "subtotal_cents", "subtotal_currency", "status", "delivery_id", "completed_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", nil], ["created_at", "2023-05-03 08:39:02.908250"], ["updated_at", "2023-05-03 08:39:02.908250"], ["subtotal_cents", 0], ["subtotal_currency", "USD"], ["status", 0], ["delivery_id", nil], ["completed_at", nil]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  Rendered layouts/_header_guess_user.haml (Duration: 35.0ms | Allocations: 14596)
  Rendered layout layouts/application.haml (Duration: 352.9ms | Allocations: 304587)
Completed 500 Internal Server Error in 388ms (ActiveRecord: 32.6ms | Allocations: 315217)


  
ActionView::Template::Error (PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "orders_pkey"
DETAIL:  Key (id)=(6) already exists.
):
     6:   = link_to t('.sign_up'), new_user_registration_path
     7:   %a{ href: cart_path }
     8:     %i.fas.fa.fa-shopping-basket
     9:       = current_order.order_items.count
    10: .offset
  
app/interactors/orders/find_or_create.rb:8:in `call'
app/controllers/application_controller.rb:25:in `find_or_create_current_order'
app/controllers/application_controller.rb:21:in `current_order'
app/controllers/application_controller.rb:4:in `current_order'
app/views/layouts/_header_guess_user.haml:9
app/views/layouts/application.haml:15
Started GET "/custom_pizza/new" for ::1 at 2023-05-03 11:39:06 +0300
Processing by CustomPizzasController#new as HTML
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/new.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/new.haml:15:in `map'
  [1m[36mOrdinaryFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/new.haml:31
  [1m[36mAdditionalFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/new.haml:40
  Rendered custom_pizzas/new.haml within layouts/application (Duration: 12.5ms | Allocations: 5690)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "created_at", "updated_at", "subtotal_cents", "subtotal_currency", "status", "delivery_id", "completed_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", nil], ["created_at", "2023-05-03 08:39:06.657508"], ["updated_at", "2023-05-03 08:39:06.657508"], ["subtotal_cents", 0], ["subtotal_currency", "USD"], ["status", 0], ["delivery_id", nil], ["completed_at", nil]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 23.0ms | Allocations: 7080)
  Rendered layouts/_flesh.haml (Duration: 6.8ms | Allocations: 2163)
  Rendered layouts/_footer.haml (Duration: 12.2ms | Allocations: 12733)
  Rendered layout layouts/application.haml (Duration: 58.6ms | Allocations: 29844)
Completed 200 OK in 62ms (Views: 51.5ms | ActiveRecord: 8.1ms | Allocations: 31179)


Started GET "/assets/application.css" for ::1 at 2023-05-03 11:39:06 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-03 11:39:06 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-03 11:39:06 +0300
Started GET "/pizzas" for ::1 at 2023-05-03 11:39:15 +0300
Processing by PizzasController#index as HTML
  [1m[36mPizza Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."type" = $1[0m  [["type", "OrdinaryPizza"]]
  â†³ app/controllers/pizzas_controller.rb:5:in `index'
  Rendering layout layouts/application.haml
  Rendering pizzas/index.haml within layouts/application
  Rendered pizzas/_order_dropdown.haml (Duration: 6.7ms | Allocations: 5788)
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas"[0m
  â†³ app/views/pizzas/index.haml:12
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/pizzas/index.haml:13
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 1]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 2]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 3]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 4]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."type" = $1 ORDER BY "pizzas"."name" ASC LIMIT $2 OFFSET $3[0m  [["type", "OrdinaryPizza"], ["LIMIT", 12], ["OFFSET", 0]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mPizzaPicture Load (1.2ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13)[0m  [["picturable_type", "Pizza"], ["picturable_id", 1], ["picturable_id", 8], ["picturable_id", 12], ["picturable_id", 14], ["picturable_id", 9], ["picturable_id", 3], ["picturable_id", 10], ["picturable_id", 5], ["picturable_id", 2], ["picturable_id", 15], ["picturable_id", 11], ["picturable_id", 13]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  Rendered pizzas/_pizza.haml (Duration: 100.2ms | Allocations: 48807)
  Rendered pizzas/_view_more.haml (Duration: 3.7ms | Allocations: 2923)
  Rendered pizzas/index.haml within layouts/application (Duration: 145.6ms | Allocations: 72463)
  [1m[36mOrderItem Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 3.0ms | Allocations: 950)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 151.4ms | Allocations: 75467)
Completed 200 OK in 158ms (Views: 135.7ms | ActiveRecord: 18.2ms | Allocations: 77963)


Started GET "/assets/application.css" for ::1 at 2023-05-03 11:39:15 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-03 11:39:15 +0300
Started GET "/assets/medium.png" for ::1 at 2023-05-03 11:39:15 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-03 11:39:15 +0300
Started GET "/custom_pizza/new" for ::1 at 2023-05-03 11:39:29 +0300
Processing by CustomPizzasController#new as HTML
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/new.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/new.haml:15:in `map'
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/new.haml:31
  [1m[36mAdditionalFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/new.haml:40
  Rendered custom_pizzas/new.haml within layouts/application (Duration: 9.1ms | Allocations: 4720)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 5.3ms | Allocations: 1715)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.6ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 18.0ms | Allocations: 8475)
Completed 200 OK in 22ms (Views: 16.7ms | ActiveRecord: 2.3ms | Allocations: 9674)


Started GET "/assets/application.css" for ::1 at 2023-05-03 11:39:29 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-03 11:39:29 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-03 11:39:29 +0300
Started POST "/custom_pizza" for ::1 at 2023-05-03 11:39:34 +0300
Processing by CustomPizzasController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "custom_pizza"=>{"fillings"=>"1,3,5,7", "pizza_dimension"=>"30.0"}, "filling"=>"on", "commit"=>"create pizza"}
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mFilling Load (0.9ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" IN ($1, $2, $3, $4)[0m  [["id", 1], ["id", 3], ["id", 5], ["id", 7]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:31:in `current_form'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."dimension" = $1 LIMIT $2[0m  [["dimension", 30.0], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:23:in `pizza_dimension'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Custom"], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:43:in `create_pizza_params'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mCustomPizza Create (1.3ms)[0m  [1m[32mINSERT INTO "pizzas" ("name", "price_cents", "price_currency", "description", "category_id", "pizza_dimension_id", "created_at", "updated_at", "type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "custom_pizza"], ["price_cents", 1000], ["price_currency", "USD"], ["description", "none"], ["category_id", 4], ["pizza_dimension_id", 1], ["created_at", "2023-05-03 08:39:34.302677"], ["updated_at", "2023-05-03 08:39:34.302677"], ["type", "CustomPizza"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (1.1ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 22], ["filling_id", 1], ["created_at", "2023-05-03 08:39:34.306466"], ["updated_at", "2023-05-03 08:39:34.306466"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.5ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 22], ["filling_id", 3], ["created_at", "2023-05-03 08:39:34.309566"], ["updated_at", "2023-05-03 08:39:34.309566"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.9ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 22], ["filling_id", 5], ["created_at", "2023-05-03 08:39:34.312051"], ["updated_at", "2023-05-03 08:39:34.312051"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.9ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 22], ["filling_id", 7], ["created_at", "2023-05-03 08:39:34.315515"], ["updated_at", "2023-05-03 08:39:34.315515"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/create_custom_pizza.rb:15:in `create_order_item'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:15:in `create_order_item'
  [1m[36mOrderItem Create (1.1ms)[0m  [1m[32mINSERT INTO "order_items" ("price_cents", "price_currency", "quantity", "pizza_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["price_cents", 0], ["price_currency", "USD"], ["quantity", 1], ["pizza_id", 22], ["order_id", 7], ["created_at", "2023-05-03 08:39:34.342064"], ["updated_at", "2023-05-03 08:39:34.342064"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:15:in `create_order_item'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/create_custom_pizza.rb:15:in `create_order_item'
Redirected to http://localhost:3000/cart
Completed 302 Found in 95ms (ActiveRecord: 24.3ms | Allocations: 34610)


Started GET "/cart" for ::1 at 2023-05-03 11:39:34 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 22]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaPicture Load (0.4ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" = $2[0m  [["picturable_type", "Pizza"], ["picturable_id", 22]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaDimension Load (0.8ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaFilling Load (0.5ms)[0m  [1m[34mSELECT "pizza_fillings".* FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 22]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" IN ($1, $2, $3, $4)[0m  [["id", 1], ["id", 3], ["id", 5], ["id", 7]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  Rendered carts/_order_items.haml (Duration: 29.0ms | Allocations: 22110)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 22]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 22]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 22]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 22]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 73.1ms | Allocations: 44433)
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.1ms | Allocations: 871)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.8ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 79.3ms | Allocations: 47481)
Completed 200 OK in 123ms (Views: 79.2ms | ActiveRecord: 5.2ms | Allocations: 58072)


Started GET "/assets/application.css" for ::1 at 2023-05-03 11:39:34 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-03 11:39:34 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-03 11:39:34 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-03 11:39:34 +0300
Started GET "/custom_pizza/edit?order_item_id=7" for ::1 at 2023-05-03 11:39:36 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"7"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.9ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 22]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 43.4ms | Allocations: 33189)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.4ms | Allocations: 1719)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 51.2ms | Allocations: 36959)
Completed 200 OK in 60ms (Views: 48.8ms | ActiveRecord: 4.1ms | Allocations: 39848)


Started GET "/assets/application.css" for ::1 at 2023-05-03 11:39:36 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-03 11:39:36 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-03 11:39:36 +0300
Started GET "/custom_pizza/edit?order_item_id=7" for ::1 at 2023-05-03 11:39:53 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"7"}
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (1.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 22]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 21.7ms | Allocations: 10159)
  [1m[36mOrder Load (0.9ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 5.5ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 30.4ms | Allocations: 13912)
Completed 200 OK in 37ms (Views: 27.1ms | ActiveRecord: 5.4ms | Allocations: 16488)


Started GET "/assets/application.css" for ::1 at 2023-05-03 11:39:53 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-03 11:39:53 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-03 11:39:53 +0300
Started GET "/custom_pizza/edit?order_item_id=7" for ::1 at 2023-05-03 11:39:56 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"7"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 22]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 20.2ms | Allocations: 10169)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.3ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 27.4ms | Allocations: 13927)
Completed 200 OK in 35ms (Views: 24.9ms | ActiveRecord: 4.1ms | Allocations: 16528)


Started GET "/assets/application.css" for ::1 at 2023-05-03 11:39:56 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-03 11:39:56 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-03 11:39:56 +0300
Started GET "/custom_pizza/edit?order_item_id=7" for ::1 at 2023-05-03 11:44:54 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"7"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (1.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 22]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 22.5ms | Allocations: 10149)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 5.7ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.5ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 63.9ms | Allocations: 15002)
Completed 200 OK in 70ms (Views: 61.3ms | ActiveRecord: 4.2ms | Allocations: 17578)


Started GET "/assets/application.css" for ::1 at 2023-05-03 11:44:55 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-03 11:44:55 +0300
Started GET "/custom_pizza/edit?order_item_id=7" for ::1 at 2023-05-03 11:44:56 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"7"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 22]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 18.0ms | Allocations: 10128)
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.1ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 26.1ms | Allocations: 13881)
Completed 200 OK in 33ms (Views: 25.0ms | ActiveRecord: 2.5ms | Allocations: 16458)


Started GET "/assets/application.css" for ::1 at 2023-05-03 11:44:56 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-03 11:44:56 +0300
Started GET "/assets/application.css" for ::1 at 2023-05-03 11:45:00 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-03 11:45:00 +0300
Started GET "/custom_pizza/edit?order_item_id=7" for ::1 at 2023-05-03 11:45:01 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"7"}
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 22]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 19.2ms | Allocations: 10143)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.2ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.0ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 26.7ms | Allocations: 13896)
Completed 200 OK in 34ms (Views: 24.2ms | ActiveRecord: 4.3ms | Allocations: 16472)


Started GET "/assets/application.css" for ::1 at 2023-05-03 11:45:01 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-03 11:45:01 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-03 11:45:01 +0300
Started GET "/custom_pizza/edit?order_item_id=7" for ::1 at 2023-05-03 11:45:48 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"7"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 22]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 20.3ms | Allocations: 10143)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 5.6ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.4ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 71.3ms | Allocations: 14919)
Completed 200 OK in 78ms (Views: 69.4ms | ActiveRecord: 3.4ms | Allocations: 17495)


Started GET "/assets/application.css" for ::1 at 2023-05-03 11:45:48 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-03 11:45:48 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-03 11:45:48 +0300
Started GET "/custom_pizza/edit?order_item_id=7" for ::1 at 2023-05-03 11:45:49 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"7"}
  [1m[36mPizzaDimension Load (0.6ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 22]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 17.1ms | Allocations: 10134)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.6ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 57.2ms | Allocations: 14930)
Completed 200 OK in 69ms (Views: 54.7ms | ActiveRecord: 4.5ms | Allocations: 17506)


Started GET "/assets/application.css" for ::1 at 2023-05-03 11:45:49 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-03 11:45:49 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-03 11:45:49 +0300
Started GET "/custom_pizza/edit?order_item_id=7" for ::1 at 2023-05-03 11:45:54 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"7"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.6ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.7ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.9ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 22]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 33.0ms | Allocations: 10170)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.5ms | Allocations: 1716)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 41.5ms | Allocations: 13929)
Completed 200 OK in 52ms (Views: 38.8ms | ActiveRecord: 4.8ms | Allocations: 16507)


Started GET "/assets/application.js" for ::1 at 2023-05-03 11:45:54 +0300
Started GET "/assets/application.css" for ::1 at 2023-05-03 11:45:54 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-03 11:45:54 +0300
Started GET "/custom_pizza/edit?order_item_id=7" for ::1 at 2023-05-03 11:45:58 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"7"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 22]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 23.8ms | Allocations: 10177)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.7ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 32.6ms | Allocations: 13932)
Completed 200 OK in 41ms (Views: 30.8ms | ActiveRecord: 3.6ms | Allocations: 16513)


Started GET "/assets/application.css" for ::1 at 2023-05-03 11:45:58 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-03 11:45:58 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-03 11:45:58 +0300
Started GET "/cart" for ::1 at 2023-05-03 11:46:00 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 22]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaPicture Load (0.3ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" = $2[0m  [["picturable_type", "Pizza"], ["picturable_id", 22]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaFilling Load (0.4ms)[0m  [1m[34mSELECT "pizza_fillings".* FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 22]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" IN ($1, $2, $3, $4)[0m  [["id", 1], ["id", 3], ["id", 5], ["id", 7]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  Rendered carts/_order_items.haml (Duration: 7.6ms | Allocations: 4455)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 22]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mFilling Load (0.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 22]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 22]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 22]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 32.2ms | Allocations: 15602)
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.2ms | Allocations: 816)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 37.7ms | Allocations: 18419)
Completed 200 OK in 62ms (Views: 36.3ms | ActiveRecord: 4.9ms | Allocations: 27382)


Started GET "/assets/application.css" for ::1 at 2023-05-03 11:46:00 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-03 11:46:00 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-03 11:46:00 +0300
Started DELETE "/order_items?id=7" for ::1 at 2023-05-03 11:46:03 +0300
Processing by OrderItemsController#destroy as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"7", "order_item"=>{}}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."id" = $2 LIMIT $3[0m  [["order_id", 7], ["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/order_items_controller.rb:14:in `destroy'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/order_items_controller.rb:14:in `destroy'
  [1m[36mOrderItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM "order_items" WHERE "order_items"."id" = $1[0m  [["id", 7]]
  â†³ app/controllers/order_items_controller.rb:14:in `destroy'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/order_items_controller.rb:14:in `destroy'
No template found for OrderItemsController#destroy, rendering head :no_content
Completed 204 No Content in 11ms (ActiveRecord: 2.6ms | Allocations: 4292)


Started GET "/pizzas" for ::1 at 2023-05-03 11:46:04 +0300
Processing by PizzasController#index as HTML
  [1m[36mPizza Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."type" = $1[0m  [["type", "OrdinaryPizza"]]
  â†³ app/controllers/pizzas_controller.rb:5:in `index'
  Rendering layout layouts/application.haml
  Rendering pizzas/index.haml within layouts/application
  Rendered pizzas/_order_dropdown.haml (Duration: 0.7ms | Allocations: 527)
  [1m[36mPizza Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas"[0m
  â†³ app/views/pizzas/index.haml:12
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/pizzas/index.haml:13
  [1m[36mPizza Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 1]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 2]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 3]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 4]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Load (0.6ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."type" = $1 ORDER BY "pizzas"."name" ASC LIMIT $2 OFFSET $3[0m  [["type", "OrdinaryPizza"], ["LIMIT", 12], ["OFFSET", 0]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mPizzaPicture Load (0.5ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13)[0m  [["picturable_type", "Pizza"], ["picturable_id", 1], ["picturable_id", 8], ["picturable_id", 12], ["picturable_id", 14], ["picturable_id", 9], ["picturable_id", 3], ["picturable_id", 10], ["picturable_id", 5], ["picturable_id", 2], ["picturable_id", 15], ["picturable_id", 11], ["picturable_id", 13]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  Rendered pizzas/_pizza.haml (Duration: 40.5ms | Allocations: 28397)
  Rendered pizzas/_view_more.haml (Duration: 0.1ms | Allocations: 51)
  Rendered pizzas/index.haml within layouts/application (Duration: 52.0ms | Allocations: 33494)
  [1m[36mOrderItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.7ms | Allocations: 902)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 26)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 121)
  Rendered layout layouts/application.haml (Duration: 57.7ms | Allocations: 36410)
Completed 200 OK in 61ms (Views: 53.9ms | ActiveRecord: 4.7ms | Allocations: 37555)


Started GET "/assets/application.css" for ::1 at 2023-05-03 11:46:04 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-03 11:46:04 +0300
Started GET "/assets/medium.png" for ::1 at 2023-05-03 11:46:04 +0300
Started GET "/custom_pizza/new" for ::1 at 2023-05-03 11:46:05 +0300
Processing by CustomPizzasController#new as HTML
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/new.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/new.haml:15:in `map'
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/new.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/new.haml:40
  Rendered custom_pizzas/new.haml within layouts/application (Duration: 8.4ms | Allocations: 4725)
  [1m[36mOrder Load (0.9ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.9ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 16.3ms | Allocations: 8477)
Completed 200 OK in 19ms (Views: 14.7ms | ActiveRecord: 2.4ms | Allocations: 9608)


Started GET "/assets/application.css" for ::1 at 2023-05-03 11:46:05 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-03 11:46:05 +0300
Started POST "/custom_pizza" for ::1 at 2023-05-03 11:46:09 +0300
Processing by CustomPizzasController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "custom_pizza"=>{"fillings"=>"", "pizza_dimension"=>"30.0"}, "commit"=>"create pizza"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."dimension" = $1 LIMIT $2[0m  [["dimension", 30.0], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:23:in `pizza_dimension'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Custom"], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:43:in `create_pizza_params'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mCustomPizza Create (0.6ms)[0m  [1m[32mINSERT INTO "pizzas" ("name", "price_cents", "price_currency", "description", "category_id", "pizza_dimension_id", "created_at", "updated_at", "type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "custom_pizza"], ["price_cents", 1000], ["price_currency", "USD"], ["description", "none"], ["category_id", 4], ["pizza_dimension_id", 1], ["created_at", "2023-05-03 08:46:09.341636"], ["updated_at", "2023-05-03 08:46:09.341636"], ["type", "CustomPizza"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/create_custom_pizza.rb:15:in `create_order_item'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:15:in `create_order_item'
  [1m[36mOrderItem Create (1.1ms)[0m  [1m[32mINSERT INTO "order_items" ("price_cents", "price_currency", "quantity", "pizza_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["price_cents", 0], ["price_currency", "USD"], ["quantity", 1], ["pizza_id", 23], ["order_id", 7], ["created_at", "2023-05-03 08:46:09.355814"], ["updated_at", "2023-05-03 08:46:09.355814"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:15:in `create_order_item'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/create_custom_pizza.rb:15:in `create_order_item'
Redirected to http://localhost:3000/cart
Completed 302 Found in 34ms (ActiveRecord: 9.8ms | Allocations: 10715)


Started GET "/cart" for ::1 at 2023-05-03 11:46:09 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 23]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaPicture Load (0.4ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" = $2[0m  [["picturable_type", "Pizza"], ["picturable_id", 23]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaFilling Load (0.3ms)[0m  [1m[34mSELECT "pizza_fillings".* FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 23]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
  Rendered carts/_order_items.haml (Duration: 5.4ms | Allocations: 3077)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 23]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mFilling Load (0.9ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 23]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 23]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 23]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 23.6ms | Allocations: 12957)
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.0ms | Allocations: 816)
  Rendered layouts/_flesh.haml (Duration: 0.0ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 29.0ms | Allocations: 15772)
Completed 200 OK in 44ms (Views: 27.6ms | ActiveRecord: 4.0ms | Allocations: 22662)


Started GET "/assets/application.css" for ::1 at 2023-05-03 11:46:09 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-03 11:46:09 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-03 11:46:09 +0300
Started GET "/custom_pizza/edit?order_item_id=8" for ::1 at 2023-05-03 11:46:11 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"8"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 23]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 16.8ms | Allocations: 8468)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.5ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 24.7ms | Allocations: 12221)
Completed 200 OK in 32ms (Views: 22.7ms | ActiveRecord: 3.7ms | Allocations: 14801)


Started GET "/assets/application.css" for ::1 at 2023-05-03 11:46:11 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-03 11:46:11 +0300
Started GET "/custom_pizza/edit?order_item_id=8" for ::1 at 2023-05-03 11:47:47 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"8"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (1.1ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 23]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 35.6ms | Allocations: 31638)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 9.3ms | Allocations: 5967)
  Rendered layouts/_flesh.haml (Duration: 2.3ms | Allocations: 2009)
  Rendered layouts/_footer.haml (Duration: 10.3ms | Allocations: 12632)
  Rendered layout layouts/application.haml (Duration: 101.2ms | Allocations: 62169)
Completed 200 OK in 110ms (Views: 99.5ms | ActiveRecord: 4.4ms | Allocations: 65349)


Started GET "/assets/application.css" for ::1 at 2023-05-03 11:47:47 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-03 11:47:47 +0300
Started GET "/custom_pizza/edit?order_item_id=8" for ::1 at 2023-05-03 11:47:48 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"8"}
  [1m[36mPizzaDimension Load (0.6ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (1.1ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 23]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 18.2ms | Allocations: 8396)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.0ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 25.6ms | Allocations: 12149)
Completed 200 OK in 36ms (Views: 23.3ms | ActiveRecord: 4.4ms | Allocations: 14770)


Started GET "/assets/application.css" for ::1 at 2023-05-03 11:47:48 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-03 11:47:48 +0300
Started GET "/custom_pizza/edit?order_item_id=8" for ::1 at 2023-05-03 11:47:49 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"8"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 23]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 17.1ms | Allocations: 8423)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.4ms | Allocations: 1716)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 25.3ms | Allocations: 12182)
Completed 200 OK in 33ms (Views: 23.5ms | ActiveRecord: 3.7ms | Allocations: 14769)


Started GET "/assets/application.css" for ::1 at 2023-05-03 11:47:49 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-03 11:47:49 +0300
Started GET "/custom_pizza/edit?order_item_id=8" for ::1 at 2023-05-03 11:47:51 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"8"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (1.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 23]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mOrdinaryFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 17.8ms | Allocations: 8412)
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 3.6ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 25.4ms | Allocations: 12167)
Completed 200 OK in 32ms (Views: 23.6ms | ActiveRecord: 3.3ms | Allocations: 14747)


Started GET "/assets/application.css" for ::1 at 2023-05-03 11:47:51 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-03 11:47:51 +0300
Started GET "/assets/application.css" for ::1 at 2023-05-03 11:47:56 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-03 11:47:56 +0300
Started GET "/custom_pizza/edit?order_item_id=8" for ::1 at 2023-05-03 11:49:17 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"8"}
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (1.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 23]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 39.6ms | Allocations: 30938)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 10.3ms | Allocations: 5967)
  Rendered layouts/_flesh.haml (Duration: 6.2ms | Allocations: 2009)
  Rendered layouts/_footer.haml (Duration: 13.6ms | Allocations: 12632)
  Rendered layout layouts/application.haml (Duration: 80.9ms | Allocations: 60394)
Completed 200 OK in 90ms (Views: 79.7ms | ActiveRecord: 4.0ms | Allocations: 63560)


Started GET "/assets/application.css" for ::1 at 2023-05-03 11:49:17 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-03 11:49:17 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-03 11:49:18 +0300
Started GET "/custom_pizza/edit?order_item_id=8" for ::1 at 2023-05-03 11:49:33 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"8"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 23]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 41.7ms | Allocations: 31018)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 10.5ms | Allocations: 5967)
  Rendered layouts/_flesh.haml (Duration: 3.6ms | Allocations: 2008)
  Rendered layouts/_footer.haml (Duration: 13.2ms | Allocations: 12619)
  Rendered layout layouts/application.haml (Duration: 82.5ms | Allocations: 60453)
Completed 200 OK in 91ms (Views: 80.8ms | ActiveRecord: 4.3ms | Allocations: 63663)


Started GET "/assets/application.css" for ::1 at 2023-05-03 11:49:33 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-03 11:49:33 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-03 11:49:33 +0300
Started GET "/custom_pizza/edit?order_item_id=8" for ::1 at 2023-05-03 11:49:43 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"8"}
  [1m[36mPizzaDimension Load (0.6ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 23]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 20.5ms | Allocations: 7781)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.5ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 28.1ms | Allocations: 11534)
Completed 200 OK in 36ms (Views: 25.9ms | ActiveRecord: 4.1ms | Allocations: 14160)


Started GET "/assets/application.css" for ::1 at 2023-05-03 11:49:43 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-03 11:49:43 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-03 11:49:43 +0300
Started GET "/custom_pizza/edit?order_item_id=8" for ::1 at 2023-05-03 11:49:45 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"8"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (1.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 23]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 16.3ms | Allocations: 7794)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 3.9ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 23.5ms | Allocations: 11547)
Completed 200 OK in 30ms (Views: 21.1ms | ActiveRecord: 3.7ms | Allocations: 14124)


Started GET "/assets/application.css" for ::1 at 2023-05-03 11:49:45 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-03 11:49:46 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-03 11:49:46 +0300
Started GET "/cart" for ::1 at 2023-05-03 11:51:12 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 23]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaPicture Load (0.3ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" = $2[0m  [["picturable_type", "Pizza"], ["picturable_id", 23]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaFilling Load (0.4ms)[0m  [1m[34mSELECT "pizza_fillings".* FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 23]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
  Rendered carts/_order_items.haml (Duration: 19.1ms | Allocations: 20436)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 23]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mFilling Load (0.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 23]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 23]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 23]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 47.5ms | Allocations: 39687)
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.1ms | Allocations: 850)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 53.2ms | Allocations: 42615)
Completed 200 OK in 71ms (Views: 53.0ms | ActiveRecord: 4.1ms | Allocations: 49915)


Started GET "/assets/application.css" for ::1 at 2023-05-03 11:51:12 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-03 11:51:12 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-03 11:51:12 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-03 11:51:12 +0300
Started GET "/pizzas" for ::1 at 2023-05-03 11:51:16 +0300
Processing by PizzasController#index as HTML
  [1m[36mPizza Count (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."type" = $1[0m  [["type", "OrdinaryPizza"]]
  â†³ app/controllers/pizzas_controller.rb:5:in `index'
  Rendering layout layouts/application.haml
  Rendering pizzas/index.haml within layouts/application
  Rendered pizzas/_order_dropdown.haml (Duration: 6.9ms | Allocations: 5688)
  [1m[36mPizza Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas"[0m
  â†³ app/views/pizzas/index.haml:12
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/pizzas/index.haml:13
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 1]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 2]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 3]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 4]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Load (0.6ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."type" = $1 ORDER BY "pizzas"."name" ASC LIMIT $2 OFFSET $3[0m  [["type", "OrdinaryPizza"], ["LIMIT", 12], ["OFFSET", 0]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mPizzaPicture Load (0.5ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13)[0m  [["picturable_type", "Pizza"], ["picturable_id", 1], ["picturable_id", 8], ["picturable_id", 12], ["picturable_id", 14], ["picturable_id", 9], ["picturable_id", 3], ["picturable_id", 10], ["picturable_id", 5], ["picturable_id", 2], ["picturable_id", 15], ["picturable_id", 11], ["picturable_id", 13]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  Rendered pizzas/_pizza.haml (Duration: 55.7ms | Allocations: 34810)
  Rendered pizzas/_view_more.haml (Duration: 3.7ms | Allocations: 2793)
  Rendered pizzas/index.haml within layouts/application (Duration: 99.2ms | Allocations: 56413)
  [1m[36mOrderItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.6ms | Allocations: 914)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 105.4ms | Allocations: 59380)
Completed 200 OK in 114ms (Views: 103.3ms | ActiveRecord: 6.6ms | Allocations: 60867)


Started GET "/assets/application.css" for ::1 at 2023-05-03 11:51:16 +0300
Started GET "/assets/medium.png" for ::1 at 2023-05-03 11:51:16 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-03 11:51:16 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-03 11:51:16 +0300
Started GET "/custom_pizza/new" for ::1 at 2023-05-03 11:51:17 +0300
Processing by CustomPizzasController#new as HTML
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/new.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/new.haml:15:in `map'
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/new.haml:31
  [1m[36mAdditionalFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/new.haml:40
  Rendered custom_pizzas/new.haml within layouts/application (Duration: 24.8ms | Allocations: 24951)
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 3.5ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 31.1ms | Allocations: 28705)
Completed 200 OK in 34ms (Views: 30.5ms | ActiveRecord: 1.3ms | Allocations: 29918)


Started GET "/assets/application.css" for ::1 at 2023-05-03 11:51:17 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-03 11:51:18 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-03 11:51:18 +0300
Started POST "/custom_pizza" for ::1 at 2023-05-03 11:51:30 +0300
Processing by CustomPizzasController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "custom_pizza"=>{"fillings"=>"1,2,3,4,5,6,7,8,9,10,11", "pizza_dimension"=>"100.0"}, "filling"=>"on", "commit"=>"create pizza"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)[0m  [["id", 1], ["id", 2], ["id", 3], ["id", 4], ["id", 5], ["id", 6], ["id", 7], ["id", 8], ["id", 9], ["id", 10], ["id", 11]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:31:in `current_form'
  [1m[36mPizzaDimension Load (0.6ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."dimension" = $1 LIMIT $2[0m  [["dimension", 100.0], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:23:in `pizza_dimension'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Custom"], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:43:in `create_pizza_params'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mCustomPizza Create (0.5ms)[0m  [1m[32mINSERT INTO "pizzas" ("name", "price_cents", "price_currency", "description", "category_id", "pizza_dimension_id", "created_at", "updated_at", "type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "custom_pizza"], ["price_cents", 1000], ["price_currency", "USD"], ["description", "none"], ["category_id", 4], ["pizza_dimension_id", 4], ["created_at", "2023-05-03 08:51:30.206537"], ["updated_at", "2023-05-03 08:51:30.206537"], ["type", "CustomPizza"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.4ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 24], ["filling_id", 1], ["created_at", "2023-05-03 08:51:30.209302"], ["updated_at", "2023-05-03 08:51:30.209302"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.4ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 24], ["filling_id", 2], ["created_at", "2023-05-03 08:51:30.211846"], ["updated_at", "2023-05-03 08:51:30.211846"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.5ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 24], ["filling_id", 3], ["created_at", "2023-05-03 08:51:30.214388"], ["updated_at", "2023-05-03 08:51:30.214388"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.7ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 24], ["filling_id", 4], ["created_at", "2023-05-03 08:51:30.218119"], ["updated_at", "2023-05-03 08:51:30.218119"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.6ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 24], ["filling_id", 5], ["created_at", "2023-05-03 08:51:30.221080"], ["updated_at", "2023-05-03 08:51:30.221080"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.3ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 24], ["filling_id", 6], ["created_at", "2023-05-03 08:51:30.223907"], ["updated_at", "2023-05-03 08:51:30.223907"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.3ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 24], ["filling_id", 7], ["created_at", "2023-05-03 08:51:30.226360"], ["updated_at", "2023-05-03 08:51:30.226360"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.5ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 24], ["filling_id", 8], ["created_at", "2023-05-03 08:51:30.229155"], ["updated_at", "2023-05-03 08:51:30.229155"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.5ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 24], ["filling_id", 9], ["created_at", "2023-05-03 08:51:30.233020"], ["updated_at", "2023-05-03 08:51:30.233020"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.4ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 24], ["filling_id", 10], ["created_at", "2023-05-03 08:51:30.236518"], ["updated_at", "2023-05-03 08:51:30.236518"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.4ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 24], ["filling_id", 11], ["created_at", "2023-05-03 08:51:30.240049"], ["updated_at", "2023-05-03 08:51:30.240049"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/create_custom_pizza.rb:15:in `create_order_item'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:15:in `create_order_item'
  [1m[36mOrderItem Create (0.7ms)[0m  [1m[32mINSERT INTO "order_items" ("price_cents", "price_currency", "quantity", "pizza_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["price_cents", 0], ["price_currency", "USD"], ["quantity", 1], ["pizza_id", 24], ["order_id", 7], ["created_at", "2023-05-03 08:51:30.256614"], ["updated_at", "2023-05-03 08:51:30.256614"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:15:in `create_order_item'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/create_custom_pizza.rb:15:in `create_order_item'
Redirected to http://localhost:3000/cart
Completed 302 Found in 90ms (ActiveRecord: 15.3ms | Allocations: 32143)


Started GET "/cart" for ::1 at 2023-05-03 11:51:30 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizza Load (0.6ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 23], ["id", 24]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaPicture Load (0.5ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3)[0m  [["picturable_type", "Pizza"], ["picturable_id", 23], ["picturable_id", 24]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" IN ($1, $2)[0m  [["id", 1], ["id", 4]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaFilling Load (0.4ms)[0m  [1m[34mSELECT "pizza_fillings".* FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" IN ($1, $2)[0m  [["pizza_id", 23], ["pizza_id", 24]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)[0m  [["id", 1], ["id", 2], ["id", 3], ["id", 4], ["id", 5], ["id", 6], ["id", 7], ["id", 8], ["id", 9], ["id", 10], ["id", 11]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  Rendered carts/_order_items.haml (Duration: 15.7ms | Allocations: 9742)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 23], ["id", 24]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mFilling Load (1.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 23]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 24]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 23], ["id", 24]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 23]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 24]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 56.0ms | Allocations: 28794)
  [1m[36mOrderItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 7]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.4ms | Allocations: 818)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 62.5ms | Allocations: 31614)
Completed 200 OK in 88ms (Views: 59.9ms | ActiveRecord: 6.4ms | Allocations: 43800)


Started GET "/assets/application.css" for ::1 at 2023-05-03 11:51:30 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-03 11:51:30 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-03 11:51:30 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-03 11:51:30 +0300
Started GET "/" for ::1 at 2023-05-04 12:58:57 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomesController#index as HTML
  [1m[36mPizza Load (7.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" INNER JOIN "order_items" ON "order_items"."pizza_id" = "pizzas"."id" INNER JOIN "orders" ON "orders"."id" = "order_items"."order_id" WHERE "pizzas"."type" = $1 AND "orders"."status" IN ($2, $3, $4, $5, $6) GROUP BY "pizzas"."id" ORDER BY sum(order_items.quantity) desc[0m  [["type", "OrdinaryPizza"], ["status", 4], ["status", 5], ["status", 6], ["status", 7], ["status", 8]]
  â†³ app/queries/pizzas/best_sellers_query.rb:12:in `call'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."type" = $1[0m  [["type", "OrdinaryPizza"]]
  â†³ app/controllers/homes_controller.rb:6:in `index'
  [1m[36mPizzaPicture Load (1.4ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16)[0m  [["picturable_type", "Pizza"], ["picturable_id", 1], ["picturable_id", 2], ["picturable_id", 3], ["picturable_id", 4], ["picturable_id", 5], ["picturable_id", 6], ["picturable_id", 7], ["picturable_id", 8], ["picturable_id", 9], ["picturable_id", 10], ["picturable_id", 11], ["picturable_id", 12], ["picturable_id", 13], ["picturable_id", 14], ["picturable_id", 15]]
  â†³ app/controllers/homes_controller.rb:6:in `index'
  Rendering layout layouts/application.haml
  Rendering homes/index.haml within layouts/application
  Rendered homes/_best_sellers.haml (Duration: 7.0ms | Allocations: 7748)
  Rendered homes/index.haml within layouts/application (Duration: 181.3ms | Allocations: 244423)
  [1m[36mOrder Load (0.9ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrder Create (2.8ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "created_at", "updated_at", "subtotal_cents", "subtotal_currency", "status", "delivery_id", "completed_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", nil], ["created_at", "2023-05-04 09:58:57.652941"], ["updated_at", "2023-05-04 09:58:57.652941"], ["subtotal_cents", 0], ["subtotal_currency", "USD"], ["status", 0], ["delivery_id", nil], ["completed_at", nil]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 8]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 36.4ms | Allocations: 15158)
  Rendered layouts/_flesh.haml (Duration: 4.4ms | Allocations: 2159)
  Rendered layouts/_footer.haml (Duration: 12.1ms | Allocations: 12728)
  Rendered layout layouts/application.haml (Duration: 252.0ms | Allocations: 283997)
Completed 200 OK in 358ms (Views: 242.5ms | ActiveRecord: 41.7ms | Allocations: 317023)


Started GET "/assets/application.css" for ::1 at 2023-05-04 12:58:57 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 12:58:57 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-04 12:58:57 +0300
Started GET "/pizzas" for ::1 at 2023-05-04 12:59:02 +0300
Processing by PizzasController#index as HTML
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."type" = $1[0m  [["type", "OrdinaryPizza"]]
  â†³ app/controllers/pizzas_controller.rb:5:in `index'
  Rendering layout layouts/application.haml
  Rendering pizzas/index.haml within layouts/application
  Rendered pizzas/_order_dropdown.haml (Duration: 6.0ms | Allocations: 5792)
  [1m[36mPizza Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas"[0m
  â†³ app/views/pizzas/index.haml:12
  [1m[36mCategory Load (1.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/pizzas/index.haml:13
  [1m[36mPizza Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 1]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 2]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 3]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 4]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."type" = $1 ORDER BY "pizzas"."name" ASC LIMIT $2 OFFSET $3[0m  [["type", "OrdinaryPizza"], ["LIMIT", 12], ["OFFSET", 0]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mPizzaPicture Load (1.1ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13)[0m  [["picturable_type", "Pizza"], ["picturable_id", 1], ["picturable_id", 8], ["picturable_id", 12], ["picturable_id", 14], ["picturable_id", 9], ["picturable_id", 3], ["picturable_id", 10], ["picturable_id", 5], ["picturable_id", 2], ["picturable_id", 15], ["picturable_id", 11], ["picturable_id", 13]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  Rendered pizzas/_pizza.haml (Duration: 52.3ms | Allocations: 34972)
  Rendered pizzas/_view_more.haml (Duration: 3.6ms | Allocations: 2827)
  Rendered pizzas/index.haml within layouts/application (Duration: 94.8ms | Allocations: 58446)
  [1m[36mOrderItem Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 8]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.6ms | Allocations: 921)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 100.7ms | Allocations: 61419)
Completed 200 OK in 106ms (Views: 89.8ms | ActiveRecord: 12.9ms | Allocations: 63293)


Started GET "/assets/application.css" for ::1 at 2023-05-04 12:59:02 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 12:59:02 +0300
Started GET "/assets/medium.png" for ::1 at 2023-05-04 12:59:02 +0300
Started GET "/custom_pizza/new" for ::1 at 2023-05-04 12:59:14 +0300
Processing by CustomPizzasController#new as HTML
  [1m[36mPizzaDimension Load (1.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/new.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/new.haml:15:in `map'
  [1m[36mOrdinaryFilling Load (1.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/new.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/new.haml:40
  Rendered custom_pizzas/new.haml within layouts/application (Duration: 65.9ms | Allocations: 41755)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 8]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.0ms | Allocations: 1827)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.4ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 73.3ms | Allocations: 45820)
Completed 200 OK in 99ms (Views: 70.5ms | ActiveRecord: 14.0ms | Allocations: 51692)


Started GET "/assets/application.css" for ::1 at 2023-05-04 12:59:14 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 12:59:14 +0300
Started POST "/custom_pizza" for ::1 at 2023-05-04 12:59:16 +0300
Processing by CustomPizzasController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "custom_pizza"=>{"fillings"=>"", "pizza_dimension"=>"30.0"}, "commit"=>"create pizza"}
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mPizzaDimension Load (0.6ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."dimension" = $1 LIMIT $2[0m  [["dimension", 30.0], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:23:in `pizza_dimension'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Custom"], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:43:in `create_pizza_params'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mCustomPizza Create (1.6ms)[0m  [1m[32mINSERT INTO "pizzas" ("name", "price_cents", "price_currency", "description", "category_id", "pizza_dimension_id", "created_at", "updated_at", "type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "custom_pizza"], ["price_cents", 1000], ["price_currency", "USD"], ["description", "none"], ["category_id", 4], ["pizza_dimension_id", 1], ["created_at", "2023-05-04 09:59:16.148259"], ["updated_at", "2023-05-04 09:59:16.148259"], ["type", "CustomPizza"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/create_custom_pizza.rb:15:in `create_order_item'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:15:in `create_order_item'
  [1m[36mOrderItem Create (1.3ms)[0m  [1m[32mINSERT INTO "order_items" ("price_cents", "price_currency", "quantity", "pizza_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["price_cents", 0], ["price_currency", "USD"], ["quantity", 1], ["pizza_id", 25], ["order_id", 8], ["created_at", "2023-05-04 09:59:16.173820"], ["updated_at", "2023-05-04 09:59:16.173820"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:15:in `create_order_item'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/create_custom_pizza.rb:15:in `create_order_item'
Redirected to http://localhost:3000/cart
Completed 302 Found in 61ms (ActiveRecord: 12.3ms | Allocations: 22792)


Started GET "/cart" for ::1 at 2023-05-04 12:59:16 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 8]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 25]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaPicture Load (0.3ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" = $2[0m  [["picturable_type", "Pizza"], ["picturable_id", 25]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaFilling Load (1.6ms)[0m  [1m[34mSELECT "pizza_fillings".* FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 25]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
  Rendered carts/_order_items.haml (Duration: 20.1ms | Allocations: 20599)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 8]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 25]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mFilling Load (1.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 25]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 8]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 25]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 25]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 53.5ms | Allocations: 41841)
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 8]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 1.9ms | Allocations: 869)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 59.0ms | Allocations: 44886)
Completed 200 OK in 87ms (Views: 58.8ms | ActiveRecord: 8.0ms | Allocations: 53940)


Started GET "/assets/application.css" for ::1 at 2023-05-04 12:59:16 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 12:59:16 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-04 12:59:16 +0300
Started GET "/custom_pizza/edit?order_item_id=10" for ::1 at 2023-05-04 12:59:18 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"10"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 25]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mOrdinaryFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 36.3ms | Allocations: 30712)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 8]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 40.0ms | Allocations: 1722)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 79.5ms | Allocations: 34485)
Completed 200 OK in 87ms (Views: 76.8ms | ActiveRecord: 4.4ms | Allocations: 37364)


Started GET "/assets/application.css" for ::1 at 2023-05-04 12:59:18 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 12:59:18 +0300
Started GET "/custom_pizza/edit?order_item_id=10" for ::1 at 2023-05-04 13:01:18 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"10"}
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 25]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mOrdinaryFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 35.1ms | Allocations: 31268)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 8]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 8.7ms | Allocations: 5969)
  Rendered layouts/_flesh.haml (Duration: 2.6ms | Allocations: 2009)
  Rendered layouts/_footer.haml (Duration: 11.8ms | Allocations: 12632)
  Rendered layout layouts/application.haml (Duration: 67.9ms | Allocations: 60729)
Completed 200 OK in 77ms (Views: 66.3ms | ActiveRecord: 4.6ms | Allocations: 63916)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:01:19 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:01:19 +0300
Started GET "/custom_pizza/edit?order_item_id=10" for ::1 at 2023-05-04 13:01:20 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"10"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 25]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 17.6ms | Allocations: 7786)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 8]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.1ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 25.2ms | Allocations: 11539)
Completed 200 OK in 32ms (Views: 23.0ms | ActiveRecord: 3.8ms | Allocations: 14161)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:01:20 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:01:20 +0300
Started GET "/custom_pizza/edit?order_item_id=10" for ::1 at 2023-05-04 13:01:20 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"10"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.6ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.9ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 25]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.6ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 17.2ms | Allocations: 7789)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 8]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.7ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 25.1ms | Allocations: 11542)
Completed 200 OK in 33ms (Views: 22.2ms | ActiveRecord: 5.0ms | Allocations: 14118)


Started GET "/assets/application.js" for ::1 at 2023-05-04 13:01:20 +0300
Started GET "/assets/application.css" for ::1 at 2023-05-04 13:01:20 +0300
Started GET "/assets/application.css" for ::1 at 2023-05-04 13:01:22 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:01:22 +0300
Started GET "/custom_pizza/edit?order_item_id=10" for ::1 at 2023-05-04 13:01:49 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"10"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.6ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (1.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 25]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 36.2ms | Allocations: 31260)
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 8]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 8.8ms | Allocations: 5965)
  Rendered layouts/_flesh.haml (Duration: 2.5ms | Allocations: 2008)
  Rendered layouts/_footer.haml (Duration: 12.7ms | Allocations: 12619)
  Rendered layout layouts/application.haml (Duration: 69.8ms | Allocations: 60691)
Completed 200 OK in 80ms (Views: 68.0ms | ActiveRecord: 5.0ms | Allocations: 63856)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:01:50 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:01:50 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:01:50 +0300
Started GET "/custom_pizza/edit?order_item_id=10" for ::1 at 2023-05-04 13:01:50 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"10"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 25]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 14.9ms | Allocations: 7766)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 8]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.5ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 22.7ms | Allocations: 11519)
Completed 200 OK in 30ms (Views: 20.3ms | ActiveRecord: 4.1ms | Allocations: 14140)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:01:51 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:01:51 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:01:51 +0300
Started GET "/custom_pizza/edit?order_item_id=10" for ::1 at 2023-05-04 13:02:41 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"10"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (1.1ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 25]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:35
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:45
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 37.3ms | Allocations: 32072)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 8]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 8.3ms | Allocations: 5965)
  Rendered layouts/_flesh.haml (Duration: 2.7ms | Allocations: 2008)
  Rendered layouts/_footer.haml (Duration: 10.9ms | Allocations: 12619)
  Rendered layout layouts/application.haml (Duration: 69.5ms | Allocations: 61503)
Completed 200 OK in 82ms (Views: 68.6ms | ActiveRecord: 4.3ms | Allocations: 64668)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:02:41 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:02:41 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:02:41 +0300
Started GET "/custom_pizza/edit?order_item_id=10" for ::1 at 2023-05-04 13:02:52 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"10"}
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 25]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:35
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:45
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 39.3ms | Allocations: 32181)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 8]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 9.0ms | Allocations: 5969)
  Rendered layouts/_flesh.haml (Duration: 2.5ms | Allocations: 2010)
  Rendered layouts/_footer.haml (Duration: 10.6ms | Allocations: 12632)
  Rendered layout layouts/application.haml (Duration: 71.6ms | Allocations: 61645)
Completed 200 OK in 86ms (Views: 77.0ms | ActiveRecord: 3.5ms | Allocations: 64876)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:02:52 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:02:52 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:02:52 +0300
Started GET "/custom_pizza/edit?order_item_id=10" for ::1 at 2023-05-04 13:03:18 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"10"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 25]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:35
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:45
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 35.2ms | Allocations: 32443)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 8]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 10.1ms | Allocations: 5969)
  Rendered layouts/_flesh.haml (Duration: 5.8ms | Allocations: 2009)
  Rendered layouts/_footer.haml (Duration: 10.6ms | Allocations: 12632)
  Rendered layout layouts/application.haml (Duration: 73.8ms | Allocations: 61898)
Completed 200 OK in 82ms (Views: 72.6ms | ActiveRecord: 4.0ms | Allocations: 65108)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:03:18 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:03:18 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:03:19 +0300
Started GET "/custom_pizza/edit?order_item_id=10" for ::1 at 2023-05-04 13:03:19 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"10"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 25]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:35
  [1m[36mAdditionalFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:45
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 15.8ms | Allocations: 7774)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 8]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.3ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.5ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 23.4ms | Allocations: 11527)
Completed 200 OK in 30ms (Views: 20.9ms | ActiveRecord: 4.0ms | Allocations: 14148)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:03:19 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:03:19 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:03:19 +0300
Started GET "/custom_pizza/edit?order_item_id=10" for ::1 at 2023-05-04 13:03:20 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"10"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mFilling Load (0.9ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 25]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:35
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:45
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 14.7ms | Allocations: 7798)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 8]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.7ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 22.8ms | Allocations: 11551)
Completed 200 OK in 29ms (Views: 20.2ms | ActiveRecord: 4.0ms | Allocations: 14127)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:03:20 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:03:20 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:03:20 +0300
Started GET "/custom_pizza/edit?order_item_id=10" for ::1 at 2023-05-04 13:16:56 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"10"}
  [1m[36mPizzaDimension Load (1.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.8ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.6ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ (pry):3:in `current_dimension'
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 63624.2ms | Allocations: 98850)
  Rendered layout layouts/application.haml (Duration: 63624.5ms | Allocations: 98943)
Completed 500 Internal Server Error in 63716ms (ActiveRecord: 14.5ms | Allocations: 118280)


  
ActionView::Template::Error (undefined method `dimension' for #<PizzaDecorator:0x000056076c9612b0 @object=#<CustomPizza id: 25, name: "custom_pizza", price_cents: 1000, price_currency: "USD", description: "none", category_id: 4, pizza_dimension_id: 1, created_at: "2023-05-04 09:59:16.148259000 +0000", updated_at: "2023-05-04 09:59:16.148259000 +0000", type: "CustomPizza">, @context={}>):
    12:           %h4 Pizza Dimension
    13:           %select.dark-theme.dark-block#custom_pizza_dimension_edit{ data: @dimension_with_price, value: '100.0' }
    14:             - @pizza_dimensions.each do |dimension|
    15:               %option{ selected: current_dimension(@order_item, dimension) }= dimension.dimension
    16:         .subtotal-price
    17:           %tr
    18:             %td
  
app/helpers/custom_pizzas_helper.rb:4:in `current_dimension'
app/views/custom_pizzas/edit.haml:15
app/views/custom_pizzas/edit.haml:14
Started GET "/custom_pizza/edit?order_item_id=10" for ::1 at 2023-05-04 13:18:04 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"10"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.8ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.9ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 25]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 55.8ms | Allocations: 16930)
  [1m[36mOrder Load (1.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrder Create (0.9ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "created_at", "updated_at", "subtotal_cents", "subtotal_currency", "status", "delivery_id", "completed_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", nil], ["created_at", "2023-05-04 10:18:05.163272"], ["updated_at", "2023-05-04 10:18:05.163272"], ["subtotal_cents", 0], ["subtotal_currency", "USD"], ["status", 0], ["delivery_id", nil], ["completed_at", nil]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 38.9ms | Allocations: 12311)
  Rendered layouts/_flesh.haml (Duration: 3.8ms | Allocations: 2109)
  Rendered layouts/_footer.haml (Duration: 17.0ms | Allocations: 12665)
  Rendered layout layouts/application.haml (Duration: 127.5ms | Allocations: 53068)
Completed 200 OK in 205ms (Views: 108.4ms | ActiveRecord: 48.4ms | Allocations: 70285)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:18:05 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:18:05 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:18:05 +0300
Started GET "/cart" for ::1 at 2023-05-04 13:18:09 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
  Rendered carts/_order_items.haml (Duration: 19.8ms | Allocations: 17089)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  Rendered carts/show.haml within layouts/application (Duration: 45.3ms | Allocations: 29474)
  [1m[36mOrderItem Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 5.8ms | Allocations: 883)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.4ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 67.2ms | Allocations: 32568)
Completed 200 OK in 75ms (Views: 67.9ms | ActiveRecord: 1.5ms | Allocations: 35507)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:18:09 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:18:09 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:18:09 +0300
Started GET "/pizzas" for ::1 at 2023-05-04 13:18:10 +0300
Processing by PizzasController#index as HTML
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."type" = $1[0m  [["type", "OrdinaryPizza"]]
  â†³ app/controllers/pizzas_controller.rb:5:in `index'
  Rendering layout layouts/application.haml
  Rendering pizzas/index.haml within layouts/application
  Rendered pizzas/_order_dropdown.haml (Duration: 55.5ms | Allocations: 5692)
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas"[0m
  â†³ app/views/pizzas/index.haml:12
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/pizzas/index.haml:13
  [1m[36mPizza Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 1]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 2]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 3]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 4]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."type" = $1 ORDER BY "pizzas"."name" ASC LIMIT $2 OFFSET $3[0m  [["type", "OrdinaryPizza"], ["LIMIT", 12], ["OFFSET", 0]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mPizzaPicture Load (1.1ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13)[0m  [["picturable_type", "Pizza"], ["picturable_id", 1], ["picturable_id", 8], ["picturable_id", 12], ["picturable_id", 14], ["picturable_id", 9], ["picturable_id", 3], ["picturable_id", 10], ["picturable_id", 5], ["picturable_id", 2], ["picturable_id", 15], ["picturable_id", 11], ["picturable_id", 13]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  Rendered pizzas/_pizza.haml (Duration: 87.2ms | Allocations: 43020)
  Rendered pizzas/_view_more.haml (Duration: 3.7ms | Allocations: 2908)
  Rendered pizzas/index.haml within layouts/application (Duration: 199.4ms | Allocations: 66419)
  [1m[36mOrderItem Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.7ms | Allocations: 943)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 205.2ms | Allocations: 69418)
Completed 200 OK in 213ms (Views: 189.4ms | ActiveRecord: 17.7ms | Allocations: 71696)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:18:11 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:18:11 +0300
Started GET "/assets/medium.png" for ::1 at 2023-05-04 13:18:11 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:18:11 +0300
Started GET "/custom_pizza/new" for ::1 at 2023-05-04 13:18:12 +0300
Processing by CustomPizzasController#new as HTML
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/new.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/new.haml:15:in `map'
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/new.haml:31
  [1m[36mAdditionalFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/new.haml:40
  Rendered custom_pizzas/new.haml within layouts/application (Duration: 24.0ms | Allocations: 24974)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 3.7ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 30.6ms | Allocations: 28727)
Completed 200 OK in 34ms (Views: 29.9ms | ActiveRecord: 1.6ms | Allocations: 29965)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:18:13 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:18:13 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:18:13 +0300
Started POST "/custom_pizza" for ::1 at 2023-05-04 13:18:19 +0300
Processing by CustomPizzasController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "custom_pizza"=>{"fillings"=>"2,4,6", "pizza_dimension"=>"100.0"}, "filling"=>"on", "commit"=>"create pizza"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" IN ($1, $2, $3)[0m  [["id", 2], ["id", 4], ["id", 6]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:31:in `current_form'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."dimension" = $1 LIMIT $2[0m  [["dimension", 100.0], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:23:in `pizza_dimension'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Custom"], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:43:in `create_pizza_params'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mCustomPizza Create (0.6ms)[0m  [1m[32mINSERT INTO "pizzas" ("name", "price_cents", "price_currency", "description", "category_id", "pizza_dimension_id", "created_at", "updated_at", "type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "custom_pizza"], ["price_cents", 1000], ["price_currency", "USD"], ["description", "none"], ["category_id", 4], ["pizza_dimension_id", 4], ["created_at", "2023-05-04 10:18:19.537253"], ["updated_at", "2023-05-04 10:18:19.537253"], ["type", "CustomPizza"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (2.5ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 26], ["filling_id", 2], ["created_at", "2023-05-04 10:18:19.540395"], ["updated_at", "2023-05-04 10:18:19.540395"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.4ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 26], ["filling_id", 4], ["created_at", "2023-05-04 10:18:19.545069"], ["updated_at", "2023-05-04 10:18:19.545069"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mPizzaFilling Create (0.8ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 26], ["filling_id", 6], ["created_at", "2023-05-04 10:18:19.547866"], ["updated_at", "2023-05-04 10:18:19.547866"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/create_custom_pizza.rb:27:in `create_custom_pizza'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/create_custom_pizza.rb:15:in `create_order_item'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:15:in `create_order_item'
  [1m[36mOrderItem Create (1.2ms)[0m  [1m[32mINSERT INTO "order_items" ("price_cents", "price_currency", "quantity", "pizza_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["price_cents", 0], ["price_currency", "USD"], ["quantity", 1], ["pizza_id", 26], ["order_id", 9], ["created_at", "2023-05-04 10:18:19.561026"], ["updated_at", "2023-05-04 10:18:19.561026"]]
  â†³ app/interactors/pizzas/create_custom_pizza.rb:15:in `create_order_item'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/create_custom_pizza.rb:15:in `create_order_item'
Redirected to http://localhost:3000/cart
Completed 302 Found in 63ms (ActiveRecord: 12.7ms | Allocations: 25974)


Started GET "/cart" for ::1 at 2023-05-04 13:18:19 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 26]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaPicture Load (0.4ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" = $2[0m  [["picturable_type", "Pizza"], ["picturable_id", 26]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 4]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaFilling Load (0.3ms)[0m  [1m[34mSELECT "pizza_fillings".* FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" IN ($1, $2, $3)[0m  [["id", 2], ["id", 4], ["id", 6]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  Rendered carts/_order_items.haml (Duration: 7.0ms | Allocations: 4321)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 26]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 26]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 26.9ms | Allocations: 15278)
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.3ms | Allocations: 837)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 26)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 121)
  Rendered layout layouts/application.haml (Duration: 32.3ms | Allocations: 18142)
Completed 200 OK in 53ms (Views: 31.6ms | ActiveRecord: 3.9ms | Allocations: 27223)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:18:19 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:18:19 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-04 13:18:19 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:18:19 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:18:21 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.6ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.6ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 18.8ms | Allocations: 9829)
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.4ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 26.1ms | Allocations: 13582)
Completed 200 OK in 38ms (Views: 23.5ms | ActiveRecord: 4.7ms | Allocations: 16180)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:18:21 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:18:21 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:18:21 +0300
Started GET "/cart" for ::1 at 2023-05-04 13:18:23 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 26]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaPicture Load (0.5ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" = $2[0m  [["picturable_type", "Pizza"], ["picturable_id", 26]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 4]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaFilling Load (0.4ms)[0m  [1m[34mSELECT "pizza_fillings".* FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" IN ($1, $2, $3)[0m  [["id", 2], ["id", 4], ["id", 6]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  Rendered carts/_order_items.haml (Duration: 5.8ms | Allocations: 4108)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 26]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 26]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.1ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 29.5ms | Allocations: 15024)
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.1ms | Allocations: 816)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 34.7ms | Allocations: 17840)
Completed 200 OK in 59ms (Views: 33.5ms | ActiveRecord: 4.9ms | Allocations: 26483)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:18:23 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-04 13:18:23 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:18:23 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:18:24 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:18:24 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 20.8ms | Allocations: 9679)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.1ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 28.7ms | Allocations: 13432)
Completed 200 OK in 38ms (Views: 26.8ms | ActiveRecord: 3.7ms | Allocations: 16007)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:18:24 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:18:24 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:18:25 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:20:59 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.6ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:33:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 46.0ms | Allocations: 18214)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 19.7ms | Allocations: 5248)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 31)
  Rendered layouts/_footer.haml (Duration: 0.7ms | Allocations: 151)
  Rendered layout layouts/application.haml (Duration: 160.6ms | Allocations: 37255)
Completed 200 OK in 234ms (Views: 147.7ms | ActiveRecord: 38.4ms | Allocations: 54456)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:20:59 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:20:59 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:20:59 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:21:01 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:33:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 20.4ms | Allocations: 9822)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.5ms | Allocations: 1719)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 27.9ms | Allocations: 13605)
Completed 200 OK in 35ms (Views: 25.5ms | ActiveRecord: 4.1ms | Allocations: 16299)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:21:01 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:21:01 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:21:01 +0300
Started GET "/cart" for ::1 at 2023-05-04 13:21:03 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.6ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizza Load (0.6ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 26]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaPicture Load (0.6ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" = $2[0m  [["picturable_type", "Pizza"], ["picturable_id", 26]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 4]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaFilling Load (0.5ms)[0m  [1m[34mSELECT "pizza_fillings".* FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" IN ($1, $2, $3)[0m  [["id", 2], ["id", 4], ["id", 6]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  Rendered carts/_order_items.haml (Duration: 19.5ms | Allocations: 7489)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 26]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 26]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 40.7ms | Allocations: 19986)
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.1ms | Allocations: 869)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.5ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 47.0ms | Allocations: 23034)
Completed 200 OK in 90ms (Views: 43.0ms | ActiveRecord: 15.5ms | Allocations: 36263)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:21:03 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:21:03 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-04 13:21:03 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:21:05 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:33:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 18.7ms | Allocations: 9747)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.3ms | Allocations: 1726)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.5ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 26.6ms | Allocations: 13525)
Completed 200 OK in 34ms (Views: 25.0ms | ActiveRecord: 3.1ms | Allocations: 16176)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:21:05 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:21:05 +0300
Started PATCH "/custom_pizza?filling_id=1" for ::1 at 2023-05-04 13:21:09 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>11, "pizza_dimension"=>"100.0", "filling_id"=>"1", "custom_pizza"=>{}}
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:21:11 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:33:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.9ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 22.3ms | Allocations: 9670)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 5.5ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.6ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 31.7ms | Allocations: 13423)
Completed 200 OK in 42ms (Views: 29.4ms | ActiveRecord: 4.6ms | Allocations: 15998)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:21:11 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:21:11 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:21:13 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:33:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 31.1ms | Allocations: 9684)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.6ms | Allocations: 1716)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 39.1ms | Allocations: 13444)
Completed 200 OK in 45ms (Views: 37.1ms | ActiveRecord: 3.2ms | Allocations: 16019)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:21:13 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:21:13 +0300
Started PATCH "/custom_pizza?filling_id=1" for ::1 at 2023-05-04 13:21:15 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>11, "pizza_dimension"=>"100.0", "filling_id"=>"1", "custom_pizza"=>{}}
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 13440ms (ActiveRecord: 0.0ms | Allocations: 10258)


No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 32568ms (ActiveRecord: 0.0ms | Allocations: 74989)


Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:21:44 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 40.7ms | Allocations: 18220)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 18.5ms | Allocations: 5247)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 31)
  Rendered layouts/_footer.haml (Duration: 0.4ms | Allocations: 151)
  Rendered layout layouts/application.haml (Duration: 62.6ms | Allocations: 25783)
Completed 200 OK in 122ms (Views: 52.6ms | ActiveRecord: 28.5ms | Allocations: 42986)


Started GET "/assets/application.js" for ::1 at 2023-05-04 13:21:44 +0300
Started GET "/assets/application.css" for ::1 at 2023-05-04 13:21:44 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:21:45 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.9ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 22.5ms | Allocations: 9812)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.5ms | Allocations: 1719)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 31.1ms | Allocations: 13599)
Completed 200 OK in 38ms (Views: 28.5ms | ActiveRecord: 4.2ms | Allocations: 16286)


Started GET "/assets/application.js" for ::1 at 2023-05-04 13:21:45 +0300
Started GET "/assets/application.css" for ::1 at 2023-05-04 13:21:45 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:21:46 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.9ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 23.9ms | Allocations: 9675)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.4ms | Allocations: 1716)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 31.5ms | Allocations: 13431)
Completed 200 OK in 38ms (Views: 28.9ms | ActiveRecord: 3.9ms | Allocations: 16006)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:21:46 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:21:46 +0300
Started PATCH "/custom_pizza?filling_id=1" for ::1 at 2023-05-04 13:21:47 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>11, "pizza_dimension"=>"100.0", "filling_id"=>"1", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 26], ["id", 1], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mPizzaFilling Create (0.7ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 26], ["filling_id", 1], ["created_at", "2023-05-04 10:21:47.700839"], ["updated_at", "2023-05-04 10:21:47.700839"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 28ms (ActiveRecord: 7.5ms | Allocations: 8853)


Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:21:50 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 18.2ms | Allocations: 10062)
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 3.7ms | Allocations: 1743)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 26)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 121)
  Rendered layout layouts/application.haml (Duration: 25.6ms | Allocations: 13969)
Completed 200 OK in 32ms (Views: 24.4ms | ActiveRecord: 2.4ms | Allocations: 16617)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:21:50 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:21:50 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:21:50 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 22.2ms | Allocations: 9921)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 3.9ms | Allocations: 1716)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 29.3ms | Allocations: 13681)
Completed 200 OK in 36ms (Views: 27.1ms | ActiveRecord: 3.7ms | Allocations: 16265)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:21:51 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:21:51 +0300
Started PATCH "/custom_pizza?filling_id=8" for ::1 at 2023-05-04 13:21:52 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>11, "pizza_dimension"=>"100.0", "filling_id"=>"8", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 26], ["id", 8], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mPizzaFilling Create (0.5ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 26], ["filling_id", 8], ["created_at", "2023-05-04 10:21:52.282391"], ["updated_at", "2023-05-04 10:21:52.282391"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 16ms (ActiveRecord: 3.4ms | Allocations: 6464)


Started PATCH "/custom_pizza?filling_id=7" for ::1 at 2023-05-04 13:21:53 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>11, "pizza_dimension"=>"100.0", "filling_id"=>"7", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 26], ["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mPizzaFilling Create (0.6ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 26], ["filling_id", 7], ["created_at", "2023-05-04 10:21:53.410889"], ["updated_at", "2023-05-04 10:21:53.410889"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 20ms (ActiveRecord: 6.9ms | Allocations: 6407)


Started PATCH "/custom_pizza?filling_id=5" for ::1 at 2023-05-04 13:21:55 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>11, "pizza_dimension"=>"100.0", "filling_id"=>"5", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 26], ["id", 5], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mPizzaFilling Create (0.6ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 26], ["filling_id", 5], ["created_at", "2023-05-04 10:21:55.105698"], ["updated_at", "2023-05-04 10:21:55.105698"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 19ms (ActiveRecord: 3.8ms | Allocations: 6441)


Started PATCH "/custom_pizza?filling_id=3" for ::1 at 2023-05-04 13:21:55 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>11, "pizza_dimension"=>"100.0", "filling_id"=>"3", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 26], ["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mPizzaFilling Create (0.4ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 26], ["filling_id", 3], ["created_at", "2023-05-04 10:21:55.776760"], ["updated_at", "2023-05-04 10:21:55.776760"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 21ms (ActiveRecord: 3.9ms | Allocations: 6419)


Started PATCH "/custom_pizza?filling_id=9" for ::1 at 2023-05-04 13:21:58 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>11, "pizza_dimension"=>"100.0", "filling_id"=>"9", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 26], ["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mPizzaFilling Create (0.6ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 26], ["filling_id", 9], ["created_at", "2023-05-04 10:21:58.225109"], ["updated_at", "2023-05-04 10:21:58.225109"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mTRANSACTION (5.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 21ms (ActiveRecord: 7.5ms | Allocations: 6416)


Started PATCH "/custom_pizza?filling_id=10" for ::1 at 2023-05-04 13:21:59 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>11, "pizza_dimension"=>"100.0", "filling_id"=>"10", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 26], ["id", 10], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mPizzaFilling Create (0.6ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 26], ["filling_id", 10], ["created_at", "2023-05-04 10:21:59.445992"], ["updated_at", "2023-05-04 10:21:59.445992"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 20ms (ActiveRecord: 4.1ms | Allocations: 6449)


Started PATCH "/custom_pizza?filling_id=11" for ::1 at 2023-05-04 13:22:00 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>11, "pizza_dimension"=>"100.0", "filling_id"=>"11", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:38:in `current_order_item'
  [1m[36mPizza Load (0.7ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_pizza'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mFilling Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 26], ["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:22:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `except_filling'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mPizzaFilling Create (0.8ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 26], ["filling_id", 11], ["created_at", "2023-05-04 10:22:00.959126"], ["updated_at", "2023-05-04 10:22:00.959126"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `update_pizza_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 22ms (ActiveRecord: 4.6ms | Allocations: 6422)


Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:22:04 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (1.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 21.7ms | Allocations: 11594)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 3.7ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.0ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 28.8ms | Allocations: 15347)
Completed 200 OK in 35ms (Views: 26.7ms | ActiveRecord: 3.5ms | Allocations: 17923)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:22:04 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:22:04 +0300
Started PATCH "/custom_pizza?filling_id=undefined" for ::1 at 2023-05-04 13:22:05 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"pizza_dimension"=>"30.0", "filling_id"=>"undefined", "custom_pizza"=>{}}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 0ms (ActiveRecord: 0.0ms | Allocations: 209)


  
ActionController::InvalidAuthenticityToken (Can't verify CSRF token authenticity.):
  
actionpack (7.0.4.3) lib/action_controller/metal/request_forgery_protection.rb:251:in `handle_unverified_request'
actionpack (7.0.4.3) lib/action_controller/metal/request_forgery_protection.rb:284:in `handle_unverified_request'
devise (4.9.2) lib/devise/controllers/helpers.rb:255:in `handle_unverified_request'
actionpack (7.0.4.3) lib/action_controller/metal/request_forgery_protection.rb:273:in `verify_authenticity_token'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:400:in `block in make_lambda'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.4.3) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:116:in `block in run_callbacks'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:138:in `run_callbacks'
actionpack (7.0.4.3) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.4.3) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.4.3) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.4.3) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.4.3) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.4.3) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.4.3) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.4.3) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.4.3) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.4.3) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:852:in `call'
bullet (7.0.7) lib/bullet/rack.rb:17:in `call'
omniauth (2.1.1) lib/omniauth/strategy.rb:202:in `call!'
omniauth (2.1.1) lib/omniauth/strategy.rb:169:in `call'
omniauth (2.1.1) lib/omniauth/strategy.rb:202:in `call!'
omniauth (2.1.1) lib/omniauth/strategy.rb:169:in `call'
omniauth (2.1.1) lib/omniauth/strategy.rb:202:in `call!'
omniauth (2.1.1) lib/omniauth/strategy.rb:169:in `call'
omniauth (2.1.1) lib/omniauth/builder.rb:44:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.6.4) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.6.4) lib/rack/etag.rb:27:in `call'
rack (2.2.6.4) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.6.4) lib/rack/head.rb:12:in `call'
actionpack (7.0.4.3) lib/action_dispatch/http/permissions_policy.rb:38:in `call'
actionpack (7.0.4.3) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack (2.2.6.4) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.6.4) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/cookies.rb:704:in `call'
activerecord (7.0.4.3) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4.3) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
request_store (1.5.1) lib/request_store/middleware.rb:19:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.6.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.6.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.6.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.4.3) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:22:08 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.9ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 21.4ms | Allocations: 11507)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.1ms | Allocations: 1716)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 28.7ms | Allocations: 15267)
Completed 200 OK in 35ms (Views: 26.3ms | ActiveRecord: 3.6ms | Allocations: 17854)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:22:08 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:22:08 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:29:12 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (1.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.8ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.9ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (1.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 43.7ms | Allocations: 19849)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 10.3ms | Allocations: 4854)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 31)
  Rendered layouts/_footer.haml (Duration: 0.7ms | Allocations: 151)
  Rendered layout layouts/application.haml (Duration: 59.1ms | Allocations: 27015)
Completed 200 OK in 134ms (Views: 57.2ms | ActiveRecord: 15.9ms | Allocations: 45952)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:29:12 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:29:12 +0300
Started PATCH "/custom_pizza?filling_id=8" for ::1 at 2023-05-04 13:29:13 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>11, "pizza_dimension"=>"100.0", "filling_id"=>"8", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_order_item'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `current_pizza'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:54:in `except_filling'
  [1m[36mFilling Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 26], ["id", 8], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:54:in `except_filling'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `delete_filling'
  [1m[36mPizzaFilling Delete All (0.3ms)[0m  [1m[31mDELETE FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" = $1 AND "pizza_fillings"."filling_id" = $2[0m  [["pizza_id", 26], ["filling_id", 8]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `delete_filling'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `delete_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 23ms (ActiveRecord: 3.6ms | Allocations: 6977)


Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:29:14 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 23.7ms | Allocations: 11405)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.1ms | Allocations: 1743)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 26)
  Rendered layouts/_footer.haml (Duration: 0.4ms | Allocations: 121)
  Rendered layout layouts/application.haml (Duration: 31.3ms | Allocations: 15312)
Completed 200 OK in 42ms (Views: 28.9ms | ActiveRecord: 4.3ms | Allocations: 17968)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:29:15 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:29:15 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:29:15 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 39.0ms | Allocations: 11248)
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 5.3ms | Allocations: 1717)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.4ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 47.9ms | Allocations: 15009)
Completed 200 OK in 56ms (Views: 45.3ms | ActiveRecord: 4.4ms | Allocations: 17584)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:29:15 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:29:16 +0300
Started PATCH "/custom_pizza?filling_id=8" for ::1 at 2023-05-04 13:29:16 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>11, "pizza_dimension"=>"100.0", "filling_id"=>"8", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_order_item'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `current_pizza'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:54:in `except_filling'
  [1m[36mFilling Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 26], ["id", 8], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:54:in `except_filling'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:34:in `update_pizza_filling'
  [1m[36mPizzaFilling Create (1.3ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 26], ["filling_id", 8], ["created_at", "2023-05-04 10:29:17.009618"], ["updated_at", "2023-05-04 10:29:17.009618"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:34:in `update_pizza_filling'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:34:in `update_pizza_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 22ms (ActiveRecord: 5.0ms | Allocations: 7920)


Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:29:17 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 21.6ms | Allocations: 11483)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.9ms | Allocations: 1716)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 29.6ms | Allocations: 15243)
Completed 200 OK in 37ms (Views: 27.6ms | ActiveRecord: 3.5ms | Allocations: 17819)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:29:17 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:29:17 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:29:18 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.6ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 20.3ms | Allocations: 11489)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.0ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.0ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 27.4ms | Allocations: 15242)
Completed 200 OK in 38ms (Views: 25.4ms | ActiveRecord: 4.0ms | Allocations: 17817)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:29:18 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:29:18 +0300
Started PATCH "/custom_pizza?filling_id=10" for ::1 at 2023-05-04 13:29:20 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>11, "pizza_dimension"=>"100.0", "filling_id"=>"10", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `current_order_item'
  [1m[36mPizza Load (0.6ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:46:in `current_pizza'
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:54:in `except_filling'
  [1m[36mFilling Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 26], ["id", 10], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:26:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:54:in `except_filling'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `delete_filling'
  [1m[36mPizzaFilling Delete All (0.4ms)[0m  [1m[31mDELETE FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" = $1 AND "pizza_fillings"."filling_id" = $2[0m  [["pizza_id", 26], ["filling_id", 10]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `delete_filling'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:30:in `delete_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 19ms (ActiveRecord: 4.2ms | Allocations: 5727)


Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:29:22 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (1.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 23.2ms | Allocations: 11274)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.3ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 30.6ms | Allocations: 15027)
Completed 200 OK in 39ms (Views: 27.7ms | ActiveRecord: 4.4ms | Allocations: 17603)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:29:22 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:29:22 +0300
Started PATCH "/custom_pizza?filling_id=undefined" for ::1 at 2023-05-04 13:31:51 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"pizza_dimension"=>"90.0", "filling_id"=>"undefined", "custom_pizza"=>{}}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 1ms (ActiveRecord: 7.6ms | Allocations: 300)


  
ActionController::InvalidAuthenticityToken (Can't verify CSRF token authenticity.):
  
actionpack (7.0.4.3) lib/action_controller/metal/request_forgery_protection.rb:251:in `handle_unverified_request'
actionpack (7.0.4.3) lib/action_controller/metal/request_forgery_protection.rb:284:in `handle_unverified_request'
devise (4.9.2) lib/devise/controllers/helpers.rb:255:in `handle_unverified_request'
actionpack (7.0.4.3) lib/action_controller/metal/request_forgery_protection.rb:273:in `verify_authenticity_token'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:400:in `block in make_lambda'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.4.3) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:116:in `block in run_callbacks'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:138:in `run_callbacks'
actionpack (7.0.4.3) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.4.3) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.4.3) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.4.3) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.4.3) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.4.3) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.4.3) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.4.3) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.4.3) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.4.3) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.4.3) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.4.3) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.4.3) lib/action_dispatch/routing/route_set.rb:852:in `call'
bullet (7.0.7) lib/bullet/rack.rb:17:in `call'
omniauth (2.1.1) lib/omniauth/strategy.rb:202:in `call!'
omniauth (2.1.1) lib/omniauth/strategy.rb:169:in `call'
omniauth (2.1.1) lib/omniauth/strategy.rb:202:in `call!'
omniauth (2.1.1) lib/omniauth/strategy.rb:169:in `call'
omniauth (2.1.1) lib/omniauth/strategy.rb:202:in `call!'
omniauth (2.1.1) lib/omniauth/strategy.rb:169:in `call'
omniauth (2.1.1) lib/omniauth/builder.rb:44:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.6.4) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.6.4) lib/rack/etag.rb:27:in `call'
rack (2.2.6.4) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.6.4) lib/rack/head.rb:12:in `call'
actionpack (7.0.4.3) lib/action_dispatch/http/permissions_policy.rb:38:in `call'
actionpack (7.0.4.3) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack (2.2.6.4) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.6.4) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/cookies.rb:704:in `call'
activerecord (7.0.4.3) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4.3) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
request_store (1.5.1) lib/request_store/middleware.rb:19:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.6.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.6.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.6.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.4.3) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:33:00 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 20.0ms | Allocations: 23249)
  Rendered layout layouts/application.haml (Duration: 20.4ms | Allocations: 23334)
Completed 500 Internal Server Error in 93ms (ActiveRecord: 17.8ms | Allocations: 41893)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check .fillings-page
  .filling-menu.dark-theme.dark-block
    .footer-bar
      .button
        .back-to-cart
          = link_to 'Back to cart', cart_path, class: 'btn btn-primary'
    .pizza-menu
      .thumbnail.dark-theme.pizza-image
        .image
          %img{src: "https://i.postimg.cc/63Gn2tYs/9.png"}
        .buttons-set
          %h4 Pizza Dimension
          %select.dark-theme.dark-block#custom_pizza_dimension_edit{ data: {@dimension_with_price, authenticity_token: form_authenticity_token} ,  }
            - @pizza_dimensions.each do |dimension|
              %option{ selected: current_dimension(@order_item, dimension) }= dimension.dimension
        .subtotal-price
          %tr
            %td
              %strong.font-18 Total Price:
            %td
              %strong.font-18#total_price{ data: { price: @order_item.price.cents, currency:  @order_item.amount_pay.currency.symbol  } }= @order_item.amount_pay.format
      .choose-fillings.dark-theme
        .fillings-block
          .border-block
            .fillings-title
              .ordinary-title#ordinary-button.active
                %h1 Fillings
              .additional-title#adding-button
                %h1 Additional Fillings
            .ordinary-fillings#ordinary
              - @fillings.each do |filling|
                .addition-filling
                  .addition-checkbox
                    %input{ type: 'checkbox', checked: include_filling(@order_item.pizza, filling), class: 'complete', name: 'filling', id: 'filling', data: { filling_id: filling.id, price: filling.price.cents,
                     order_item_id: @order_item.id, authenticity_token: form_authenticity_token } }
                  .filling-name
                    %h4= filling.name
                  .price-additianal-filling
                    %h4= filling.price.format
            .additional-fillings#adding.hidden
              - @additional_fillings.each do |filling|
                .addition-filling
                  .addition-checkbox
                    %input{ type: 'checkbox', checked: include_filling(@order_item.pizza, filling), class: 'complete', name: 'filling', id: 'filling', data: { filling_id: filling.id, price: filling.price.cents,
                     order_item_id: @order_item.id, authenticity_token: form_authenticity_token } }
                  .filling-name
                    %h4= filling.name
                  .price-additianal-filling
                    %h4= filling.price.format

):
1:    .fillings-page
2:      .filling-menu.dark-theme.dark-block
3:        .footer-bar
4:          .button
5:            .back-to-cart
6:              = link_to 'Back to cart', cart_path, class: 'btn btn-primary'
7:        .pizza-menu
8:          .thumbnail.dark-theme.pizza-image
9:            .image
10:              %img{src: "https://i.postimg.cc/63Gn2tYs/9.png"}
11:            .buttons-set
12:              %h4 Pizza Dimension
13:              %select.dark-theme.dark-block#custom_pizza_dimension_edit{ data: {@dimension_with_price, authenticity_token: form_authenticity_token} ,  }
14:                - @pizza_dimensions.each do |dimension|
15:                  %option{ selected: current_dimension(@order_item, dimension) }= dimension.dimension
16:            .subtotal-price
17:              %tr
18:                %td
19:                  %strong.font-18 Total Price:
20:                %td
21:                  %strong.font-18#total_price{ data: { price: @order_item.price.cents, currency:  @order_item.amount_pay.currency.symbol  } }= @order_item.amount_pay.format
22:          .choose-fillings.dark-theme
23:            .fillings-block
24:              .border-block
25:                .fillings-title
26:                  .ordinary-title#ordinary-button.active
27:                    %h1 Fillings
28:                  .additional-title#adding-button
29:                    %h1 Additional Fillings
30:                .ordinary-fillings#ordinary
31:                  - @fillings.each do |filling|
32:                    .addition-filling
33:                      .addition-checkbox
34:                        %input{ type: 'checkbox', checked: include_filling(@order_item.pizza, filling), class: 'complete', name: 'filling', id: 'filling', data: { filling_id: filling.id, price: filling.price.cents,
35:                         order_item_id: @order_item.id, authenticity_token: form_authenticity_token } }
36:                      .filling-name
37:                        %h4= filling.name
38:                      .price-additianal-filling
39:                        %h4= filling.price.format
40:                .additional-fillings#adding.hidden
41:                  - @additional_fillings.each do |filling|
42:                    .addition-filling
43:                      .addition-checkbox
44:                        %input{ type: 'checkbox', checked: include_filling(@order_item.pizza, filling), class: 'complete', name: 'filling', id: 'filling', data: { filling_id: filling.id, price: filling.price.cents,
45:                         order_item_id: @order_item.id, authenticity_token: form_authenticity_token } }
46:                      .filling-name
47:                        %h4= filling.name
48:                      .price-additianal-filling
49:                        %h4= filling.price.format
  
app/views/custom_pizzas/edit.haml:13: syntax error, unexpected ',', expecting =>
app/views/custom_pizzas/edit.haml:13: syntax error, unexpected ',', expecting =>
app/views/custom_pizzas/edit.haml:13: syntax error, unexpected ',', expecting =>
app/views/custom_pizzas/edit.haml:13: syntax error, unexpected ',', expecting =>
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:34:05 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 21.8ms | Allocations: 23234)
  Rendered layout layouts/application.haml (Duration: 22.1ms | Allocations: 23319)
Completed 500 Internal Server Error in 32ms (ActiveRecord: 1.1ms | Allocations: 26692)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check .fillings-page
  .filling-menu.dark-theme.dark-block
    .footer-bar
      .button
        .back-to-cart
          = link_to 'Back to cart', cart_path, class: 'btn btn-primary'
    .pizza-menu
      .thumbnail.dark-theme.pizza-image
        .image
          %img{src: "https://i.postimg.cc/63Gn2tYs/9.png"}
        .buttons-set
          %h4 Pizza Dimension
          %select.dark-theme.dark-block#custom_pizza_dimension_edit{ data: { @dimension_with_price, authenticity_token: form_authenticity_token } ,  }
            - @pizza_dimensions.each do |dimension|
              %option{ selected: current_dimension(@order_item, dimension) }= dimension.dimension
        .subtotal-price
          %tr
            %td
              %strong.font-18 Total Price:
            %td
              %strong.font-18#total_price{ data: { price: @order_item.price.cents, currency:  @order_item.amount_pay.currency.symbol  } }= @order_item.amount_pay.format
      .choose-fillings.dark-theme
        .fillings-block
          .border-block
            .fillings-title
              .ordinary-title#ordinary-button.active
                %h1 Fillings
              .additional-title#adding-button
                %h1 Additional Fillings
            .ordinary-fillings#ordinary
              - @fillings.each do |filling|
                .addition-filling
                  .addition-checkbox
                    %input{ type: 'checkbox', checked: include_filling(@order_item.pizza, filling), class: 'complete', name: 'filling', id: 'filling', data: { filling_id: filling.id, price: filling.price.cents,
                     order_item_id: @order_item.id, authenticity_token: form_authenticity_token } }
                  .filling-name
                    %h4= filling.name
                  .price-additianal-filling
                    %h4= filling.price.format
            .additional-fillings#adding.hidden
              - @additional_fillings.each do |filling|
                .addition-filling
                  .addition-checkbox
                    %input{ type: 'checkbox', checked: include_filling(@order_item.pizza, filling), class: 'complete', name: 'filling', id: 'filling', data: { filling_id: filling.id, price: filling.price.cents,
                     order_item_id: @order_item.id, authenticity_token: form_authenticity_token } }
                  .filling-name
                    %h4= filling.name
                  .price-additianal-filling
                    %h4= filling.price.format

):
1:    .fillings-page
2:      .filling-menu.dark-theme.dark-block
3:        .footer-bar
4:          .button
5:            .back-to-cart
6:              = link_to 'Back to cart', cart_path, class: 'btn btn-primary'
7:        .pizza-menu
8:          .thumbnail.dark-theme.pizza-image
9:            .image
10:              %img{src: "https://i.postimg.cc/63Gn2tYs/9.png"}
11:            .buttons-set
12:              %h4 Pizza Dimension
13:              %select.dark-theme.dark-block#custom_pizza_dimension_edit{ data: { @dimension_with_price, authenticity_token: form_authenticity_token } ,  }
14:                - @pizza_dimensions.each do |dimension|
15:                  %option{ selected: current_dimension(@order_item, dimension) }= dimension.dimension
16:            .subtotal-price
17:              %tr
18:                %td
19:                  %strong.font-18 Total Price:
20:                %td
21:                  %strong.font-18#total_price{ data: { price: @order_item.price.cents, currency:  @order_item.amount_pay.currency.symbol  } }= @order_item.amount_pay.format
22:          .choose-fillings.dark-theme
23:            .fillings-block
24:              .border-block
25:                .fillings-title
26:                  .ordinary-title#ordinary-button.active
27:                    %h1 Fillings
28:                  .additional-title#adding-button
29:                    %h1 Additional Fillings
30:                .ordinary-fillings#ordinary
31:                  - @fillings.each do |filling|
32:                    .addition-filling
33:                      .addition-checkbox
34:                        %input{ type: 'checkbox', checked: include_filling(@order_item.pizza, filling), class: 'complete', name: 'filling', id: 'filling', data: { filling_id: filling.id, price: filling.price.cents,
35:                         order_item_id: @order_item.id, authenticity_token: form_authenticity_token } }
36:                      .filling-name
37:                        %h4= filling.name
38:                      .price-additianal-filling
39:                        %h4= filling.price.format
40:                .additional-fillings#adding.hidden
41:                  - @additional_fillings.each do |filling|
42:                    .addition-filling
43:                      .addition-checkbox
44:                        %input{ type: 'checkbox', checked: include_filling(@order_item.pizza, filling), class: 'complete', name: 'filling', id: 'filling', data: { filling_id: filling.id, price: filling.price.cents,
45:                         order_item_id: @order_item.id, authenticity_token: form_authenticity_token } }
46:                      .filling-name
47:                        %h4= filling.name
48:                      .price-additianal-filling
49:                        %h4= filling.price.format
  
app/views/custom_pizzas/edit.haml:13: syntax error, unexpected ',', expecting =>
app/views/custom_pizzas/edit.haml:13: syntax error, unexpected ',', expecting =>
app/views/custom_pizzas/edit.haml:13: syntax error, unexpected ',', expecting =>
app/views/custom_pizzas/edit.haml:13: syntax error, unexpected ',', expecting =>
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:34:33 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 97.3ms | Allocations: 45960)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 27.3ms | Allocations: 9448)
  Rendered layouts/_flesh.haml (Duration: 3.3ms | Allocations: 2109)
  Rendered layouts/_footer.haml (Duration: 12.7ms | Allocations: 12680)
  Rendered layout layouts/application.haml (Duration: 153.1ms | Allocations: 79247)
Completed 200 OK in 162ms (Views: 140.0ms | ActiveRecord: 15.6ms | Allocations: 82639)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:34:34 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:34:34 +0300
Started GET "/assets/application.css" for ::1 at 2023-05-04 13:35:42 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:35:42 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:39:25 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 24.8ms | Allocations: 11422)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.8ms | Allocations: 1719)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 66.5ms | Allocations: 16292)
Completed 200 OK in 74ms (Views: 64.3ms | ActiveRecord: 4.3ms | Allocations: 18980)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:39:25 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:39:25 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:39:25 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:39:39 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (1.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 21.4ms | Allocations: 11270)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 5.0ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 31.4ms | Allocations: 15023)
Completed 200 OK in 39ms (Views: 29.0ms | ActiveRecord: 3.8ms | Allocations: 17598)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:39:39 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:39:39 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:39:39 +0300
Started PATCH "/custom_pizza?filling_id=undefined" for ::1 at 2023-05-04 13:39:41 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "pizza_dimension"=>"60.0", "filling_id"=>"undefined", "custom_pizza"=>{}}
Redirected to http://localhost:3000/
Completed 302 Found in 15ms (ActiveRecord: 0.0ms | Allocations: 3256)


Started PATCH "/" for ::1 at 2023-05-04 13:39:41 +0300
  
ActionController::RoutingError (No route matches [PATCH] "/"):
  
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:41:46 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:33:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 41.8ms | Allocations: 19912)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 21.2ms | Allocations: 5247)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 77)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 151)
  Rendered layout layouts/application.haml (Duration: 66.7ms | Allocations: 27522)
Completed 200 OK in 138ms (Views: 57.1ms | ActiveRecord: 33.7ms | Allocations: 44722)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:41:47 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:41:47 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:41:47 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:41:48 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:33:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (1.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 95.2ms | Allocations: 11391)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 23.8ms | Allocations: 1719)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 150.2ms | Allocations: 15174)
Completed 200 OK in 158ms (Views: 147.2ms | ActiveRecord: 4.7ms | Allocations: 17868)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:41:48 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:41:48 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:41:48 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:41:48 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:33:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 21.4ms | Allocations: 11293)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.1ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 28.7ms | Allocations: 15046)
Completed 200 OK in 36ms (Views: 26.6ms | ActiveRecord: 3.6ms | Allocations: 17622)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:41:49 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:41:49 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:41:49 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:41:49 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:33:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.9ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 24.4ms | Allocations: 11273)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.7ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 32.9ms | Allocations: 15026)
Completed 200 OK in 40ms (Views: 30.5ms | ActiveRecord: 3.9ms | Allocations: 17601)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:41:49 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:41:49 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:41:49 +0300
Started PATCH "/custom_pizza?filling_id=undefined" for ::1 at 2023-05-04 13:41:51 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "pizza_dimension"=>"60.0", "filling_id"=>"undefined", "custom_pizza"=>{}}
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 12ms (ActiveRecord: 0.0ms | Allocations: 8746)


Started PATCH "/custom_pizza?filling_id=undefined" for ::1 at 2023-05-04 13:41:53 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "pizza_dimension"=>"60.0", "filling_id"=>"undefined", "custom_pizza"=>{}}
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 10ms (ActiveRecord: 0.0ms | Allocations: 8134)


Started PATCH "/custom_pizza?filling_id=undefined" for ::1 at 2023-05-04 13:41:54 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "pizza_dimension"=>"60.0", "filling_id"=>"undefined", "custom_pizza"=>{}}
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 11ms (ActiveRecord: 0.0ms | Allocations: 8113)


Started PATCH "/custom_pizza?filling_id=undefined" for ::1 at 2023-05-04 13:41:54 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "pizza_dimension"=>"60.0", "filling_id"=>"undefined", "custom_pizza"=>{}}
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 11ms (ActiveRecord: 0.0ms | Allocations: 9530)


Started PATCH "/custom_pizza?filling_id=undefined" for ::1 at 2023-05-04 13:41:55 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "pizza_dimension"=>"60.0", "filling_id"=>"undefined", "custom_pizza"=>{}}
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 10540ms (ActiveRecord: 0.0ms | Allocations: 9817)


Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:43:01 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (1.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.6ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (1.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 80.6ms | Allocations: 50468)
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 27.1ms | Allocations: 11398)
  Rendered layouts/_flesh.haml (Duration: 3.5ms | Allocations: 2163)
  Rendered layouts/_footer.haml (Duration: 11.0ms | Allocations: 12720)
  Rendered layout layouts/application.haml (Duration: 278.4ms | Allocations: 302425)
Completed 200 OK in 371ms (Views: 265.9ms | ActiveRecord: 44.6ms | Allocations: 329386)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:43:01 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:43:01 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:43:01 +0300
Started PATCH "/custom_pizza?filling_id=undefined" for ::1 at 2023-05-04 13:43:03 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "pizza_dimension"=>"60.0", "filling_id"=>"undefined", "custom_pizza"=>{}}
Redirected to http://localhost:3000/
Completed 302 Found in 3ms (ActiveRecord: 0.0ms | Allocations: 1359)


Started PATCH "/" for ::1 at 2023-05-04 13:43:03 +0300
  
ActionController::RoutingError (No route matches [PATCH] "/"):
  
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:44:40 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 20.0ms | Allocations: 11515)
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.9ms | Allocations: 1750)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 58)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 121)
  Rendered layout layouts/application.haml (Duration: 107.3ms | Allocations: 27067)
Completed 200 OK in 114ms (Views: 104.3ms | ActiveRecord: 4.4ms | Allocations: 29926)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:44:40 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:44:40 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:44:40 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:44:42 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 25.1ms | Allocations: 11267)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 5.3ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 34.3ms | Allocations: 15020)
Completed 200 OK in 45ms (Views: 31.9ms | ActiveRecord: 4.5ms | Allocations: 17596)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:44:42 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:44:42 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:44:42 +0300
Started PATCH "/custom_pizza" for ::1 at 2023-05-04 13:44:43 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>11, "pizza_dimension"=>"100.0", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:48:in `current_order_item'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:52:in `current_pizza'
Redirected to http://localhost:3000/
Completed 302 Found in 13306ms (ActiveRecord: 0.8ms | Allocations: 59153)


Started PATCH "/" for ::1 at 2023-05-04 13:44:56 +0300
  
ActionController::RoutingError (No route matches [PATCH] "/"):
  
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:45:20 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.6ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.6ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 22.5ms | Allocations: 11427)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.1ms | Allocations: 1750)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 49)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 121)
  Rendered layout layouts/application.haml (Duration: 29.7ms | Allocations: 15361)
Completed 200 OK in 39ms (Views: 27.5ms | ActiveRecord: 4.5ms | Allocations: 18162)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:45:20 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:45:20 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:45:20 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:45:21 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 21.1ms | Allocations: 11270)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 3.9ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.0ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 28.2ms | Allocations: 15023)
Completed 200 OK in 35ms (Views: 26.0ms | ActiveRecord: 3.8ms | Allocations: 17598)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:45:21 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:45:21 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:45:21 +0300
Started PATCH "/custom_pizza" for ::1 at 2023-05-04 13:45:23 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>11, "pizza_dimension"=>"100.0", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:48:in `current_order_item'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:52:in `current_pizza'
Redirected to http://localhost:3000/
Completed 302 Found in 100109ms (ActiveRecord: 0.4ms | Allocations: 13190)


Started PATCH "/" for ::1 at 2023-05-04 13:47:03 +0300
  
ActionController::RoutingError (No route matches [PATCH] "/"):
  
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:47:07 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.6ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 48.1ms | Allocations: 19919)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 22.0ms | Allocations: 5246)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 76)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 151)
  Rendered layout layouts/application.haml (Duration: 73.7ms | Allocations: 27528)
Completed 200 OK in 141ms (Views: 60.8ms | ActiveRecord: 34.5ms | Allocations: 44752)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:47:07 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:47:07 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:47:07 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:47:08 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.9ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 21.1ms | Allocations: 11411)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.2ms | Allocations: 1719)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 28.4ms | Allocations: 15194)
Completed 200 OK in 35ms (Views: 26.1ms | ActiveRecord: 3.7ms | Allocations: 17881)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:47:08 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:47:08 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:47:08 +0300
Started PATCH "/custom_pizza" for ::1 at 2023-05-04 13:47:16 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>11, "pizza_dimension"=>"100.0", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:47:in `current_order_item'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:51:in `current_pizza'
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:47:20 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.7ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.6ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (1.9ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 25.5ms | Allocations: 11467)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 5.1ms | Allocations: 1756)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 27)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 121)
  Rendered layout layouts/application.haml (Duration: 34.7ms | Allocations: 15389)
Completed 200 OK in 68ms (Views: 31.7ms | ActiveRecord: 13.3ms | Allocations: 21171)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:47:20 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:47:20 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:47:20 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:47:21 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.9ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 24.1ms | Allocations: 11258)
  [1m[36mOrder Load (1.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 5.2ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 32.5ms | Allocations: 15011)
Completed 200 OK in 45ms (Views: 29.3ms | ActiveRecord: 5.7ms | Allocations: 17586)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:47:21 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:47:21 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:47:21 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:47:21 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.6ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 19.9ms | Allocations: 11261)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.0ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 26.8ms | Allocations: 15014)
Completed 200 OK in 34ms (Views: 24.7ms | ActiveRecord: 4.0ms | Allocations: 17589)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:47:21 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:47:21 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:47:21 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:47:21 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.6ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 21.2ms | Allocations: 11290)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 5.3ms | Allocations: 1716)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.4ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 30.6ms | Allocations: 15046)
Completed 200 OK in 39ms (Views: 28.0ms | ActiveRecord: 4.4ms | Allocations: 17633)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:47:21 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:47:22 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:47:22 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:47:22 +0300
  [1m[36mOrdinaryFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 31.5ms | Allocations: 12215)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 6.0ms | Allocations: 1844)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.5ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 42.9ms | Allocations: 16165)
Completed 200 OK in 52ms (Views: 40.0ms | ActiveRecord: 4.8ms | Allocations: 18751)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:47:22 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:47:22 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:47:22 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:47:59 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 19.8ms | Allocations: 11282)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.0ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 26.7ms | Allocations: 15035)
Completed 200 OK in 34ms (Views: 24.4ms | ActiveRecord: 3.8ms | Allocations: 17611)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:47:59 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:47:59 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:47:59 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:48:04 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 20.4ms | Allocations: 11273)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.6ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 30.0ms | Allocations: 15090)
Completed 200 OK in 37ms (Views: 27.9ms | ActiveRecord: 3.8ms | Allocations: 17665)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:48:04 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:48:04 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:48:04 +0300
Started PATCH "/custom_pizza?filling_id=2" for ::1 at 2023-05-04 13:48:05 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>11, "pizza_dimension"=>"100.0", "filling_id"=>"2", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:47:in `current_order_item'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:51:in `current_pizza'
  [1m[36mFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:59:in `except_filling'
  [1m[36mFilling Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 26], ["id", 2], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:27:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:59:in `except_filling'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:31:in `delete_filling'
  [1m[36mPizzaFilling Delete All (0.3ms)[0m  [1m[31mDELETE FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" = $1 AND "pizza_fillings"."filling_id" = $2[0m  [["pizza_id", 26], ["filling_id", 2]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:31:in `delete_filling'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:31:in `delete_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 5421ms (ActiveRecord: 5.7ms | Allocations: 14001)


Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:48:12 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (1.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 31.3ms | Allocations: 11094)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.9ms | Allocations: 1716)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 39.8ms | Allocations: 14851)
Completed 200 OK in 47ms (Views: 36.2ms | ActiveRecord: 5.2ms | Allocations: 17433)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:48:12 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:48:12 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:48:12 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:48:13 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (1.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 19.2ms | Allocations: 11050)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 3.9ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 26.1ms | Allocations: 14803)
Completed 200 OK in 32ms (Views: 23.8ms | ActiveRecord: 3.6ms | Allocations: 17378)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:48:13 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:48:13 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:48:13 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:52:32 +0300
Completed 500 Internal Server Error in 389080ms (ActiveRecord: 0.7ms | Allocations: 317233)


  
Errno::EIO (Input/output error @ io_writev - <STDOUT>):
  
app/interactors/pizzas/update_custom_pizza.rb:39:in `update_pizza_dimension'
app/interactors/pizzas/update_custom_pizza.rb:23:in `working_with_custom_pizza'
app/interactors/pizzas/update_custom_pizza.rb:7:in `call'
app/controllers/custom_pizzas_controller.rb:20:in `update'
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:53:45 +0300
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 52.4ms | Allocations: 19807)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 22.4ms | Allocations: 5283)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 31)
  Rendered layouts/_footer.haml (Duration: 0.7ms | Allocations: 151)
  Rendered layout layouts/application.haml (Duration: 80.4ms | Allocations: 27510)
Completed 200 OK in 151ms (Views: 67.0ms | ActiveRecord: 38.9ms | Allocations: 45811)


Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.9ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 47.5ms | Allocations: 19803)
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 17.8ms | Allocations: 5289)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 31)
  Rendered layouts/_footer.haml (Duration: 0.7ms | Allocations: 151)
  Rendered layout layouts/application.haml (Duration: 70.2ms | Allocations: 27458)
Completed 200 OK in 133ms (Views: 58.9ms | ActiveRecord: 32.4ms | Allocations: 44699)


Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:53:51 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.7ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.6ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 77.5ms | Allocations: 50242)
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 33.0ms | Allocations: 11398)
  Rendered layouts/_flesh.haml (Duration: 5.1ms | Allocations: 2163)
  Rendered layouts/_footer.haml (Duration: 13.1ms | Allocations: 12720)
  Rendered layout layouts/application.haml (Duration: 284.8ms | Allocations: 302192)
Completed 200 OK in 368ms (Views: 270.6ms | ActiveRecord: 40.3ms | Allocations: 329154)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:53:52 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:53:52 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:53:52 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:53:53 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 156.4ms | Allocations: 11227)
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 5.2ms | Allocations: 1721)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.4ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 165.4ms | Allocations: 15018)
Completed 200 OK in 173ms (Views: 162.9ms | ActiveRecord: 4.4ms | Allocations: 17731)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:53:53 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:53:53 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:53:53 +0300
Started PATCH "/custom_pizza?filling_id=1" for ::1 at 2023-05-04 13:54:03 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>11, "pizza_dimension"=>"100.0", "filling_id"=>"1", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:48:in `current_order_item'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:52:in `current_pizza'
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:60:in `except_filling'
  [1m[36mFilling Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 26], ["id", 1], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:28:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:60:in `except_filling'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:32:in `delete_filling'
  [1m[36mPizzaFilling Delete All (0.4ms)[0m  [1m[31mDELETE FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" = $1 AND "pizza_fillings"."filling_id" = $2[0m  [["pizza_id", 26], ["filling_id", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:32:in `delete_filling'
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:32:in `delete_filling'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 23532ms (ActiveRecord: 10.8ms | Allocations: 69927)


Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:54:40 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 18.9ms | Allocations: 11017)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 3.9ms | Allocations: 1746)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 26)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 121)
  Rendered layout layouts/application.haml (Duration: 26.0ms | Allocations: 14933)
Completed 200 OK in 33ms (Views: 24.7ms | ActiveRecord: 2.8ms | Allocations: 17619)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:54:40 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:54:40 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:54:40 +0300
Started PATCH "/custom_pizza?filling_id=undefined" for ::1 at 2023-05-04 13:54:42 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "pizza_dimension"=>"60.0", "filling_id"=>"undefined", "custom_pizza"=>{}}
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 650)


Started PATCH "/" for ::1 at 2023-05-04 13:54:42 +0300
  
ActionController::RoutingError (No route matches [PATCH] "/"):
  
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:55:14 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 19.5ms | Allocations: 11015)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.0ms | Allocations: 1750)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 58)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 121)
  Rendered layout layouts/application.haml (Duration: 26.5ms | Allocations: 14961)
Completed 200 OK in 36ms (Views: 24.5ms | ActiveRecord: 4.1ms | Allocations: 17811)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:55:14 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:55:14 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:55:14 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:55:15 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 25.5ms | Allocations: 10827)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.5ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 32.9ms | Allocations: 14580)
Completed 200 OK in 39ms (Views: 30.5ms | ActiveRecord: 4.0ms | Allocations: 17155)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:55:15 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:55:15 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:55:15 +0300
Started PATCH "/custom_pizza?filling_id=undefined" for ::1 at 2023-05-04 13:55:16 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "pizza_dimension"=>"60.0", "filling_id"=>"undefined", "custom_pizza"=>{}}
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 597)


Started PATCH "/" for ::1 at 2023-05-04 13:55:17 +0300
  
ActionController::RoutingError (No route matches [PATCH] "/"):
  
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:57:08 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 21.8ms | Allocations: 10849)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.4ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 45)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 73.5ms | Allocations: 15825)
Completed 200 OK in 82ms (Views: 72.6ms | ActiveRecord: 3.2ms | Allocations: 18400)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:57:08 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:57:08 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:57:09 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:57:09 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 21.0ms | Allocations: 10818)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 5.0ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 30.2ms | Allocations: 14571)
Completed 200 OK in 36ms (Views: 27.9ms | ActiveRecord: 3.6ms | Allocations: 17146)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:57:09 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:57:09 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:57:09 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:57:09 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.9ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 27.4ms | Allocations: 10824)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 3.8ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 34.5ms | Allocations: 14577)
Completed 200 OK in 43ms (Views: 32.2ms | ActiveRecord: 4.0ms | Allocations: 17152)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:57:09 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:57:10 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:57:10 +0300
Started PATCH "/custom_pizza" for ::1 at 2023-05-04 13:57:11 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>11, "pizza_dimension"=>"100.0", "filling_id"=>1, "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:48:in `current_order_item'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:52:in `current_pizza'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:60:in `except_filling'
  [1m[36mFilling Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 26], ["id", 1], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:28:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:60:in `except_filling'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:36:in `update_pizza_filling'
  [1m[36mPizzaFilling Create (1.2ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 26], ["filling_id", 1], ["created_at", "2023-05-04 10:57:19.542260"], ["updated_at", "2023-05-04 10:57:19.542260"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:36:in `update_pizza_filling'
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:36:in `update_pizza_filling'
  [1m[36mPizzaDimension Load (0.9ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ (pry):5:in `update_pizza_dimension'
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."dimension" = $1 LIMIT $2[0m  [["dimension", 100.0], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:56:in `current_pizza_dimension'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ (pry):7:in `update_pizza_dimension'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ (pry):7:in `update_pizza_dimension'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ (pry):7:in `update_pizza_dimension'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 110217ms (ActiveRecord: 18.5ms | Allocations: 50350)


Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:59:21 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.6ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (1.1ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 49.2ms | Allocations: 19686)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 19.4ms | Allocations: 5246)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 31)
  Rendered layouts/_footer.haml (Duration: 0.4ms | Allocations: 151)
  Rendered layout layouts/application.haml (Duration: 72.0ms | Allocations: 27251)
Completed 200 OK in 132ms (Views: 57.3ms | ActiveRecord: 34.8ms | Allocations: 44386)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:59:21 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:59:21 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:59:21 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 13:59:21 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 23.8ms | Allocations: 11197)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.6ms | Allocations: 1719)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 31.6ms | Allocations: 14980)
Completed 200 OK in 39ms (Views: 28.8ms | ActiveRecord: 4.3ms | Allocations: 17667)


Started GET "/assets/application.css" for ::1 at 2023-05-04 13:59:21 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 13:59:21 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 13:59:22 +0300
Started PATCH "/custom_pizza" for ::1 at 2023-05-04 13:59:23 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>11, "pizza_dimension"=>"100.0", "filling_id"=>5, "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:50:in `current_order_item'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:54:in `current_pizza'
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:62:in `except_filling'
  [1m[36mFilling Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 26], ["id", 5], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:28:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:62:in `except_filling'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:32:in `delete_filling'
  [1m[36mPizzaFilling Delete All (0.4ms)[0m  [1m[31mDELETE FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" = $1 AND "pizza_fillings"."filling_id" = $2[0m  [["pizza_id", 26], ["filling_id", 5]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:32:in `delete_filling'
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:32:in `delete_filling'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:40:in `update_pizza_dimension'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."dimension" = $1 LIMIT $2[0m  [["dimension", 100.0], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:58:in `current_pizza_dimension'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 6629ms (ActiveRecord: 11.9ms | Allocations: 16136)


Started PATCH "/custom_pizza" for ::1 at 2023-05-04 13:59:36 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "pizza_dimension"=>"60.0", "custom_pizza"=>{}}
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 666)


Started PATCH "/" for ::1 at 2023-05-04 13:59:36 +0300
  
ActionController::RoutingError (No route matches [PATCH] "/"):
  
Started PATCH "/custom_pizza" for ::1 at 2023-05-04 14:02:45 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "pizza_dimension"=>"60.0", "custom_pizza"=>{}}
Redirected to http://localhost:3000/
Completed 302 Found in 9ms (ActiveRecord: 7.7ms | Allocations: 2621)


Started PATCH "/" for ::1 at 2023-05-04 14:02:46 +0300
  
ActionController::RoutingError (No route matches [PATCH] "/"):
  
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:02:53 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 46.9ms | Allocations: 19478)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 21.5ms | Allocations: 5176)
  Rendered layouts/_flesh.haml (Duration: 0.2ms | Allocations: 76)
  Rendered layouts/_footer.haml (Duration: 0.4ms | Allocations: 151)
  Rendered layout layouts/application.haml (Duration: 106.8ms | Allocations: 28104)
Completed 200 OK in 161ms (Views: 93.2ms | ActiveRecord: 31.0ms | Allocations: 42874)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:02:54 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:02:54 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:02:54 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:02:54 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (1.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 22.4ms | Allocations: 10966)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.3ms | Allocations: 1719)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 31.0ms | Allocations: 14749)
Completed 200 OK in 38ms (Views: 28.8ms | ActiveRecord: 3.8ms | Allocations: 17435)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:02:55 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:02:55 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:02:55 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:02:55 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 27.2ms | Allocations: 10815)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.7ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.5ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 35.5ms | Allocations: 14568)
Completed 200 OK in 42ms (Views: 32.9ms | ActiveRecord: 4.2ms | Allocations: 17143)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:02:55 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:02:55 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:02:55 +0300
Started PATCH "/custom_pizza" for ::1 at 2023-05-04 14:02:57 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "pizza_dimension"=>"60.0", "filling_id"=>0, "custom_pizza"=>{}}
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 588)


Started PATCH "/" for ::1 at 2023-05-04 14:02:57 +0300
  
ActionController::RoutingError (No route matches [PATCH] "/"):
  
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:03:53 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 40.3ms | Allocations: 35406)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 8.9ms | Allocations: 5969)
  Rendered layouts/_flesh.haml (Duration: 2.8ms | Allocations: 2038)
  Rendered layouts/_footer.haml (Duration: 11.7ms | Allocations: 12632)
  Rendered layout layouts/application.haml (Duration: 76.5ms | Allocations: 64896)
Completed 200 OK in 85ms (Views: 75.8ms | ActiveRecord: 3.0ms | Allocations: 68059)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:03:53 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:03:53 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:03:53 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:03:54 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 20.3ms | Allocations: 10835)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 5.3ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.4ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 29.7ms | Allocations: 14588)
Completed 200 OK in 37ms (Views: 27.6ms | ActiveRecord: 3.8ms | Allocations: 17207)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:03:54 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:03:54 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:03:54 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:03:54 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 19.6ms | Allocations: 10817)
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 3.7ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 26.3ms | Allocations: 14570)
Completed 200 OK in 33ms (Views: 25.0ms | ActiveRecord: 2.6ms | Allocations: 17145)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:03:55 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:03:55 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:03:55 +0300
Started PATCH "/custom_pizza" for ::1 at 2023-05-04 14:03:56 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>11, "pizza_dimension"=>"60.0", "filling_id"=>0, "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:50:in `current_order_item'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:54:in `current_pizza'
  [1m[36mPizzaDimension Load (0.7ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:40:in `update_pizza_dimension'
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."dimension" = $1 LIMIT $2[0m  [["dimension", 60.0], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:58:in `current_pizza_dimension'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `update_pizza_dimension'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `update_pizza_dimension'
  [1m[36mCustomPizza Update (1.1ms)[0m  [1m[33mUPDATE "pizzas" SET "pizza_dimension_id" = $1, "updated_at" = $2 WHERE "pizzas"."id" = $3[0m  [["pizza_dimension_id", 2], ["updated_at", "2023-05-04 11:04:15.138618"], ["id", 26]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `update_pizza_dimension'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `update_pizza_dimension'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 18824ms (ActiveRecord: 9.7ms | Allocations: 19174)


Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:04:18 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 19.5ms | Allocations: 10848)
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 3.9ms | Allocations: 1716)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 27.2ms | Allocations: 14609)
Completed 200 OK in 44ms (Views: 26.1ms | ActiveRecord: 2.4ms | Allocations: 17185)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:04:18 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:04:18 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:04:18 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:04:19 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 20.4ms | Allocations: 10853)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.1ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 27.6ms | Allocations: 14606)
Completed 200 OK in 35ms (Views: 25.7ms | ActiveRecord: 3.3ms | Allocations: 17182)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:04:19 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:04:19 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:04:19 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:04:19 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.9ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 24.9ms | Allocations: 10832)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 5.1ms | Allocations: 1716)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 33.9ms | Allocations: 14587)
Completed 200 OK in 41ms (Views: 31.4ms | ActiveRecord: 4.3ms | Allocations: 17162)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:04:19 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:04:19 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:04:19 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:04:19 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 21.1ms | Allocations: 10841)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.3ms | Allocations: 1717)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 28.6ms | Allocations: 14597)
Completed 200 OK in 36ms (Views: 26.7ms | ActiveRecord: 3.9ms | Allocations: 17173)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:04:19 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:04:19 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:04:19 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:04:59 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 18.4ms | Allocations: 10826)
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 3.9ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 27.0ms | Allocations: 14636)
Completed 200 OK in 33ms (Views: 25.8ms | ActiveRecord: 2.7ms | Allocations: 17211)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:04:59 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:04:59 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:05:00 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:05:00 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 29.9ms | Allocations: 10834)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 9.5ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.4ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 45.0ms | Allocations: 14587)
Completed 200 OK in 56ms (Views: 43.3ms | ActiveRecord: 3.9ms | Allocations: 17162)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:05:00 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:05:00 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:05:01 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:05:01 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 19.5ms | Allocations: 10850)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.5ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 27.3ms | Allocations: 14606)
Completed 200 OK in 35ms (Views: 25.5ms | ActiveRecord: 3.2ms | Allocations: 17181)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:05:01 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:05:01 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:05:01 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:05:01 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 21.5ms | Allocations: 10841)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 5.0ms | Allocations: 1716)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.6ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 30.3ms | Allocations: 14596)
Completed 200 OK in 40ms (Views: 28.1ms | ActiveRecord: 3.9ms | Allocations: 17171)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:05:01 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:05:01 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:05:01 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:05:01 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.6ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 23.1ms | Allocations: 10829)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.1ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 31.0ms | Allocations: 14582)
Completed 200 OK in 44ms (Views: 29.2ms | ActiveRecord: 4.0ms | Allocations: 17157)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:05:01 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:05:01 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:05:02 +0300
Started PATCH "/custom_pizza" for ::1 at 2023-05-04 14:05:03 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>11, "pizza_dimension"=>"100.0", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:50:in `current_order_item'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:54:in `current_pizza'
Redirected to http://localhost:3000/
Completed 302 Found in 33453ms (ActiveRecord: 0.7ms | Allocations: 11305)


Started PATCH "/" for ::1 at 2023-05-04 14:05:36 +0300
  
ActionController::RoutingError (No route matches [PATCH] "/"):
  
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:07:35 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 44.2ms | Allocations: 19481)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 21.0ms | Allocations: 5247)
  Rendered layouts/_flesh.haml (Duration: 0.2ms | Allocations: 76)
  Rendered layouts/_footer.haml (Duration: 0.5ms | Allocations: 151)
  Rendered layout layouts/application.haml (Duration: 104.2ms | Allocations: 28183)
Completed 200 OK in 172ms (Views: 90.7ms | ActiveRecord: 34.4ms | Allocations: 45375)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:07:36 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:07:36 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:07:36 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:07:37 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 21.4ms | Allocations: 10946)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.0ms | Allocations: 1719)
  Rendered layouts/_flesh.haml (Duration: 0.0ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 28.2ms | Allocations: 14729)
Completed 200 OK in 37ms (Views: 26.2ms | ActiveRecord: 3.9ms | Allocations: 17416)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:07:37 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:07:37 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:07:37 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:09:39 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 21.3ms | Allocations: 10850)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.6ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 64.0ms | Allocations: 15663)
Completed 200 OK in 72ms (Views: 61.4ms | ActiveRecord: 4.1ms | Allocations: 18238)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:09:39 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:09:39 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:09:39 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:09:39 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 21.0ms | Allocations: 10850)
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 3.9ms | Allocations: 1716)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 28.3ms | Allocations: 14609)
Completed 200 OK in 35ms (Views: 26.5ms | ActiveRecord: 3.1ms | Allocations: 17186)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:09:39 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:09:39 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:09:39 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.6ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 26.1ms | Allocations: 10949)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 6.3ms | Allocations: 1787)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 38.0ms | Allocations: 14908)
Completed 200 OK in 48ms (Views: 35.2ms | ActiveRecord: 4.9ms | Allocations: 17489)


Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:09:39 +0300
Started GET "/assets/application.css" for ::1 at 2023-05-04 14:09:39 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:09:40 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:09:40 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:09:40 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 31.0ms | Allocations: 10811)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 5.0ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.4ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 39.9ms | Allocations: 14564)
Completed 200 OK in 47ms (Views: 37.7ms | ActiveRecord: 3.7ms | Allocations: 17139)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:09:41 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:09:41 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:09:41 +0300
Started PATCH "/custom_pizza" for ::1 at 2023-05-04 14:09:44 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>11, "pizza_dimension"=>"90.0", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:51:in `current_order_item'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:55:in `current_pizza'
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:41:in `update_pizza_dimension'
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."dimension" = $1 LIMIT $2[0m  [["dimension", 90.0], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:59:in `current_pizza_dimension'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:43:in `update_pizza_dimension'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:43:in `update_pizza_dimension'
  [1m[36mCustomPizza Update (0.6ms)[0m  [1m[33mUPDATE "pizzas" SET "pizza_dimension_id" = $1, "updated_at" = $2 WHERE "pizzas"."id" = $3[0m  [["pizza_dimension_id", 3], ["updated_at", "2023-05-04 11:09:45.026717"], ["id", 26]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:43:in `update_pizza_dimension'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:43:in `update_pizza_dimension'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 40ms (ActiveRecord: 8.0ms | Allocations: 12218)


Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:09:49 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 22.4ms | Allocations: 10966)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.4ms | Allocations: 1745)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 26)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 121)
  Rendered layout layouts/application.haml (Duration: 30.6ms | Allocations: 14875)
Completed 200 OK in 38ms (Views: 28.5ms | ActiveRecord: 3.8ms | Allocations: 17526)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:09:49 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:09:49 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:09:49 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:09:49 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 24.5ms | Allocations: 10823)
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 3.6ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 31.0ms | Allocations: 14576)
Completed 200 OK in 38ms (Views: 29.2ms | ActiveRecord: 3.2ms | Allocations: 17152)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:09:50 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:09:50 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:09:50 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:09:52 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (1.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 21.5ms | Allocations: 10840)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.7ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 29.2ms | Allocations: 14593)
Completed 200 OK in 40ms (Views: 26.2ms | ActiveRecord: 4.7ms | Allocations: 17168)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:09:52 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:09:52 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:09:52 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:09:53 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.6ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 19.7ms | Allocations: 10840)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.2ms | Allocations: 1716)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 27.3ms | Allocations: 14596)
Completed 200 OK in 35ms (Views: 25.4ms | ActiveRecord: 3.8ms | Allocations: 17171)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:09:53 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:09:53 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:09:53 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:10:12 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 28.4ms | Allocations: 10823)
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 5.0ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 72.9ms | Allocations: 15668)
Completed 200 OK in 83ms (Views: 70.4ms | ActiveRecord: 4.2ms | Allocations: 18243)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:10:12 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:10:12 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:10:12 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:10:12 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 30.5ms | Allocations: 10856)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 5.5ms | Allocations: 1716)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 39.9ms | Allocations: 14615)
Completed 200 OK in 47ms (Views: 37.6ms | ActiveRecord: 4.0ms | Allocations: 17190)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:10:12 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:10:13 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:10:13 +0300
Started PATCH "/custom_pizza" for ::1 at 2023-05-04 14:10:13 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>11, "pizza_dimension"=>"90.0", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:51:in `current_order_item'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:55:in `current_pizza'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:41:in `update_pizza_dimension'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."dimension" = $1 LIMIT $2[0m  [["dimension", 90.0], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:59:in `current_pizza_dimension'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 9ms (ActiveRecord: 1.6ms | Allocations: 3257)


Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:10:17 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 19.3ms | Allocations: 10844)
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 3.6ms | Allocations: 1716)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 26.0ms | Allocations: 14600)
Completed 200 OK in 33ms (Views: 25.1ms | ActiveRecord: 2.5ms | Allocations: 17176)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:10:17 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:10:17 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:10:17 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:10:18 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 20.3ms | Allocations: 10835)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.1ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 27.6ms | Allocations: 14588)
Completed 200 OK in 34ms (Views: 25.6ms | ActiveRecord: 3.4ms | Allocations: 17164)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:10:18 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:10:18 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:10:18 +0300
Started PATCH "/custom_pizza" for ::1 at 2023-05-04 14:10:19 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>11, "pizza_dimension"=>"90.0", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:51:in `current_order_item'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:55:in `current_pizza'
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:41:in `update_pizza_dimension'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."dimension" = $1 LIMIT $2[0m  [["dimension", 90.0], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:59:in `current_pizza_dimension'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 7ms (ActiveRecord: 1.2ms | Allocations: 3246)


Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:10:27 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.6ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (1.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 27.8ms | Allocations: 10841)
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 6.3ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.7ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 40.4ms | Allocations: 14594)
Completed 200 OK in 50ms (Views: 37.5ms | ActiveRecord: 4.8ms | Allocations: 17169)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:10:27 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:10:27 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:10:27 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:10:27 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 20.2ms | Allocations: 10850)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.7ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 28.4ms | Allocations: 14603)
Completed 200 OK in 35ms (Views: 25.7ms | ActiveRecord: 4.0ms | Allocations: 17178)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:10:27 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:10:27 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:10:27 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:10:28 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.6ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 27.1ms | Allocations: 10832)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 5.6ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.4ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 36.6ms | Allocations: 14585)
Completed 200 OK in 44ms (Views: 33.7ms | ActiveRecord: 4.3ms | Allocations: 17161)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:10:28 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:10:28 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:10:28 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:10:28 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 21.1ms | Allocations: 10851)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 6.5ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.4ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 32.5ms | Allocations: 14607)
Completed 200 OK in 39ms (Views: 30.9ms | ActiveRecord: 3.2ms | Allocations: 17183)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:10:28 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:10:28 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:10:28 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.6ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (2.9ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 28.2ms | Allocations: 11094)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 5.4ms | Allocations: 1749)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.4ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 52.9ms | Allocations: 14984)
Completed 200 OK in 62ms (Views: 48.7ms | ActiveRecord: 6.2ms | Allocations: 17563)


Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:10:28 +0300
Started GET "/assets/application.css" for ::1 at 2023-05-04 14:10:28 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:10:28 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:10:28 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.7ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.6ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 26.5ms | Allocations: 10927)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 5.4ms | Allocations: 1830)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.4ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 37.8ms | Allocations: 14838)
Completed 200 OK in 49ms (Views: 35.4ms | ActiveRecord: 4.9ms | Allocations: 17650)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:10:28 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:10:28 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.7ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (1.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 32.4ms | Allocations: 11140)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 6.6ms | Allocations: 1888)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.4ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 45.9ms | Allocations: 15182)
Completed 200 OK in 58ms (Views: 43.0ms | ActiveRecord: 4.8ms | Allocations: 17770)


Started GET "/assets/application.js" for ::1 at 2023-05-04 14:10:28 +0300
Started GET "/assets/application.css" for ::1 at 2023-05-04 14:10:28 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:10:28 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 22.8ms | Allocations: 10826)
  [1m[36mOrder Load (1.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 5.5ms | Allocations: 1956)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 32.9ms | Allocations: 14829)
Completed 200 OK in 42ms (Views: 30.2ms | ActiveRecord: 4.4ms | Allocations: 17410)


Started GET "/assets/application.js" for ::1 at 2023-05-04 14:10:28 +0300
Started GET "/assets/application.css" for ::1 at 2023-05-04 14:10:29 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:10:29 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (1.1ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 25.9ms | Allocations: 10978)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 5.2ms | Allocations: 1811)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.4ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 37.9ms | Allocations: 14937)
Completed 200 OK in 46ms (Views: 34.9ms | ActiveRecord: 4.5ms | Allocations: 17515)


Started GET "/assets/application.js" for ::1 at 2023-05-04 14:10:29 +0300
Started GET "/assets/application.css" for ::1 at 2023-05-04 14:10:29 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:10:29 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:10:29 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:11:03 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 47.7ms | Allocations: 19454)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 24.2ms | Allocations: 5247)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 31)
  Rendered layouts/_footer.haml (Duration: 0.6ms | Allocations: 151)
  Rendered layout layouts/application.haml (Duration: 77.3ms | Allocations: 27025)
Completed 200 OK in 149ms (Views: 60.8ms | ActiveRecord: 42.8ms | Allocations: 44216)


Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:11:04 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 24.6ms | Allocations: 10987)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.9ms | Allocations: 1719)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 33.2ms | Allocations: 14845)
Completed 200 OK in 39ms (Views: 31.0ms | ActiveRecord: 3.5ms | Allocations: 17532)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:11:04 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:11:04 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:11:04 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:11:04 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (1.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 25.9ms | Allocations: 10846)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.4ms | Allocations: 1716)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 34.5ms | Allocations: 14605)
Completed 200 OK in 64ms (Views: 32.0ms | ActiveRecord: 4.3ms | Allocations: 17180)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:11:04 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:11:04 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:11:04 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:11:04 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 20.4ms | Allocations: 10853)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.5ms | Allocations: 1717)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.6ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 28.6ms | Allocations: 14610)
Completed 200 OK in 36ms (Views: 26.8ms | ActiveRecord: 3.3ms | Allocations: 17186)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:11:04 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:11:05 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:11:05 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:11:05 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 19.2ms | Allocations: 10841)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.1ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.0ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 26.3ms | Allocations: 14594)
Completed 200 OK in 34ms (Views: 24.3ms | ActiveRecord: 3.7ms | Allocations: 17170)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:11:05 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:11:05 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:11:05 +0300
Started PATCH "/custom_pizza" for ::1 at 2023-05-04 14:11:06 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>11, "pizza_dimension"=>"90.0", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:52:in `current_order_item'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:56:in `current_pizza'
  [1m[36mPizzaDimension Load (0.6ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `update_pizza_dimension'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."dimension" = $1 LIMIT $2[0m  [["dimension", 90.0], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:60:in `current_pizza_dimension'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 129068ms (ActiveRecord: 1.4ms | Allocations: 17222)


Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:13:19 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 19.4ms | Allocations: 11007)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.5ms | Allocations: 1745)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 26)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 121)
  Rendered layout layouts/application.haml (Duration: 61.0ms | Allocations: 16008)
Completed 200 OK in 67ms (Views: 58.6ms | ActiveRecord: 3.7ms | Allocations: 18663)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:13:19 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:13:19 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:13:19 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:13:19 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (1.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 28.8ms | Allocations: 10826)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 5.6ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.4ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 39.6ms | Allocations: 14579)
Completed 200 OK in 46ms (Views: 36.8ms | ActiveRecord: 4.2ms | Allocations: 17154)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:13:19 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:13:19 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:13:20 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:13:20 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.6ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 19.2ms | Allocations: 10845)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 5.3ms | Allocations: 1716)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.5ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 28.2ms | Allocations: 14603)
Completed 200 OK in 39ms (Views: 26.9ms | ActiveRecord: 3.6ms | Allocations: 17179)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:13:20 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:13:20 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:13:20 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:13:20 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.9ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 21.4ms | Allocations: 10837)
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 18.3ms | Allocations: 1715)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.4ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 43.1ms | Allocations: 14592)
Completed 200 OK in 53ms (Views: 42.8ms | ActiveRecord: 4.5ms | Allocations: 17167)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:13:20 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:13:20 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:13:21 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:13:21 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 37.9ms | Allocations: 10845)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.4ms | Allocations: 1716)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.4ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 46.0ms | Allocations: 14604)
Completed 200 OK in 75ms (Views: 46.5ms | ActiveRecord: 4.0ms | Allocations: 17179)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:13:21 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:13:21 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:13:21 +0300
Started PATCH "/custom_pizza?filling_id=undefined" for ::1 at 2023-05-04 14:13:23 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>11, "pizza_dimension"=>"90.0", "filling_id"=>"undefined", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:52:in `current_order_item'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:56:in `current_pizza'
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:14:15 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.7ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.7ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.6ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (1.1ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 27.9ms | Allocations: 10852)
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 5.6ms | Allocations: 1719)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 70.9ms | Allocations: 15637)
Completed 200 OK in 107ms (Views: 67.9ms | ActiveRecord: 15.8ms | Allocations: 21310)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:14:15 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:14:15 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:14:15 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:14:15 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.6ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.7ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 20.9ms | Allocations: 10844)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.7ms | Allocations: 1719)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 28.7ms | Allocations: 14603)
Completed 200 OK in 40ms (Views: 26.4ms | ActiveRecord: 4.7ms | Allocations: 17179)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:14:15 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:14:15 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:14:16 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:14:16 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 21.8ms | Allocations: 10837)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.7ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 30.4ms | Allocations: 14590)
Completed 200 OK in 39ms (Views: 28.4ms | ActiveRecord: 4.1ms | Allocations: 17166)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:14:16 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:14:16 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:14:16 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:14:16 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 21.0ms | Allocations: 10835)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 3.9ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 27.9ms | Allocations: 14588)
Completed 200 OK in 35ms (Views: 26.4ms | ActiveRecord: 3.1ms | Allocations: 17163)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:14:16 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:14:16 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:14:16 +0300
Started PATCH "/custom_pizza?filling_id=2" for ::1 at 2023-05-04 14:14:17 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>11, "pizza_dimension"=>"90.0", "filling_id"=>"2", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:52:in `current_order_item'
  [1m[36mPizza Load (0.7ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:56:in `current_pizza'
  [1m[36mPizzaDimension Load (0.9ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `update_pizza_dimension'
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."dimension" = $1 LIMIT $2[0m  [["dimension", 90.0], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:60:in `current_pizza_dimension'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 4010ms (ActiveRecord: 2.4ms | Allocations: 12379)


Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:14:28 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.6ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.6ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 21.8ms | Allocations: 10832)
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.2ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 30.0ms | Allocations: 14585)
Completed 200 OK in 39ms (Views: 27.8ms | ActiveRecord: 4.5ms | Allocations: 17160)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:14:28 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:14:28 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:14:28 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:14:28 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (1.1ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 20.4ms | Allocations: 10841)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.0ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.4ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 28.1ms | Allocations: 14594)
Completed 200 OK in 35ms (Views: 25.5ms | ActiveRecord: 4.1ms | Allocations: 17169)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:14:29 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:14:29 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:14:29 +0300
Started PATCH "/custom_pizza?filling_id=2" for ::1 at 2023-05-04 14:14:29 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>11, "pizza_dimension"=>"90.0", "filling_id"=>"2", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:52:in `current_order_item'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:56:in `current_pizza'
  [1m[36mPizzaDimension Load (0.7ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:42:in `update_pizza_dimension'
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."dimension" = $1 LIMIT $2[0m  [["dimension", 90.0], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:60:in `current_pizza_dimension'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 9508ms (ActiveRecord: 1.6ms | Allocations: 12337)


Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:15:20 +0300
Completed 500 Internal Server Error in 151669ms (ActiveRecord: 0.6ms | Allocations: 234709)


  
Errno::EIO (Input/output error @ io_writev - <STDOUT>):
  
app/interactors/pizzas/update_custom_pizza.rb:22:in `working_with_custom_pizza'
app/interactors/pizzas/update_custom_pizza.rb:7:in `call'
app/controllers/custom_pizzas_controller.rb:20:in `update'
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:15:55 +0300
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:15:55 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:15:55 +0300
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 43.1ms | Allocations: 19598)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 22.1ms | Allocations: 5284)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 31)
  Rendered layouts/_footer.haml (Duration: 0.4ms | Allocations: 151)
  Rendered layout layouts/application.haml (Duration: 69.1ms | Allocations: 27245)
Completed 200 OK in 143ms (Views: 55.2ms | ActiveRecord: 43.6ms | Allocations: 47357)


Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (4.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mPizzaDimension Load (2.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mOrderItem Load (8.8ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.7ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  [1m[36mPizza Load (1.1ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (3.6ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mPizzaDimension Load (1.6ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mPizzaDimension Load (2.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mOrderItem Load (1.6ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mFilling Load (1.1ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mFilling Load (1.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizza Load (18.7ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  [1m[36mOrdinaryFilling Load (4.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  Rendering layout layouts/application.haml
  [1m[36mOrdinaryFilling Load (2.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mAdditionalFilling Load (10.9ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  [1m[36mAdditionalFilling Load (2.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  â†³ app/views/custom_pizzas/edit.haml:41
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 97.3ms | Allocations: 32487)
  â†³ app/views/custom_pizzas/edit.haml:14
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 102.4ms | Allocations: 33786)
  [1m[36mPizzaDimension Load (1.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (4.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
  [1m[36mOrder Load (1.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrder Load (4.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 38.5ms | Allocations: 13381)
  [1m[36mOrdinaryFilling Load (1.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  [1m[36mOrderItem Count (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  â†³ app/views/custom_pizzas/edit.haml:31
  Rendered layouts/_header_guess_user.haml (Duration: 29.9ms | Allocations: 10509)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_flesh.haml (Duration: 0.2ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.9ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 169.2ms | Allocations: 55037)
  Rendered layouts/_footer.haml (Duration: 0.9ms | Allocations: 115)
  [1m[36mAdditionalFilling Load (2.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 80.1ms | Allocations: 25391)
Completed 200 OK in 247ms (Views: 135.5ms | ActiveRecord: 59.1ms | Allocations: 77947)


  Rendered layout layouts/application.haml (Duration: 171.4ms | Allocations: 55811)
Completed 200 OK in 264ms (Views: 158.2ms | ActiveRecord: 61.1ms | Allocations: 82986)


  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 7.0ms | Allocations: 1753)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.4ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 107.0ms | Allocations: 33420)
Completed 200 OK in 262ms (Views: 105.8ms | ActiveRecord: 91.7ms | Allocations: 82803)


Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:16:03 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.9ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (1.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 82.1ms | Allocations: 50259)
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:16:03 +0300
  [1m[36mOrder Load (1.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 33.7ms | Allocations: 12531)
  Rendered layouts/_flesh.haml (Duration: 3.7ms | Allocations: 2167)
  Rendered layouts/_footer.haml (Duration: 13.1ms | Allocations: 12736)
  Rendered layout layouts/application.haml (Duration: 312.3ms | Allocations: 303868)
Completed 200 OK in 402ms (Views: 298.0ms | ActiveRecord: 43.4ms | Allocations: 330829)


Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.6ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 21.4ms | Allocations: 11006)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.1ms | Allocations: 1719)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 28.6ms | Allocations: 14865)
Completed 200 OK in 37ms (Views: 26.7ms | ActiveRecord: 3.8ms | Allocations: 17578)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:16:03 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:16:03 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:16:03 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:16:05 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.7ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 72.4ms | Allocations: 10848)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.6ms | Allocations: 1716)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 80.5ms | Allocations: 14609)
Completed 200 OK in 160ms (Views: 95.9ms | ActiveRecord: 4.9ms | Allocations: 17204)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:16:05 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:16:05 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:16:05 +0300
Started PATCH "/custom_pizza?filling_id=2" for ::1 at 2023-05-04 14:16:06 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>11, "pizza_dimension"=>"90.0", "filling_id"=>"2", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:51:in `current_order_item'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:55:in `current_pizza'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.9ms | Allocations: 3838)


  
NoMethodError (undefined method `zero?' for "2":String):
  
app/interactors/pizzas/update_custom_pizza.rb:27:in `check_include_filling'
app/interactors/pizzas/update_custom_pizza.rb:22:in `working_with_custom_pizza'
app/interactors/pizzas/update_custom_pizza.rb:7:in `call'
app/controllers/custom_pizzas_controller.rb:20:in `update'
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:16:11 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (1.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 25.9ms | Allocations: 11046)
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.5ms | Allocations: 1752)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 27)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 121)
  Rendered layout layouts/application.haml (Duration: 33.6ms | Allocations: 14967)
Completed 200 OK in 41ms (Views: 30.8ms | ActiveRecord: 4.5ms | Allocations: 17815)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:16:11 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:16:11 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:16:11 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:16:51 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 47.1ms | Allocations: 19438)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 19.4ms | Allocations: 5244)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 31)
  Rendered layouts/_footer.haml (Duration: 0.4ms | Allocations: 151)
  Rendered layout layouts/application.haml (Duration: 70.1ms | Allocations: 26996)
Completed 200 OK in 143ms (Views: 57.6ms | ActiveRecord: 38.3ms | Allocations: 44189)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:16:51 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:16:51 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:16:51 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:16:51 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (1.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 45.9ms | Allocations: 11022)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.6ms | Allocations: 1721)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 54.2ms | Allocations: 14812)
Completed 200 OK in 64ms (Views: 51.5ms | ActiveRecord: 4.5ms | Allocations: 17500)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:16:52 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:16:52 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:16:52 +0300
Started PATCH "/custom_pizza?filling_id=2" for ::1 at 2023-05-04 14:16:54 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>11, "pizza_dimension"=>"90.0", "filling_id"=>"2", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:51:in `current_order_item'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:55:in `current_pizza'
  [1m[36mFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:63:in `except_filling'
  [1m[36mFilling Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 26], ["id", 2], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:29:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:63:in `except_filling'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:37:in `update_pizza_filling'
  [1m[36mPizzaFilling Create (1.1ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 26], ["filling_id", 2], ["created_at", "2023-05-04 11:16:54.407784"], ["updated_at", "2023-05-04 11:16:54.407784"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:37:in `update_pizza_filling'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:37:in `update_pizza_filling'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:41:in `update_pizza_dimension'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."dimension" = $1 LIMIT $2[0m  [["dimension", 90.0], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:59:in `current_pizza_dimension'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 40ms (ActiveRecord: 8.3ms | Allocations: 12001)


Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:16:58 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 25.2ms | Allocations: 11223)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.4ms | Allocations: 1743)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 26)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 121)
  Rendered layout layouts/application.haml (Duration: 33.2ms | Allocations: 15130)
Completed 200 OK in 40ms (Views: 30.8ms | ActiveRecord: 3.7ms | Allocations: 17778)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:16:58 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:16:58 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:16:58 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:16:59 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 24.5ms | Allocations: 11073)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.2ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 32.1ms | Allocations: 14826)
Completed 200 OK in 39ms (Views: 29.9ms | ActiveRecord: 3.4ms | Allocations: 17402)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:16:59 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:16:59 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:16:59 +0300
Started PATCH "/custom_pizza?filling_id=2" for ::1 at 2023-05-04 14:17:00 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>11, "pizza_dimension"=>"90.0", "filling_id"=>"2", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:51:in `current_order_item'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:55:in `current_pizza'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:63:in `except_filling'
  [1m[36mFilling Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 26], ["id", 2], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:29:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:63:in `except_filling'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:33:in `delete_filling'
  [1m[36mPizzaFilling Delete All (0.5ms)[0m  [1m[31mDELETE FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" = $1 AND "pizza_fillings"."filling_id" = $2[0m  [["pizza_id", 26], ["filling_id", 2]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:33:in `delete_filling'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:33:in `delete_filling'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:41:in `update_pizza_dimension'
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."dimension" = $1 LIMIT $2[0m  [["dimension", 90.0], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:59:in `current_pizza_dimension'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 22ms (ActiveRecord: 5.0ms | Allocations: 7315)


Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:17:02 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 21.1ms | Allocations: 10841)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.4ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 28.4ms | Allocations: 14594)
Completed 200 OK in 35ms (Views: 26.4ms | ActiveRecord: 3.3ms | Allocations: 17170)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:17:02 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:17:02 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:17:02 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:17:02 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 22.4ms | Allocations: 10841)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.1ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 29.6ms | Allocations: 14594)
Completed 200 OK in 37ms (Views: 27.2ms | ActiveRecord: 4.2ms | Allocations: 17170)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:17:02 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:17:02 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:17:02 +0300
Started PATCH "/custom_pizza?filling_id=0" for ::1 at 2023-05-04 14:17:04 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>11, "pizza_dimension"=>"100.0", "filling_id"=>"0", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:51:in `current_order_item'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:55:in `current_pizza'
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:41:in `update_pizza_dimension'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."dimension" = $1 LIMIT $2[0m  [["dimension", 100.0], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:59:in `current_pizza_dimension'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:43:in `update_pizza_dimension'
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:43:in `update_pizza_dimension'
  [1m[36mCustomPizza Update (1.0ms)[0m  [1m[33mUPDATE "pizzas" SET "pizza_dimension_id" = $1, "updated_at" = $2 WHERE "pizzas"."id" = $3[0m  [["pizza_dimension_id", 4], ["updated_at", "2023-05-04 11:17:04.615882"], ["id", 26]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:43:in `update_pizza_dimension'
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:43:in `update_pizza_dimension'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 34ms (ActiveRecord: 11.7ms | Allocations: 9294)


Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:17:06 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 21.1ms | Allocations: 10849)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.0ms | Allocations: 1716)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 28.4ms | Allocations: 14608)
Completed 200 OK in 36ms (Views: 26.3ms | ActiveRecord: 3.8ms | Allocations: 17185)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:17:06 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:17:06 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:17:06 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:17:07 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 20.2ms | Allocations: 10838)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.4ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 28.3ms | Allocations: 14591)
Completed 200 OK in 35ms (Views: 26.5ms | ActiveRecord: 3.3ms | Allocations: 17167)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:17:07 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:17:07 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:17:07 +0300
Started PATCH "/custom_pizza?filling_id=0" for ::1 at 2023-05-04 14:17:09 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>11, "pizza_dimension"=>"30.0", "filling_id"=>"0", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:51:in `current_order_item'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:55:in `current_pizza'
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:41:in `update_pizza_dimension'
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."dimension" = $1 LIMIT $2[0m  [["dimension", 30.0], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:59:in `current_pizza_dimension'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:43:in `update_pizza_dimension'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:43:in `update_pizza_dimension'
  [1m[36mCustomPizza Update (0.7ms)[0m  [1m[33mUPDATE "pizzas" SET "pizza_dimension_id" = $1, "updated_at" = $2 WHERE "pizzas"."id" = $3[0m  [["pizza_dimension_id", 1], ["updated_at", "2023-05-04 11:17:09.071515"], ["id", 26]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:43:in `update_pizza_dimension'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:43:in `update_pizza_dimension'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 20ms (ActiveRecord: 4.3ms | Allocations: 6909)


Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:17:10 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 25.3ms | Allocations: 10832)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 3.9ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 32.4ms | Allocations: 14585)
Completed 200 OK in 39ms (Views: 30.2ms | ActiveRecord: 3.8ms | Allocations: 17161)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:17:10 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:17:10 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:17:10 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:17:10 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.9ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 24.2ms | Allocations: 10844)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.3ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 33.1ms | Allocations: 14597)
Completed 200 OK in 40ms (Views: 30.8ms | ActiveRecord: 3.8ms | Allocations: 17173)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:17:10 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:17:11 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:17:11 +0300
Started PATCH "/custom_pizza?filling_id=11" for ::1 at 2023-05-04 14:17:13 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>11, "pizza_dimension"=>"30.0", "filling_id"=>"11", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:51:in `current_order_item'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:55:in `current_pizza'
  [1m[36mFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:63:in `except_filling'
  [1m[36mFilling Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 26], ["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:29:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:63:in `except_filling'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:33:in `delete_filling'
  [1m[36mPizzaFilling Delete All (0.6ms)[0m  [1m[31mDELETE FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" = $1 AND "pizza_fillings"."filling_id" = $2[0m  [["pizza_id", 26], ["filling_id", 11]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:33:in `delete_filling'
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:33:in `delete_filling'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:41:in `update_pizza_dimension'
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."dimension" = $1 LIMIT $2[0m  [["dimension", 30.0], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:59:in `current_pizza_dimension'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 25ms (ActiveRecord: 7.8ms | Allocations: 7136)


Started PATCH "/custom_pizza?filling_id=9" for ::1 at 2023-05-04 14:17:13 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>11, "pizza_dimension"=>"30.0", "filling_id"=>"9", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:51:in `current_order_item'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:55:in `current_pizza'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:63:in `except_filling'
  [1m[36mFilling Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 26], ["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:29:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:63:in `except_filling'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:33:in `delete_filling'
  [1m[36mPizzaFilling Delete All (0.5ms)[0m  [1m[31mDELETE FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" = $1 AND "pizza_fillings"."filling_id" = $2[0m  [["pizza_id", 26], ["filling_id", 9]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:33:in `delete_filling'
  [1m[36mTRANSACTION (5.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:33:in `delete_filling'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:41:in `update_pizza_dimension'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."dimension" = $1 LIMIT $2[0m  [["dimension", 30.0], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:59:in `current_pizza_dimension'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 35ms (ActiveRecord: 8.4ms | Allocations: 7129)


Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:17:14 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 21.1ms | Allocations: 10421)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.7ms | Allocations: 1716)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 29.2ms | Allocations: 14181)
Completed 200 OK in 36ms (Views: 26.8ms | ActiveRecord: 3.9ms | Allocations: 16758)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:17:14 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:17:14 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:17:14 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:17:15 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.9ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 20.4ms | Allocations: 10360)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 5.4ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 29.6ms | Allocations: 14113)
Completed 200 OK in 36ms (Views: 26.2ms | ActiveRecord: 4.6ms | Allocations: 16689)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:17:16 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:17:16 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:17:16 +0300
Started PATCH "/custom_pizza?filling_id=0" for ::1 at 2023-05-04 14:17:18 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>11, "pizza_dimension"=>"100.0", "filling_id"=>"0", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:51:in `current_order_item'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:55:in `current_pizza'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:41:in `update_pizza_dimension'
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."dimension" = $1 LIMIT $2[0m  [["dimension", 100.0], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:59:in `current_pizza_dimension'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:43:in `update_pizza_dimension'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:43:in `update_pizza_dimension'
  [1m[36mCustomPizza Update (0.7ms)[0m  [1m[33mUPDATE "pizzas" SET "pizza_dimension_id" = $1, "updated_at" = $2 WHERE "pizzas"."id" = $3[0m  [["pizza_dimension_id", 4], ["updated_at", "2023-05-04 11:17:18.263334"], ["id", 26]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:43:in `update_pizza_dimension'
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:43:in `update_pizza_dimension'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 22ms (ActiveRecord: 6.8ms | Allocations: 6923)


Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:17:19 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 22.4ms | Allocations: 10383)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.3ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 29.8ms | Allocations: 14136)
Completed 200 OK in 38ms (Views: 28.0ms | ActiveRecord: 3.6ms | Allocations: 16712)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:17:19 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:17:19 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:17:19 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:17:20 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 19.3ms | Allocations: 10374)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.2ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 26.8ms | Allocations: 14127)
Completed 200 OK in 34ms (Views: 25.0ms | ActiveRecord: 3.2ms | Allocations: 16703)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:17:20 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:17:20 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:17:20 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:17:20 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 22.0ms | Allocations: 10377)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 5.9ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 32.4ms | Allocations: 14130)
Completed 200 OK in 41ms (Views: 30.4ms | ActiveRecord: 3.3ms | Allocations: 16706)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:17:20 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:17:20 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:17:20 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:17:20 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 20.5ms | Allocations: 10377)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.3ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.3ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.5ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 28.5ms | Allocations: 14130)
Completed 200 OK in 37ms (Views: 26.5ms | ActiveRecord: 3.7ms | Allocations: 16706)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:17:21 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:17:21 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:17:21 +0300
Started PATCH "/custom_pizza?filling_id=11" for ::1 at 2023-05-04 14:17:22 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>11, "pizza_dimension"=>"100.0", "filling_id"=>"11", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:51:in `current_order_item'
  [1m[36mPizza Load (0.6ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:55:in `current_pizza'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:63:in `except_filling'
  [1m[36mFilling Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1 AND "fillings"."id" = $2 LIMIT $3[0m  [["pizza_id", 26], ["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:29:in `check_include_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:63:in `except_filling'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:37:in `update_pizza_filling'
  [1m[36mPizzaFilling Create (0.6ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 26], ["filling_id", 11], ["created_at", "2023-05-04 11:17:22.945235"], ["updated_at", "2023-05-04 11:17:22.945235"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:37:in `update_pizza_filling'
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:37:in `update_pizza_filling'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:41:in `update_pizza_dimension'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."dimension" = $1 LIMIT $2[0m  [["dimension", 100.0], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:59:in `current_pizza_dimension'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 30ms (ActiveRecord: 8.3ms | Allocations: 7863)


Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:17:24 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.1ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 21.2ms | Allocations: 10624)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.1ms | Allocations: 1716)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 28.4ms | Allocations: 14383)
Completed 200 OK in 36ms (Views: 26.5ms | ActiveRecord: 3.4ms | Allocations: 16960)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:17:24 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:17:24 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:17:24 +0300
Started GET "/custom_pizza/edit?order_item_id=11" for ::1 at 2023-05-04 14:17:25 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"11"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 26.3ms | Allocations: 10591)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.4ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 34.5ms | Allocations: 14344)
Completed 200 OK in 42ms (Views: 32.2ms | ActiveRecord: 3.9ms | Allocations: 16920)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:17:25 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:17:25 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:17:25 +0300
Started GET "/cart" for ::1 at 2023-05-04 14:17:25 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 26]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaPicture Load (0.6ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" = $2[0m  [["picturable_type", "Pizza"], ["picturable_id", 26]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 4]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaFilling Load (0.5ms)[0m  [1m[34mSELECT "pizza_fillings".* FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mFilling Load (0.9ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" IN ($1, $2, $3, $4, $5, $6, $7)[0m  [["id", 4], ["id", 6], ["id", 7], ["id", 3], ["id", 8], ["id", 1], ["id", 11]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  Rendered carts/_order_items.haml (Duration: 44.0ms | Allocations: 26976)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 26]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mFilling Load (0.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 26]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 95.0ms | Allocations: 49550)
  [1m[36mOrderItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.3ms | Allocations: 870)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 101.3ms | Allocations: 52600)
Completed 200 OK in 153ms (Views: 97.6ms | ActiveRecord: 11.2ms | Allocations: 70503)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:17:25 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:17:25 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-04 14:17:25 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 14:17:26 +0300
Started GET "/pizzas" for ::1 at 2023-05-04 14:18:28 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PizzasController#index as HTML
  [1m[36mPizza Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."type" = $1[0m  [["type", "OrdinaryPizza"]]
  â†³ app/controllers/pizzas_controller.rb:5:in `index'
  Rendering layout layouts/application.haml
  Rendering pizzas/index.haml within layouts/application
  Rendered pizzas/_order_dropdown.haml (Duration: 6.3ms | Allocations: 5893)
  [1m[36mPizza Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas"[0m
  â†³ app/views/pizzas/index.haml:12
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/pizzas/index.haml:13
  [1m[36mPizza Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 1]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 2]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 3]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 4]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."type" = $1 ORDER BY "pizzas"."name" ASC LIMIT $2 OFFSET $3[0m  [["type", "OrdinaryPizza"], ["LIMIT", 12], ["OFFSET", 0]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mPizzaPicture Load (0.9ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13)[0m  [["picturable_type", "Pizza"], ["picturable_id", 1], ["picturable_id", 8], ["picturable_id", 12], ["picturable_id", 14], ["picturable_id", 9], ["picturable_id", 3], ["picturable_id", 10], ["picturable_id", 5], ["picturable_id", 2], ["picturable_id", 15], ["picturable_id", 11], ["picturable_id", 13]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  Rendered pizzas/_pizza.haml (Duration: 268.7ms | Allocations: 274788)
  Rendered pizzas/_view_more.haml (Duration: 3.4ms | Allocations: 2961)
  Rendered pizzas/index.haml within layouts/application (Duration: 320.7ms | Allocations: 306645)
  [1m[36mOrderItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 14.7ms | Allocations: 7223)
  Rendered layouts/_flesh.haml (Duration: 3.2ms | Allocations: 2127)
  Rendered layouts/_footer.haml (Duration: 15.2ms | Allocations: 12723)
  Rendered layout layouts/application.haml (Duration: 365.3ms | Allocations: 337752)
Completed 200 OK in 386ms (Views: 335.2ms | ActiveRecord: 38.9ms | Allocations: 344535)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:18:29 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:18:29 +0300
Started GET "/assets/medium.png" for ::1 at 2023-05-04 14:18:29 +0300
Started POST "/order_items?order_id=9&order_item%5Bpizza_id%5D=1&order_item%5Bquantity%5D=1" for ::1 at 2023-05-04 14:18:32 +0300
Processing by OrderItemsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_id"=>"9", "order_item"=>{"pizza_id"=>"1", "quantity"=>"1"}}
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."pizza_id" = $2 LIMIT $3[0m  [["order_id", 9], ["pizza_id", 1], ["LIMIT", 1]]
  â†³ app/interactors/order_items/items_create.rb:20:in `checking_presence_pizza'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/order_items/items_create.rb:6:in `call'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/interactors/order_items/items_create.rb:6:in `call'
  [1m[36mOrderItem Create (1.1ms)[0m  [1m[32mINSERT INTO "order_items" ("price_cents", "price_currency", "quantity", "pizza_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["price_cents", 0], ["price_currency", "USD"], ["quantity", 1], ["pizza_id", 1], ["order_id", 9], ["created_at", "2023-05-04 11:18:32.571531"], ["updated_at", "2023-05-04 11:18:32.571531"]]
  â†³ app/interactors/order_items/items_create.rb:6:in `call'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/order_items/items_create.rb:6:in `call'
Redirected to http://localhost:3000/pizzas
Completed 302 Found in 34ms (ActiveRecord: 7.4ms | Allocations: 11541)


Started GET "/pizzas" for ::1 at 2023-05-04 14:18:32 +0300
Processing by PizzasController#index as HTML
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."type" = $1[0m  [["type", "OrdinaryPizza"]]
  â†³ app/controllers/pizzas_controller.rb:5:in `index'
  Rendering layout layouts/application.haml
  Rendering pizzas/index.haml within layouts/application
  Rendered pizzas/_order_dropdown.haml (Duration: 0.8ms | Allocations: 527)
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas"[0m
  â†³ app/views/pizzas/index.haml:12
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/pizzas/index.haml:13
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 1]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 2]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 3]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 4]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."type" = $1 ORDER BY "pizzas"."name" ASC LIMIT $2 OFFSET $3[0m  [["type", "OrdinaryPizza"], ["LIMIT", 12], ["OFFSET", 0]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mPizzaPicture Load (0.7ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13)[0m  [["picturable_type", "Pizza"], ["picturable_id", 1], ["picturable_id", 8], ["picturable_id", 12], ["picturable_id", 14], ["picturable_id", 9], ["picturable_id", 3], ["picturable_id", 10], ["picturable_id", 5], ["picturable_id", 2], ["picturable_id", 15], ["picturable_id", 11], ["picturable_id", 13]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  Rendered pizzas/_pizza.haml (Duration: 47.0ms | Allocations: 28511)
  Rendered pizzas/_view_more.haml (Duration: 0.1ms | Allocations: 51)
  Rendered pizzas/index.haml within layouts/application (Duration: 59.7ms | Allocations: 33631)
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.6ms | Allocations: 902)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 52)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 121)
  Rendered layout layouts/application.haml (Duration: 65.4ms | Allocations: 36577)
Completed 200 OK in 69ms (Views: 60.9ms | ActiveRecord: 5.5ms | Allocations: 37789)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:18:32 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:18:32 +0300
Started GET "/assets/medium.png" for ::1 at 2023-05-04 14:18:32 +0300
Started GET "/cart" for ::1 at 2023-05-04 14:18:33 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizza Load (0.7ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 26], ["id", 1]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaPicture Load (0.4ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3)[0m  [["picturable_type", "Pizza"], ["picturable_id", 1], ["picturable_id", 26]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 4]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaFilling Load (1.5ms)[0m  [1m[34mSELECT "pizza_fillings".* FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" IN ($1, $2)[0m  [["pizza_id", 1], ["pizza_id", 26]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8)[0m  [["id", 4], ["id", 5], ["id", 6], ["id", 8], ["id", 7], ["id", 3], ["id", 1], ["id", 11]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  Rendered carts/_order_items.haml (Duration: 30.0ms | Allocations: 28054)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 26], ["id", 1]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mFilling Load (0.9ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mFilling Load (0.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 1]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 26], ["id", 1]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 1]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 79.4ms | Allocations: 59283)
  [1m[36mOrderItem Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.4ms | Allocations: 869)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 84.8ms | Allocations: 62328)
Completed 200 OK in 176ms (Views: 83.6ms | ActiveRecord: 25.3ms | Allocations: 91888)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:18:34 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:18:34 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-04 14:18:34 +0300
Started GET "/custom_pizza/edit?order_item_id=12" for ::1 at 2023-05-04 14:18:35 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"12"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."name" = $1 LIMIT $2[0m  [["name", "Carterchester"], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:36:in `similar_pizza_fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (1.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 1]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 1]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 43.0ms | Allocations: 34884)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 3.9ms | Allocations: 1769)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 50.0ms | Allocations: 38884)
Completed 200 OK in 61ms (Views: 49.2ms | ActiveRecord: 3.6ms | Allocations: 43367)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:18:35 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:18:35 +0300
Started PATCH "/custom_pizza?filling_id=0" for ::1 at 2023-05-04 14:18:38 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>12, "pizza_dimension"=>"30.0", "filling_id"=>"0", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:51:in `current_order_item'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:55:in `current_pizza'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:9:in `call'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:9:in `call'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:9:in `call'
  [1m[36mCustomPizza Create (1.3ms)[0m  [1m[32mINSERT INTO "pizzas" ("name", "price_cents", "price_currency", "description", "category_id", "pizza_dimension_id", "created_at", "updated_at", "type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Carterchester"], ["price_cents", 7175], ["price_currency", "USD"], ["description", "Illo sapiente fuga consectetur aut quaerat deserunt ratione commodi. Quibusdam ipsum tempora quis id. Commodi quas placeat deserunt quaerat veritatis voluptatem occaecati. Magni adipisci laboriosam inventore magnam quia voluptatem iusto porro. Unde occaecati blanditiis laboriosam nihil voluptas non. Dolores a numquam magni similique."], ["category_id", 2], ["pizza_dimension_id", 4], ["created_at", "2023-05-04 11:18:38.789033"], ["updated_at", "2023-05-04 11:18:38.789033"], ["type", "CustomPizza"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:9:in `call'
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:9:in `call'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:15:in `good_outcome'
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:15:in `good_outcome'
  [1m[36mOrderItem Update (0.7ms)[0m  [1m[33mUPDATE "order_items" SET "pizza_id" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["pizza_id", 27], ["updated_at", "2023-05-04 11:18:38.807886"], ["id", 12]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:15:in `good_outcome'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:15:in `good_outcome'
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:16:in `good_outcome'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 27]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:16:in `good_outcome'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:16:in `good_outcome'
  [1m[36mPizzaFilling Create (0.8ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 27], ["filling_id", 4], ["created_at", "2023-05-04 11:18:38.822568"], ["updated_at", "2023-05-04 11:18:38.822568"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:16:in `good_outcome'
  [1m[36mPizzaFilling Create (0.4ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 27], ["filling_id", 5], ["created_at", "2023-05-04 11:18:38.828019"], ["updated_at", "2023-05-04 11:18:38.828019"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:16:in `good_outcome'
  [1m[36mPizzaFilling Create (0.4ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 27], ["filling_id", 6], ["created_at", "2023-05-04 11:18:38.830891"], ["updated_at", "2023-05-04 11:18:38.830891"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:16:in `good_outcome'
  [1m[36mPizzaFilling Create (0.4ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 27], ["filling_id", 8], ["created_at", "2023-05-04 11:18:38.833797"], ["updated_at", "2023-05-04 11:18:38.833797"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:16:in `good_outcome'
  [1m[36mPizzaFilling Create (0.5ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 27], ["filling_id", 7], ["created_at", "2023-05-04 11:18:38.836808"], ["updated_at", "2023-05-04 11:18:38.836808"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:16:in `good_outcome'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:16:in `good_outcome'
  [1m[36mFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:63:in `except_filling'
Redirected to http://localhost:3000/
Completed 302 Found in 72ms (ActiveRecord: 15.7ms | Allocations: 24427)


Started PATCH "/" for ::1 at 2023-05-04 14:18:38 +0300
  
ActionController::RoutingError (No route matches [PATCH] "/"):
  
Started GET "/custom_pizza/edit?order_item_id=12" for ::1 at 2023-05-04 14:18:39 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"12"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 27]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 17.2ms | Allocations: 10426)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.5ms | Allocations: 1750)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 56)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 121)
  Rendered layout layouts/application.haml (Duration: 25.2ms | Allocations: 14369)
Completed 200 OK in 32ms (Views: 23.5ms | ActiveRecord: 3.0ms | Allocations: 17269)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:18:39 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:18:39 +0300
Started GET "/custom_pizza/edit?order_item_id=12" for ::1 at 2023-05-04 14:18:40 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"12"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 27]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 19.6ms | Allocations: 10145)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.0ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.0ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 26.4ms | Allocations: 13898)
Completed 200 OK in 33ms (Views: 24.3ms | ActiveRecord: 4.0ms | Allocations: 16474)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:18:40 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:18:40 +0300
Started GET "/custom_pizza/edit?order_item_id=12" for ::1 at 2023-05-04 14:18:41 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"12"}
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 27]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 19.6ms | Allocations: 10149)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.4ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 27.2ms | Allocations: 13903)
Completed 200 OK in 34ms (Views: 24.8ms | ActiveRecord: 4.2ms | Allocations: 16499)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:18:41 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:18:41 +0300
Started GET "/cart" for ::1 at 2023-05-04 14:18:52 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.6ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 26], ["id", 27]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaPicture Load (0.5ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3)[0m  [["picturable_type", "Pizza"], ["picturable_id", 26], ["picturable_id", 27]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 4]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaFilling Load (0.5ms)[0m  [1m[34mSELECT "pizza_fillings".* FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" IN ($1, $2)[0m  [["pizza_id", 26], ["pizza_id", 27]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mFilling Load (0.9ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8)[0m  [["id", 4], ["id", 6], ["id", 7], ["id", 3], ["id", 8], ["id", 1], ["id", 11], ["id", 5]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  Rendered carts/_order_items.haml (Duration: 15.6ms | Allocations: 10207)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 26], ["id", 27]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 27]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 26], ["id", 27]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 27]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 57.1ms | Allocations: 29791)
  [1m[36mOrderItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.2ms | Allocations: 816)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 62.6ms | Allocations: 32609)
Completed 200 OK in 92ms (Views: 60.9ms | ActiveRecord: 6.3ms | Allocations: 44824)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:18:52 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:18:52 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-04 14:18:52 +0300
Started GET "/custom_pizza/edit?order_item_id=12" for ::1 at 2023-05-04 14:18:55 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"12"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 27]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 19.7ms | Allocations: 10164)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.2ms | Allocations: 1716)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 26.7ms | Allocations: 13922)
Completed 200 OK in 35ms (Views: 24.7ms | ActiveRecord: 3.7ms | Allocations: 16505)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:18:55 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:18:55 +0300
Started PATCH "/custom_pizza?filling_id=0" for ::1 at 2023-05-04 14:18:57 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>12, "pizza_dimension"=>"30.0", "filling_id"=>"0", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:51:in `current_order_item'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:55:in `current_pizza'
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:41:in `update_pizza_dimension'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."dimension" = $1 LIMIT $2[0m  [["dimension", 30.0], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:59:in `current_pizza_dimension'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:43:in `update_pizza_dimension'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:43:in `update_pizza_dimension'
  [1m[36mCustomPizza Update (1.1ms)[0m  [1m[33mUPDATE "pizzas" SET "pizza_dimension_id" = $1, "updated_at" = $2 WHERE "pizzas"."id" = $3[0m  [["pizza_dimension_id", 1], ["updated_at", "2023-05-04 11:18:57.535610"], ["id", 27]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:43:in `update_pizza_dimension'
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:43:in `update_pizza_dimension'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 23ms (ActiveRecord: 7.3ms | Allocations: 7647)


Started GET "/custom_pizza/edit?order_item_id=12" for ::1 at 2023-05-04 14:18:58 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"12"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 27]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 20.1ms | Allocations: 10160)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.9ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 29.5ms | Allocations: 13913)
Completed 200 OK in 36ms (Views: 27.3ms | ActiveRecord: 3.7ms | Allocations: 16491)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:18:58 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:18:58 +0300
Started GET "/custom_pizza/edit?order_item_id=12" for ::1 at 2023-05-04 14:18:59 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"12"}
  [1m[36mPizzaDimension Load (0.6ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 27]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 23.3ms | Allocations: 10149)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 6.5ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.4ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 33.4ms | Allocations: 13902)
Completed 200 OK in 41ms (Views: 31.0ms | ActiveRecord: 4.3ms | Allocations: 16479)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:18:59 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:18:59 +0300
Started GET "/cart" for ::1 at 2023-05-04 14:19:00 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizza Load (0.6ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 26], ["id", 27]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaPicture Load (0.5ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3)[0m  [["picturable_type", "Pizza"], ["picturable_id", 26], ["picturable_id", 27]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" IN ($1, $2)[0m  [["id", 4], ["id", 1]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaFilling Load (0.5ms)[0m  [1m[34mSELECT "pizza_fillings".* FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" IN ($1, $2)[0m  [["pizza_id", 26], ["pizza_id", 27]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8)[0m  [["id", 4], ["id", 6], ["id", 7], ["id", 3], ["id", 8], ["id", 1], ["id", 11], ["id", 5]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  Rendered carts/_order_items.haml (Duration: 16.2ms | Allocations: 10157)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 26], ["id", 27]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 27]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 26], ["id", 27]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 26]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 27]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 52.5ms | Allocations: 29800)
  [1m[36mOrderItem Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.4ms | Allocations: 816)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.6ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 58.3ms | Allocations: 32615)
Completed 200 OK in 85ms (Views: 56.4ms | ActiveRecord: 5.7ms | Allocations: 44832)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:19:00 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:19:00 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-04 14:19:00 +0300
Started DELETE "/order_items?id=12" for ::1 at 2023-05-04 14:19:46 +0300
Processing by OrderItemsController#destroy as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"12", "order_item"=>{}}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."id" = $2 LIMIT $3[0m  [["order_id", 9], ["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/order_items_controller.rb:14:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/order_items_controller.rb:14:in `destroy'
  [1m[36mOrderItem Destroy (0.5ms)[0m  [1m[31mDELETE FROM "order_items" WHERE "order_items"."id" = $1[0m  [["id", 12]]
  â†³ app/controllers/order_items_controller.rb:14:in `destroy'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/order_items_controller.rb:14:in `destroy'
No template found for OrderItemsController#destroy, rendering head :no_content
Completed 204 No Content in 11ms (ActiveRecord: 2.2ms | Allocations: 3837)


Started DELETE "/order_items?id=11" for ::1 at 2023-05-04 14:19:47 +0300
Processing by OrderItemsController#destroy as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"11", "order_item"=>{}}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."id" = $2 LIMIT $3[0m  [["order_id", 9], ["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/order_items_controller.rb:14:in `destroy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/order_items_controller.rb:14:in `destroy'
  [1m[36mOrderItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "order_items" WHERE "order_items"."id" = $1[0m  [["id", 11]]
  â†³ app/controllers/order_items_controller.rb:14:in `destroy'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/order_items_controller.rb:14:in `destroy'
No template found for OrderItemsController#destroy, rendering head :no_content
Completed 204 No Content in 9ms (ActiveRecord: 2.2ms | Allocations: 3554)


Started GET "/pizzas" for ::1 at 2023-05-04 14:19:48 +0300
Processing by PizzasController#index as HTML
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."type" = $1[0m  [["type", "OrdinaryPizza"]]
  â†³ app/controllers/pizzas_controller.rb:5:in `index'
  Rendering layout layouts/application.haml
  Rendering pizzas/index.haml within layouts/application
  Rendered pizzas/_order_dropdown.haml (Duration: 0.9ms | Allocations: 496)
  [1m[36mPizza Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas"[0m
  â†³ app/views/pizzas/index.haml:12
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/pizzas/index.haml:13
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 1]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 2]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 3]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 4]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Load (0.8ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."type" = $1 ORDER BY "pizzas"."name" ASC LIMIT $2 OFFSET $3[0m  [["type", "OrdinaryPizza"], ["LIMIT", 12], ["OFFSET", 0]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mPizzaPicture Load (0.5ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13)[0m  [["picturable_type", "Pizza"], ["picturable_id", 1], ["picturable_id", 8], ["picturable_id", 12], ["picturable_id", 14], ["picturable_id", 9], ["picturable_id", 3], ["picturable_id", 10], ["picturable_id", 5], ["picturable_id", 2], ["picturable_id", 15], ["picturable_id", 11], ["picturable_id", 13]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  Rendered pizzas/_pizza.haml (Duration: 45.3ms | Allocations: 28238)
  Rendered pizzas/_view_more.haml (Duration: 0.1ms | Allocations: 51)
  Rendered pizzas/index.haml within layouts/application (Duration: 57.1ms | Allocations: 33274)
  [1m[36mOrderItem Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.2ms | Allocations: 896)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 62.2ms | Allocations: 36159)
Completed 200 OK in 65ms (Views: 57.9ms | ActiveRecord: 5.2ms | Allocations: 37239)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:19:48 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:19:48 +0300
Started GET "/assets/medium.png" for ::1 at 2023-05-04 14:19:48 +0300
Started GET "/pizzas?category_id=3" for ::1 at 2023-05-04 14:19:50 +0300
Processing by PizzasController#index as HTML
  Parameters: {"category_id"=>"3"}
  [1m[36mPizza Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "pizzas" WHERE "pizzas"."type" = $1 AND "pizzas"."category_id" = $2 LIMIT $3[0m  [["type", "OrdinaryPizza"], ["category_id", 3], ["LIMIT", 1]]
  â†³ app/queries/pizzas/pizzas_query.rb:45:in `by_category'
  [1m[36mPizza Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."type" = $1 AND "pizzas"."category_id" = $2[0m  [["type", "OrdinaryPizza"], ["category_id", 3]]
  â†³ app/controllers/pizzas_controller.rb:5:in `index'
  Rendering layout layouts/application.haml
  Rendering pizzas/index.haml within layouts/application
  Rendered pizzas/_order_dropdown.haml (Duration: 0.8ms | Allocations: 524)
  [1m[36mPizza Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas"[0m
  â†³ app/views/pizzas/index.haml:12
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/pizzas/index.haml:13
  [1m[36mPizza Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 1]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 2]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 3]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 4]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."type" = $1 AND "pizzas"."category_id" = $2 ORDER BY "pizzas"."name" ASC LIMIT $3 OFFSET $4[0m  [["type", "OrdinaryPizza"], ["category_id", 3], ["LIMIT", 12], ["OFFSET", 0]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mPizzaPicture Load (0.6ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3, $4, $5, $6)[0m  [["picturable_type", "Pizza"], ["picturable_id", 14], ["picturable_id", 9], ["picturable_id", 6], ["picturable_id", 4], ["picturable_id", 7]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  Rendered pizzas/_pizza.haml (Duration: 25.5ms | Allocations: 13336)
  Rendered pizzas/_view_more.haml (Duration: 0.1ms | Allocations: 8)
  Rendered pizzas/index.haml within layouts/application (Duration: 36.9ms | Allocations: 18345)
  [1m[36mOrderItem Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.4ms | Allocations: 896)
  Rendered layouts/_flesh.haml (Duration: 0.0ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 42.5ms | Allocations: 21230)
Completed 200 OK in 48ms (Views: 39.0ms | ActiveRecord: 5.1ms | Allocations: 22881)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:19:50 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:19:50 +0300
Started GET "/assets/medium.png" for ::1 at 2023-05-04 14:19:50 +0300
Started POST "/order_items?order_id=9&order_item%5Bpizza_id%5D=9&order_item%5Bquantity%5D=1" for ::1 at 2023-05-04 14:19:51 +0300
Processing by OrderItemsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_id"=>"9", "order_item"=>{"pizza_id"=>"9", "quantity"=>"1"}}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."pizza_id" = $2 LIMIT $3[0m  [["order_id", 9], ["pizza_id", 9], ["LIMIT", 1]]
  â†³ app/interactors/order_items/items_create.rb:20:in `checking_presence_pizza'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/order_items/items_create.rb:6:in `call'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/order_items/items_create.rb:6:in `call'
  [1m[36mOrderItem Create (1.0ms)[0m  [1m[32mINSERT INTO "order_items" ("price_cents", "price_currency", "quantity", "pizza_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["price_cents", 0], ["price_currency", "USD"], ["quantity", 1], ["pizza_id", 9], ["order_id", 9], ["created_at", "2023-05-04 11:19:51.542264"], ["updated_at", "2023-05-04 11:19:51.542264"]]
  â†³ app/interactors/order_items/items_create.rb:6:in `call'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/order_items/items_create.rb:6:in `call'
Redirected to http://localhost:3000/pizzas
Completed 302 Found in 15ms (ActiveRecord: 3.5ms | Allocations: 5576)


Started GET "/pizzas" for ::1 at 2023-05-04 14:19:51 +0300
Processing by PizzasController#index as HTML
  [1m[36mPizza Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."type" = $1[0m  [["type", "OrdinaryPizza"]]
  â†³ app/controllers/pizzas_controller.rb:5:in `index'
  Rendering layout layouts/application.haml
  Rendering pizzas/index.haml within layouts/application
  Rendered pizzas/_order_dropdown.haml (Duration: 1.0ms | Allocations: 488)
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas"[0m
  â†³ app/views/pizzas/index.haml:12
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/pizzas/index.haml:13
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 1]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 2]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 3]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 4]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."type" = $1 ORDER BY "pizzas"."name" ASC LIMIT $2 OFFSET $3[0m  [["type", "OrdinaryPizza"], ["LIMIT", 12], ["OFFSET", 0]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mPizzaPicture Load (1.0ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13)[0m  [["picturable_type", "Pizza"], ["picturable_id", 1], ["picturable_id", 8], ["picturable_id", 12], ["picturable_id", 14], ["picturable_id", 9], ["picturable_id", 3], ["picturable_id", 10], ["picturable_id", 5], ["picturable_id", 2], ["picturable_id", 15], ["picturable_id", 11], ["picturable_id", 13]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  Rendered pizzas/_pizza.haml (Duration: 42.2ms | Allocations: 28183)
  Rendered pizzas/_view_more.haml (Duration: 0.1ms | Allocations: 47)
  Rendered pizzas/index.haml within layouts/application (Duration: 53.6ms | Allocations: 33193)
  [1m[36mOrderItem Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.7ms | Allocations: 896)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 46)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 64.8ms | Allocations: 36103)
Completed 200 OK in 69ms (Views: 60.1ms | ActiveRecord: 5.9ms | Allocations: 37144)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:19:51 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:19:51 +0300
Started GET "/assets/medium.png" for ::1 at 2023-05-04 14:19:51 +0300
Started GET "/users/sign_up" for ::1 at 2023-05-04 14:19:52 +0300
Processing by Users::RegistrationsController#new as HTML
  Rendering layout layouts/application.haml
  Rendering devise/registrations/new.haml within layouts/application
  Rendered devise/registrations/new.haml within layouts/application (Duration: 51.5ms | Allocations: 23413)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.2ms | Allocations: 1944)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.8ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 59.7ms | Allocations: 27591)
Completed 200 OK in 91ms (Views: 61.7ms | ActiveRecord: 7.3ms | Allocations: 38789)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:19:53 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:19:53 +0300
Started GET "/cart" for ::1 at 2023-05-04 14:19:53 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 9]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaPicture Load (0.3ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" = $2[0m  [["picturable_type", "Pizza"], ["picturable_id", 9]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaFilling Load (0.3ms)[0m  [1m[34mSELECT "pizza_fillings".* FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 9]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" IN ($1, $2, $3)[0m  [["id", 4], ["id", 7], ["id", 5]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  Rendered carts/_order_items.haml (Duration: 6.5ms | Allocations: 4229)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 9]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 9]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 9]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 9]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 25.3ms | Allocations: 15170)
  [1m[36mOrderItem Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 1.9ms | Allocations: 816)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 30.7ms | Allocations: 17989)
Completed 200 OK in 52ms (Views: 30.2ms | ActiveRecord: 3.5ms | Allocations: 26821)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:19:54 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:19:54 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-04 14:19:54 +0300
Started GET "/custom_pizza/edit?order_item_id=13" for ::1 at 2023-05-04 14:19:55 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"13"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."name" = $1 LIMIT $2[0m  [["name", "Lake Artport"], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:36:in `similar_pizza_fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 9]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 9]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 17.2ms | Allocations: 9150)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.3ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 24.7ms | Allocations: 12903)
Completed 200 OK in 34ms (Views: 23.2ms | ActiveRecord: 3.1ms | Allocations: 16085)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:19:56 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:19:56 +0300
Started PATCH "/custom_pizza?filling_id=10" for ::1 at 2023-05-04 14:19:58 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>13, "pizza_dimension"=>"60.0", "filling_id"=>"10", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:51:in `current_order_item'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:55:in `current_pizza'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:9:in `call'
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:9:in `call'
  [1m[36mPizzaDimension Load (0.2ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:9:in `call'
  [1m[36mCustomPizza Create (1.1ms)[0m  [1m[32mINSERT INTO "pizzas" ("name", "price_cents", "price_currency", "description", "category_id", "pizza_dimension_id", "created_at", "updated_at", "type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Lake Artport"], ["price_cents", 7757], ["price_currency", "USD"], ["description", "Voluptatibus ipsa illum perferendis commodi qui. Quis tempore consectetur aspernatur nemo labore quo sapiente reprehenderit. Soluta porro error maxime temporibus dolor consectetur voluptatibus esse. Doloremque cum dolore animi illum eveniet vel nisi. Accusamus ea eius neque delectus."], ["category_id", 3], ["pizza_dimension_id", 2], ["created_at", "2023-05-04 11:19:58.977269"], ["updated_at", "2023-05-04 11:19:58.977269"], ["type", "CustomPizza"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:9:in `call'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:9:in `call'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:15:in `good_outcome'
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:15:in `good_outcome'
  [1m[36mOrderItem Update (0.7ms)[0m  [1m[33mUPDATE "order_items" SET "pizza_id" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["pizza_id", 28], ["updated_at", "2023-05-04 11:19:58.988046"], ["id", 13]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:15:in `good_outcome'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:15:in `good_outcome'
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 9]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:16:in `good_outcome'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 28]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:16:in `good_outcome'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:16:in `good_outcome'
  [1m[36mPizzaFilling Create (1.0ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 28], ["filling_id", 4], ["created_at", "2023-05-04 11:19:59.003821"], ["updated_at", "2023-05-04 11:19:59.003821"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:16:in `good_outcome'
  [1m[36mPizzaFilling Create (0.9ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 28], ["filling_id", 5], ["created_at", "2023-05-04 11:19:59.008738"], ["updated_at", "2023-05-04 11:19:59.008738"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:16:in `good_outcome'
  [1m[36mPizzaFilling Create (0.5ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 28], ["filling_id", 7], ["created_at", "2023-05-04 11:19:59.012594"], ["updated_at", "2023-05-04 11:19:59.012594"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:16:in `good_outcome'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:16:in `good_outcome'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:63:in `except_filling'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:17:in `good_outcome'
  [1m[36mPizzaFilling Delete All (0.5ms)[0m  [1m[31mDELETE FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" = $1 AND "pizza_fillings"."filling_id" = $2[0m  [["pizza_id", 28], ["filling_id", 10]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:17:in `good_outcome'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:17:in `good_outcome'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:63:in `except_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:63:in `except_filling'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:37:in `update_pizza_filling'
  [1m[36mPizzaFilling Create (0.9ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 28], ["filling_id", 10], ["created_at", "2023-05-04 11:19:59.037592"], ["updated_at", "2023-05-04 11:19:59.037592"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:37:in `update_pizza_filling'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:37:in `update_pizza_filling'
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."dimension" = $1 LIMIT $2[0m  [["dimension", 60.0], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:59:in `current_pizza_dimension'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 82ms (ActiveRecord: 16.1ms | Allocations: 26630)


Started GET "/custom_pizza/edit?order_item_id=13" for ::1 at 2023-05-04 14:20:03 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"13"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 28]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 18.1ms | Allocations: 10029)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.3ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 25.5ms | Allocations: 13782)
Completed 200 OK in 32ms (Views: 23.5ms | ActiveRecord: 3.4ms | Allocations: 16359)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:20:03 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:20:03 +0300
Started GET "/custom_pizza/edit?order_item_id=13" for ::1 at 2023-05-04 14:20:05 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"13"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 28]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 18.8ms | Allocations: 9913)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.7ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.5ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 27.2ms | Allocations: 13666)
Completed 200 OK in 34ms (Views: 25.4ms | ActiveRecord: 3.2ms | Allocations: 16243)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:20:05 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:20:05 +0300
Started PATCH "/custom_pizza?filling_id=0" for ::1 at 2023-05-04 14:20:08 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>13, "pizza_dimension"=>"90.0", "filling_id"=>"0", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:51:in `current_order_item'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:55:in `current_pizza'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:41:in `update_pizza_dimension'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."dimension" = $1 LIMIT $2[0m  [["dimension", 90.0], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:59:in `current_pizza_dimension'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:43:in `update_pizza_dimension'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:43:in `update_pizza_dimension'
  [1m[36mCustomPizza Update (0.6ms)[0m  [1m[33mUPDATE "pizzas" SET "pizza_dimension_id" = $1, "updated_at" = $2 WHERE "pizzas"."id" = $3[0m  [["pizza_dimension_id", 3], ["updated_at", "2023-05-04 11:20:08.621153"], ["id", 28]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:43:in `update_pizza_dimension'
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:43:in `update_pizza_dimension'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 20ms (ActiveRecord: 7.2ms | Allocations: 6915)


Started GET "/custom_pizza/edit?order_item_id=13" for ::1 at 2023-05-04 14:20:09 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"13"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 28]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 22.0ms | Allocations: 9931)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.9ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 30.0ms | Allocations: 13684)
Completed 200 OK in 36ms (Views: 27.9ms | ActiveRecord: 3.4ms | Allocations: 16260)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:20:09 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:20:10 +0300
Started GET "/custom_pizza/edit?order_item_id=13" for ::1 at 2023-05-04 14:20:10 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"13"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 28]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 17.7ms | Allocations: 9928)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.2ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 24.8ms | Allocations: 13681)
Completed 200 OK in 31ms (Views: 22.8ms | ActiveRecord: 3.3ms | Allocations: 16257)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:20:10 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:20:10 +0300
Started GET "/custom_pizza/edit?order_item_id=13" for ::1 at 2023-05-04 14:20:10 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"13"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 28]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 19.7ms | Allocations: 9913)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.0ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 26.8ms | Allocations: 13666)
Completed 200 OK in 34ms (Views: 24.9ms | ActiveRecord: 3.6ms | Allocations: 16242)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:20:10 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:20:11 +0300
Started GET "/custom_pizza/edit?order_item_id=13" for ::1 at 2023-05-04 14:20:11 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"13"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 28]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 18.6ms | Allocations: 9934)
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 3.8ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 25.4ms | Allocations: 13687)
Completed 200 OK in 34ms (Views: 24.0ms | ActiveRecord: 3.1ms | Allocations: 16263)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:20:11 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:20:11 +0300
Started GET "/custom_pizza/edit?order_item_id=13" for ::1 at 2023-05-04 14:20:12 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"13"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 28]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 16.8ms | Allocations: 9925)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.2ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 24.3ms | Allocations: 13678)
Completed 200 OK in 31ms (Views: 22.4ms | ActiveRecord: 3.2ms | Allocations: 16255)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:20:12 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:20:12 +0300
Started GET "/cart" for ::1 at 2023-05-04 14:20:14 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.9ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 28]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaPicture Load (0.4ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" = $2[0m  [["picturable_type", "Pizza"], ["picturable_id", 28]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaFilling Load (0.3ms)[0m  [1m[34mSELECT "pizza_fillings".* FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 28]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" IN ($1, $2, $3, $4)[0m  [["id", 4], ["id", 5], ["id", 7], ["id", 10]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  Rendered carts/_order_items.haml (Duration: 6.8ms | Allocations: 4410)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 28]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 28]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 28]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 28]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 26.9ms | Allocations: 15551)
  [1m[36mOrderItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.5ms | Allocations: 816)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 32.7ms | Allocations: 18367)
Completed 200 OK in 55ms (Views: 31.6ms | ActiveRecord: 4.8ms | Allocations: 27326)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:20:14 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:20:14 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-04 14:20:14 +0300
Started GET "/pizzas" for ::1 at 2023-05-04 14:20:15 +0300
Processing by PizzasController#index as HTML
  [1m[36mPizza Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."type" = $1[0m  [["type", "OrdinaryPizza"]]
  â†³ app/controllers/pizzas_controller.rb:5:in `index'
  Rendering layout layouts/application.haml
  Rendering pizzas/index.haml within layouts/application
  Rendered pizzas/_order_dropdown.haml (Duration: 1.0ms | Allocations: 496)
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas"[0m
  â†³ app/views/pizzas/index.haml:12
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/pizzas/index.haml:13
  [1m[36mPizza Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 1]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 2]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 3]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 4]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."type" = $1 ORDER BY "pizzas"."name" ASC LIMIT $2 OFFSET $3[0m  [["type", "OrdinaryPizza"], ["LIMIT", 12], ["OFFSET", 0]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mPizzaPicture Load (0.9ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13)[0m  [["picturable_type", "Pizza"], ["picturable_id", 1], ["picturable_id", 8], ["picturable_id", 12], ["picturable_id", 14], ["picturable_id", 9], ["picturable_id", 3], ["picturable_id", 10], ["picturable_id", 5], ["picturable_id", 2], ["picturable_id", 15], ["picturable_id", 11], ["picturable_id", 13]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  Rendered pizzas/_pizza.haml (Duration: 43.6ms | Allocations: 28226)
  Rendered pizzas/_view_more.haml (Duration: 0.1ms | Allocations: 51)
  Rendered pizzas/index.haml within layouts/application (Duration: 56.0ms | Allocations: 33264)
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.4ms | Allocations: 896)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 61.3ms | Allocations: 36152)
Completed 200 OK in 66ms (Views: 57.1ms | ActiveRecord: 5.8ms | Allocations: 37233)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:20:15 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:20:15 +0300
Started GET "/assets/medium.png" for ::1 at 2023-05-04 14:20:15 +0300
Started POST "/order_items?order_id=9&order_item%5Bpizza_id%5D=14&order_item%5Bquantity%5D=1" for ::1 at 2023-05-04 14:20:16 +0300
Processing by OrderItemsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_id"=>"9", "order_item"=>{"pizza_id"=>"14", "quantity"=>"1"}}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."pizza_id" = $2 LIMIT $3[0m  [["order_id", 9], ["pizza_id", 14], ["LIMIT", 1]]
  â†³ app/interactors/order_items/items_create.rb:20:in `checking_presence_pizza'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/order_items/items_create.rb:6:in `call'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/interactors/order_items/items_create.rb:6:in `call'
  [1m[36mOrderItem Create (0.7ms)[0m  [1m[32mINSERT INTO "order_items" ("price_cents", "price_currency", "quantity", "pizza_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["price_cents", 0], ["price_currency", "USD"], ["quantity", 1], ["pizza_id", 14], ["order_id", 9], ["created_at", "2023-05-04 11:20:16.805711"], ["updated_at", "2023-05-04 11:20:16.805711"]]
  â†³ app/interactors/order_items/items_create.rb:6:in `call'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/order_items/items_create.rb:6:in `call'
Redirected to http://localhost:3000/pizzas
Completed 302 Found in 16ms (ActiveRecord: 3.7ms | Allocations: 5593)


Started GET "/pizzas" for ::1 at 2023-05-04 14:20:16 +0300
Processing by PizzasController#index as HTML
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."type" = $1[0m  [["type", "OrdinaryPizza"]]
  â†³ app/controllers/pizzas_controller.rb:5:in `index'
  Rendering layout layouts/application.haml
  Rendering pizzas/index.haml within layouts/application
  Rendered pizzas/_order_dropdown.haml (Duration: 0.7ms | Allocations: 488)
  [1m[36mPizza Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas"[0m
  â†³ app/views/pizzas/index.haml:12
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/pizzas/index.haml:13
  [1m[36mPizza Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 1]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 2]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 3]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 4]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."type" = $1 ORDER BY "pizzas"."name" ASC LIMIT $2 OFFSET $3[0m  [["type", "OrdinaryPizza"], ["LIMIT", 12], ["OFFSET", 0]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mPizzaPicture Load (0.7ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13)[0m  [["picturable_type", "Pizza"], ["picturable_id", 1], ["picturable_id", 8], ["picturable_id", 12], ["picturable_id", 14], ["picturable_id", 9], ["picturable_id", 3], ["picturable_id", 10], ["picturable_id", 5], ["picturable_id", 2], ["picturable_id", 15], ["picturable_id", 11], ["picturable_id", 13]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  Rendered pizzas/_pizza.haml (Duration: 44.5ms | Allocations: 28201)
  Rendered pizzas/_view_more.haml (Duration: 0.1ms | Allocations: 47)
  Rendered pizzas/index.haml within layouts/application (Duration: 55.9ms | Allocations: 33211)
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.4ms | Allocations: 896)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 50)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 61.3ms | Allocations: 36125)
Completed 200 OK in 65ms (Views: 56.9ms | ActiveRecord: 5.3ms | Allocations: 37165)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:20:16 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:20:16 +0300
Started GET "/assets/medium.png" for ::1 at 2023-05-04 14:20:16 +0300
Started GET "/cart" for ::1 at 2023-05-04 14:20:19 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizza Load (0.7ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 28], ["id", 14]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaPicture Load (0.8ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3)[0m  [["picturable_type", "Pizza"], ["picturable_id", 14], ["picturable_id", 28]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaFilling Load (0.5ms)[0m  [1m[34mSELECT "pizza_fillings".* FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" IN ($1, $2)[0m  [["pizza_id", 14], ["pizza_id", 28]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8)[0m  [["id", 4], ["id", 8], ["id", 1], ["id", 6], ["id", 7], ["id", 3], ["id", 5], ["id", 10]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  Rendered carts/_order_items.haml (Duration: 13.1ms | Allocations: 9593)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 28], ["id", 14]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 28]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 14]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.1ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2)[0m  [["id", 28], ["id", 14]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 28]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 14]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 52.0ms | Allocations: 28713)
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.1ms | Allocations: 816)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 57.1ms | Allocations: 31528)
Completed 200 OK in 84ms (Views: 55.4ms | ActiveRecord: 5.9ms | Allocations: 43243)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:20:19 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:20:19 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-04 14:20:19 +0300
Started GET "/custom_pizza/edit?order_item_id=14" for ::1 at 2023-05-04 14:20:22 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"14"}
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  [1m[36mPizza Load (0.7ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."name" = $1 LIMIT $2[0m  [["name", "Felicidadburgh"], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:36:in `similar_pizza_fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.6ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 14]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 14]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 19.1ms | Allocations: 10521)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.3ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 26.1ms | Allocations: 14274)
Completed 200 OK in 35ms (Views: 24.1ms | ActiveRecord: 4.3ms | Allocations: 17434)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:20:22 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:20:22 +0300
Started PATCH "/custom_pizza?filling_id=0" for ::1 at 2023-05-04 14:20:25 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>14, "pizza_dimension"=>"100.0", "filling_id"=>"0", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:51:in `current_order_item'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:55:in `current_pizza'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:9:in `call'
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:9:in `call'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:9:in `call'
  [1m[36mCustomPizza Create (1.0ms)[0m  [1m[32mINSERT INTO "pizzas" ("name", "price_cents", "price_currency", "description", "category_id", "pizza_dimension_id", "created_at", "updated_at", "type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Felicidadburgh"], ["price_cents", 7117], ["price_currency", "USD"], ["description", "Voluptatum alias doloribus praesentium natus. Provident a vitae quis iure ratione consequuntur. Quas consequatur doloribus animi occaecati. Excepturi necessitatibus nisi cumque culpa eligendi. Vel aperiam adipisci repudiandae fuga sunt doloremque perferendis. Similique vitae sequi explicabo ullam. Quo aperiam recusandae itaque fugiat excepturi illo quia blanditiis."], ["category_id", 3], ["pizza_dimension_id", 3], ["created_at", "2023-05-04 11:20:25.071554"], ["updated_at", "2023-05-04 11:20:25.071554"], ["type", "CustomPizza"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:9:in `call'
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:9:in `call'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:15:in `good_outcome'
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:15:in `good_outcome'
  [1m[36mOrderItem Update (0.9ms)[0m  [1m[33mUPDATE "order_items" SET "pizza_id" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["pizza_id", 29], ["updated_at", "2023-05-04 11:20:25.088269"], ["id", 14]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:15:in `good_outcome'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:15:in `good_outcome'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 14]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:16:in `good_outcome'
  [1m[36mFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 29]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:16:in `good_outcome'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:16:in `good_outcome'
  [1m[36mPizzaFilling Create (0.9ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 29], ["filling_id", 1], ["created_at", "2023-05-04 11:20:25.103193"], ["updated_at", "2023-05-04 11:20:25.103193"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:16:in `good_outcome'
  [1m[36mPizzaFilling Create (0.9ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 29], ["filling_id", 3], ["created_at", "2023-05-04 11:20:25.108690"], ["updated_at", "2023-05-04 11:20:25.108690"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:16:in `good_outcome'
  [1m[36mPizzaFilling Create (0.9ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 29], ["filling_id", 4], ["created_at", "2023-05-04 11:20:25.112522"], ["updated_at", "2023-05-04 11:20:25.112522"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:16:in `good_outcome'
  [1m[36mPizzaFilling Create (0.9ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 29], ["filling_id", 6], ["created_at", "2023-05-04 11:20:25.116324"], ["updated_at", "2023-05-04 11:20:25.116324"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:16:in `good_outcome'
  [1m[36mPizzaFilling Create (0.4ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 29], ["filling_id", 7], ["created_at", "2023-05-04 11:20:25.119990"], ["updated_at", "2023-05-04 11:20:25.119990"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:16:in `good_outcome'
  [1m[36mPizzaFilling Create (0.5ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 29], ["filling_id", 8], ["created_at", "2023-05-04 11:20:25.123634"], ["updated_at", "2023-05-04 11:20:25.123634"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:16:in `good_outcome'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:16:in `good_outcome'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:63:in `except_filling'
Redirected to http://localhost:3000/
Completed 302 Found in 70ms (ActiveRecord: 17.3ms | Allocations: 23676)


Started PATCH "/" for ::1 at 2023-05-04 14:20:25 +0300
  
ActionController::RoutingError (No route matches [PATCH] "/"):
  
Started GET "/custom_pizza/edit?order_item_id=14" for ::1 at 2023-05-04 14:33:47 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"14"}
  [1m[36mPizzaDimension Load (0.8ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.7ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.7ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (1.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 29]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 43.5ms | Allocations: 18708)
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 12.4ms | Allocations: 4858)
  Rendered layouts/_flesh.haml (Duration: 0.4ms | Allocations: 76)
  Rendered layouts/_footer.haml (Duration: 0.4ms | Allocations: 151)
  Rendered layout layouts/application.haml (Duration: 60.3ms | Allocations: 25928)
Completed 200 OK in 123ms (Views: 58.1ms | ActiveRecord: 14.1ms | Allocations: 44883)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:33:47 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:33:47 +0300
Started GET "/pizzas" for ::1 at 2023-05-04 14:33:48 +0300
Processing by PizzasController#index as HTML
  [1m[36mPizza Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."type" = $1[0m  [["type", "OrdinaryPizza"]]
  â†³ app/controllers/pizzas_controller.rb:5:in `index'
  Rendering layout layouts/application.haml
  Rendering pizzas/index.haml within layouts/application
  Rendered pizzas/_order_dropdown.haml (Duration: 1.4ms | Allocations: 544)
  [1m[36mPizza Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas"[0m
  â†³ app/views/pizzas/index.haml:12
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/pizzas/index.haml:13
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 1]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 2]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 3]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 4]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Load (0.8ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."type" = $1 ORDER BY "pizzas"."name" ASC LIMIT $2 OFFSET $3[0m  [["type", "OrdinaryPizza"], ["LIMIT", 12], ["OFFSET", 0]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mPizzaPicture Load (1.6ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13)[0m  [["picturable_type", "Pizza"], ["picturable_id", 1], ["picturable_id", 8], ["picturable_id", 12], ["picturable_id", 14], ["picturable_id", 9], ["picturable_id", 3], ["picturable_id", 10], ["picturable_id", 5], ["picturable_id", 2], ["picturable_id", 15], ["picturable_id", 11], ["picturable_id", 13]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  Rendered pizzas/_pizza.haml (Duration: 64.5ms | Allocations: 36525)
  Rendered pizzas/_view_more.haml (Duration: 0.1ms | Allocations: 62)
  Rendered pizzas/index.haml within layouts/application (Duration: 83.9ms | Allocations: 43271)
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 3.0ms | Allocations: 943)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 89.7ms | Allocations: 46267)
Completed 200 OK in 96ms (Views: 85.8ms | ActiveRecord: 6.4ms | Allocations: 48370)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:33:48 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:33:48 +0300
Started GET "/assets/medium.png" for ::1 at 2023-05-04 14:33:48 +0300
Started POST "/order_items?order_id=9&order_item%5Bpizza_id%5D=8&order_item%5Bquantity%5D=1" for ::1 at 2023-05-04 14:33:49 +0300
Processing by OrderItemsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_id"=>"9", "order_item"=>{"pizza_id"=>"8", "quantity"=>"1"}}
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."pizza_id" = $2 LIMIT $3[0m  [["order_id", 9], ["pizza_id", 8], ["LIMIT", 1]]
  â†³ app/interactors/order_items/items_create.rb:20:in `checking_presence_pizza'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/order_items/items_create.rb:6:in `call'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/interactors/order_items/items_create.rb:6:in `call'
  [1m[36mOrderItem Create (1.0ms)[0m  [1m[32mINSERT INTO "order_items" ("price_cents", "price_currency", "quantity", "pizza_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["price_cents", 0], ["price_currency", "USD"], ["quantity", 1], ["pizza_id", 8], ["order_id", 9], ["created_at", "2023-05-04 11:33:49.810809"], ["updated_at", "2023-05-04 11:33:49.810809"]]
  â†³ app/interactors/order_items/items_create.rb:6:in `call'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/order_items/items_create.rb:6:in `call'
Redirected to http://localhost:3000/pizzas
Completed 302 Found in 17ms (ActiveRecord: 3.9ms | Allocations: 6748)


Started GET "/pizzas" for ::1 at 2023-05-04 14:33:49 +0300
Processing by PizzasController#index as HTML
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."type" = $1[0m  [["type", "OrdinaryPizza"]]
  â†³ app/controllers/pizzas_controller.rb:5:in `index'
  Rendering layout layouts/application.haml
  Rendering pizzas/index.haml within layouts/application
  Rendered pizzas/_order_dropdown.haml (Duration: 0.8ms | Allocations: 510)
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas"[0m
  â†³ app/views/pizzas/index.haml:12
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/pizzas/index.haml:13
  [1m[36mPizza Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 1]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 2]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 3]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 4]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."type" = $1 ORDER BY "pizzas"."name" ASC LIMIT $2 OFFSET $3[0m  [["type", "OrdinaryPizza"], ["LIMIT", 12], ["OFFSET", 0]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mPizzaPicture Load (0.7ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13)[0m  [["picturable_type", "Pizza"], ["picturable_id", 1], ["picturable_id", 8], ["picturable_id", 12], ["picturable_id", 14], ["picturable_id", 9], ["picturable_id", 3], ["picturable_id", 10], ["picturable_id", 5], ["picturable_id", 2], ["picturable_id", 15], ["picturable_id", 11], ["picturable_id", 13]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  Rendered pizzas/_pizza.haml (Duration: 44.5ms | Allocations: 28428)
  Rendered pizzas/_view_more.haml (Duration: 0.1ms | Allocations: 49)
  Rendered pizzas/index.haml within layouts/application (Duration: 61.1ms | Allocations: 33490)
  [1m[36mOrderItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 3.1ms | Allocations: 902)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 51)
  Rendered layouts/_footer.haml (Duration: 0.5ms | Allocations: 121)
  Rendered layout layouts/application.haml (Duration: 67.2ms | Allocations: 36432)
Completed 200 OK in 71ms (Views: 62.4ms | ActiveRecord: 5.9ms | Allocations: 37580)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:33:49 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:33:49 +0300
Started GET "/assets/medium.png" for ::1 at 2023-05-04 14:33:50 +0300
Started GET "/cart" for ::1 at 2023-05-04 14:33:50 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2, $3)[0m  [["id", 28], ["id", 29], ["id", 8]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaPicture Load (0.6ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3, $4)[0m  [["picturable_type", "Pizza"], ["picturable_id", 8], ["picturable_id", 28], ["picturable_id", 29]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaFilling Load (0.6ms)[0m  [1m[34mSELECT "pizza_fillings".* FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" IN ($1, $2, $3)[0m  [["pizza_id", 8], ["pizza_id", 28], ["pizza_id", 29]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8)[0m  [["id", 7], ["id", 5], ["id", 8], ["id", 4], ["id", 10], ["id", 1], ["id", 3], ["id", 6]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  Rendered carts/_order_items.haml (Duration: 20.3ms | Allocations: 14138)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2, $3)[0m  [["id", 28], ["id", 29], ["id", 8]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mFilling Load (1.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 28]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.6ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mFilling Load (0.9ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 29]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mFilling Load (1.1ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 8]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2, $3)[0m  [["id", 28], ["id", 29], ["id", 8]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 28]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 29]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 8]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 79.3ms | Allocations: 41989)
  [1m[36mOrderItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.2ms | Allocations: 869)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 84.5ms | Allocations: 45033)
Completed 200 OK in 121ms (Views: 81.5ms | ActiveRecord: 8.3ms | Allocations: 60803)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:33:50 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:33:50 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-04 14:33:50 +0300
Started GET "/custom_pizza/edit?order_item_id=15" for ::1 at 2023-05-04 14:33:51 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"15"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."name" = $1 LIMIT $2[0m  [["name", "Deckowmouth"], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:36:in `similar_pizza_fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.6ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 8]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 8]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 19.7ms | Allocations: 9194)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 3.8ms | Allocations: 1721)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 27.0ms | Allocations: 12966)
Completed 200 OK in 37ms (Views: 25.6ms | ActiveRecord: 3.5ms | Allocations: 16321)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:33:52 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:33:52 +0300
Started PATCH "/custom_pizza?filling_id=0" for ::1 at 2023-05-04 14:33:56 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>15, "pizza_dimension"=>"100.0", "filling_id"=>"0", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:52:in `current_order_item'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:56:in `current_pizza'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:9:in `call'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:9:in `call'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:9:in `call'
  [1m[36mCustomPizza Create (1.1ms)[0m  [1m[32mINSERT INTO "pizzas" ("name", "price_cents", "price_currency", "description", "category_id", "pizza_dimension_id", "created_at", "updated_at", "type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Deckowmouth"], ["price_cents", 5465], ["price_currency", "USD"], ["description", "Quibusdam sit voluptatum fugit fugiat voluptas numquam magnam quod. Cupiditate illo consequatur itaque error eius numquam. Nam nulla quidem accusamus consequatur quas. Eaque incidunt natus nostrum magni unde debitis. Facere explicabo ex sequi aliquid cum delectus molestias reiciendis."], ["category_id", 1], ["pizza_dimension_id", 3], ["created_at", "2023-05-04 11:33:56.168297"], ["updated_at", "2023-05-04 11:33:56.168297"], ["type", "CustomPizza"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:9:in `call'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:9:in `call'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:15:in `good_outcome'
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:15:in `good_outcome'
  [1m[36mOrderItem Update (0.6ms)[0m  [1m[33mUPDATE "order_items" SET "pizza_id" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["pizza_id", 30], ["updated_at", "2023-05-04 11:33:56.181955"], ["id", 15]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:15:in `good_outcome'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:15:in `good_outcome'
  [1m[36mFilling Load (0.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 8]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:16:in `good_outcome'
  [1m[36mFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 30]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:16:in `good_outcome'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:16:in `good_outcome'
  [1m[36mPizzaFilling Create (1.2ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 30], ["filling_id", 5], ["created_at", "2023-05-04 11:33:56.196543"], ["updated_at", "2023-05-04 11:33:56.196543"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:16:in `good_outcome'
  [1m[36mPizzaFilling Create (0.6ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 30], ["filling_id", 7], ["created_at", "2023-05-04 11:33:56.201976"], ["updated_at", "2023-05-04 11:33:56.201976"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:16:in `good_outcome'
  [1m[36mPizzaFilling Create (0.6ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 30], ["filling_id", 8], ["created_at", "2023-05-04 11:33:56.205537"], ["updated_at", "2023-05-04 11:33:56.205537"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:16:in `good_outcome'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:16:in `good_outcome'
  [1m[36mFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:64:in `except_filling'
Redirected to http://localhost:3000/
Completed 302 Found in 61ms (ActiveRecord: 11.5ms | Allocations: 21140)


Started PATCH "/" for ::1 at 2023-05-04 14:33:56 +0300
  
ActionController::RoutingError (No route matches [PATCH] "/"):
  
Started GET "/custom_pizza/edit?order_item_id=15" for ::1 at 2023-05-04 14:34:57 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"15"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.8ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 30]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 48.2ms | Allocations: 18266)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 21.6ms | Allocations: 5247)
  Rendered layouts/_flesh.haml (Duration: 0.2ms | Allocations: 76)
  Rendered layouts/_footer.haml (Duration: 0.4ms | Allocations: 151)
  Rendered layout layouts/application.haml (Duration: 74.1ms | Allocations: 25875)
Completed 200 OK in 144ms (Views: 59.7ms | ActiveRecord: 40.2ms | Allocations: 43100)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:34:57 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:34:57 +0300
Started GET "/custom_pizza/edit?order_item_id=15" for ::1 at 2023-05-04 14:35:01 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"15"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 30]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 22.2ms | Allocations: 9836)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 7.3ms | Allocations: 1719)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 35.1ms | Allocations: 13619)
Completed 200 OK in 42ms (Views: 32.6ms | ActiveRecord: 3.9ms | Allocations: 16307)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:35:01 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:35:01 +0300
Started GET "/pizzas" for ::1 at 2023-05-04 14:35:02 +0300
Processing by PizzasController#index as HTML
  [1m[36mPizza Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."type" = $1[0m  [["type", "OrdinaryPizza"]]
  â†³ app/controllers/pizzas_controller.rb:5:in `index'
  Rendering layout layouts/application.haml
  Rendering pizzas/index.haml within layouts/application
  Rendered pizzas/_order_dropdown.haml (Duration: 0.8ms | Allocations: 544)
  [1m[36mPizza Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas"[0m
  â†³ app/views/pizzas/index.haml:12
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/pizzas/index.haml:13
  [1m[36mPizza Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 1]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 2]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 3]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 4]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Load (0.6ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."type" = $1 ORDER BY "pizzas"."name" ASC LIMIT $2 OFFSET $3[0m  [["type", "OrdinaryPizza"], ["LIMIT", 12], ["OFFSET", 0]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mPizzaPicture Load (0.5ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13)[0m  [["picturable_type", "Pizza"], ["picturable_id", 1], ["picturable_id", 8], ["picturable_id", 12], ["picturable_id", 14], ["picturable_id", 9], ["picturable_id", 3], ["picturable_id", 10], ["picturable_id", 5], ["picturable_id", 2], ["picturable_id", 15], ["picturable_id", 11], ["picturable_id", 13]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  Rendered pizzas/_pizza.haml (Duration: 68.9ms | Allocations: 36797)
  Rendered pizzas/_view_more.haml (Duration: 0.1ms | Allocations: 62)
  Rendered pizzas/index.haml within layouts/application (Duration: 94.6ms | Allocations: 43725)
  [1m[36mOrderItem Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.7ms | Allocations: 943)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 100.1ms | Allocations: 46721)
Completed 200 OK in 106ms (Views: 84.8ms | ActiveRecord: 17.2ms | Allocations: 48823)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:35:02 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:35:02 +0300
Started GET "/assets/medium.png" for ::1 at 2023-05-04 14:35:02 +0300
Started POST "/order_items?order_id=9&order_item%5Bpizza_id%5D=8&order_item%5Bquantity%5D=1" for ::1 at 2023-05-04 14:35:04 +0300
Processing by OrderItemsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_id"=>"9", "order_item"=>{"pizza_id"=>"8", "quantity"=>"1"}}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."pizza_id" = $2 LIMIT $3[0m  [["order_id", 9], ["pizza_id", 8], ["LIMIT", 1]]
  â†³ app/interactors/order_items/items_create.rb:20:in `checking_presence_pizza'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/order_items/items_create.rb:6:in `call'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/interactors/order_items/items_create.rb:6:in `call'
  [1m[36mOrderItem Create (0.6ms)[0m  [1m[32mINSERT INTO "order_items" ("price_cents", "price_currency", "quantity", "pizza_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["price_cents", 0], ["price_currency", "USD"], ["quantity", 1], ["pizza_id", 8], ["order_id", 9], ["created_at", "2023-05-04 11:35:04.205828"], ["updated_at", "2023-05-04 11:35:04.205828"]]
  â†³ app/interactors/order_items/items_create.rb:6:in `call'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/order_items/items_create.rb:6:in `call'
Redirected to http://localhost:3000/pizzas
Completed 302 Found in 16ms (ActiveRecord: 3.2ms | Allocations: 6742)


Started GET "/pizzas" for ::1 at 2023-05-04 14:35:04 +0300
Processing by PizzasController#index as HTML
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."type" = $1[0m  [["type", "OrdinaryPizza"]]
  â†³ app/controllers/pizzas_controller.rb:5:in `index'
  Rendering layout layouts/application.haml
  Rendering pizzas/index.haml within layouts/application
  Rendered pizzas/_order_dropdown.haml (Duration: 0.8ms | Allocations: 510)
  [1m[36mPizza Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas"[0m
  â†³ app/views/pizzas/index.haml:12
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/pizzas/index.haml:13
  [1m[36mPizza Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 1]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 2]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 3]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 4]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."type" = $1 ORDER BY "pizzas"."name" ASC LIMIT $2 OFFSET $3[0m  [["type", "OrdinaryPizza"], ["LIMIT", 12], ["OFFSET", 0]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mPizzaPicture Load (0.8ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13)[0m  [["picturable_type", "Pizza"], ["picturable_id", 1], ["picturable_id", 8], ["picturable_id", 12], ["picturable_id", 14], ["picturable_id", 9], ["picturable_id", 3], ["picturable_id", 10], ["picturable_id", 5], ["picturable_id", 2], ["picturable_id", 15], ["picturable_id", 11], ["picturable_id", 13]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  Rendered pizzas/_pizza.haml (Duration: 47.8ms | Allocations: 28450)
  Rendered pizzas/_view_more.haml (Duration: 0.2ms | Allocations: 51)
  Rendered pizzas/index.haml within layouts/application (Duration: 83.6ms | Allocations: 33515)
  [1m[36mOrderItem Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 3.0ms | Allocations: 902)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 51)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 121)
  Rendered layout layouts/application.haml (Duration: 90.0ms | Allocations: 36460)
Completed 200 OK in 94ms (Views: 85.2ms | ActiveRecord: 5.9ms | Allocations: 37607)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:35:04 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:35:04 +0300
Started GET "/assets/medium.png" for ::1 at 2023-05-04 14:35:04 +0300
Started GET "/cart" for ::1 at 2023-05-04 14:35:05 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizza Load (0.6ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2, $3, $4)[0m  [["id", 28], ["id", 29], ["id", 30], ["id", 8]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaPicture Load (0.7ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3, $4, $5)[0m  [["picturable_type", "Pizza"], ["picturable_id", 8], ["picturable_id", 28], ["picturable_id", 29], ["picturable_id", 30]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaFilling Load (0.6ms)[0m  [1m[34mSELECT "pizza_fillings".* FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" IN ($1, $2, $3, $4)[0m  [["pizza_id", 8], ["pizza_id", 28], ["pizza_id", 29], ["pizza_id", 30]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8)[0m  [["id", 7], ["id", 5], ["id", 8], ["id", 4], ["id", 10], ["id", 1], ["id", 3], ["id", 6]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  Rendered carts/_order_items.haml (Duration: 24.7ms | Allocations: 18319)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2, $3, $4)[0m  [["id", 28], ["id", 29], ["id", 30], ["id", 8]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 28]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 29]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 30]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mFilling Load (0.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 8]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2, $3, $4)[0m  [["id", 28], ["id", 29], ["id", 30], ["id", 8]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 28]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 29]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 30]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 8]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 84.9ms | Allocations: 53287)
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.1ms | Allocations: 869)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 90.3ms | Allocations: 56331)
Completed 200 OK in 136ms (Views: 89.7ms | ActiveRecord: 9.6ms | Allocations: 73997)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:35:05 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:35:05 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-04 14:35:05 +0300
Started GET "/custom_pizza/edit?order_item_id=16" for ::1 at 2023-05-04 14:35:06 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"16"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."name" = $1 LIMIT $2[0m  [["name", "Deckowmouth"], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:36:in `similar_pizza_fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 8]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 8]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 19.1ms | Allocations: 9228)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.3ms | Allocations: 1721)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 26.8ms | Allocations: 13000)
Completed 200 OK in 35ms (Views: 25.4ms | ActiveRecord: 3.6ms | Allocations: 16353)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:35:06 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:35:06 +0300
Started PATCH "/custom_pizza?filling_id=0" for ::1 at 2023-05-04 14:35:08 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>16, "pizza_dimension"=>"100.0", "filling_id"=>"0", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:53:in `current_order_item'
  [1m[36mPizza Load (0.2ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:57:in `current_pizza'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:9:in `call'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:9:in `call'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:9:in `call'
  [1m[36mCustomPizza Create (0.8ms)[0m  [1m[32mINSERT INTO "pizzas" ("name", "price_cents", "price_currency", "description", "category_id", "pizza_dimension_id", "created_at", "updated_at", "type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Deckowmouth"], ["price_cents", 5465], ["price_currency", "USD"], ["description", "Quibusdam sit voluptatum fugit fugiat voluptas numquam magnam quod. Cupiditate illo consequatur itaque error eius numquam. Nam nulla quidem accusamus consequatur quas. Eaque incidunt natus nostrum magni unde debitis. Facere explicabo ex sequi aliquid cum delectus molestias reiciendis."], ["category_id", 1], ["pizza_dimension_id", 3], ["created_at", "2023-05-04 11:35:08.761177"], ["updated_at", "2023-05-04 11:35:08.761177"], ["type", "CustomPizza"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:9:in `call'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:9:in `call'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ (pry):2:in `good_outcome'
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ (pry):2:in `good_outcome'
  [1m[36mOrderItem Update (0.6ms)[0m  [1m[33mUPDATE "order_items" SET "pizza_id" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["pizza_id", 31], ["updated_at", "2023-05-04 11:35:29.580012"], ["id", 16]]
  â†³ (pry):2:in `good_outcome'
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ (pry):2:in `good_outcome'
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 8]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:15:in `good_outcome'
  [1m[36mFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 31]]
  â†³ (pry):9:in `good_outcome'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ (pry):9:in `good_outcome'
  [1m[36mPizzaFilling Create (0.7ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 31], ["filling_id", 5], ["created_at", "2023-05-04 11:37:36.441830"], ["updated_at", "2023-05-04 11:37:36.441830"]]
  â†³ (pry):9:in `good_outcome'
  [1m[36mPizzaFilling Create (0.8ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 31], ["filling_id", 7], ["created_at", "2023-05-04 11:37:36.446686"], ["updated_at", "2023-05-04 11:37:36.446686"]]
  â†³ (pry):9:in `good_outcome'
  [1m[36mPizzaFilling Create (0.8ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 31], ["filling_id", 8], ["created_at", "2023-05-04 11:37:36.450518"], ["updated_at", "2023-05-04 11:37:36.450518"]]
  â†³ (pry):9:in `good_outcome'
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ (pry):9:in `good_outcome'
  [1m[36mFilling Load (0.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:65:in `except_filling'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:65:in `except_filling'
Redirected to http://localhost:3000/
Completed 302 Found in 291565ms (ActiveRecord: 18.6ms | Allocations: 134119)


Started PATCH "/" for ::1 at 2023-05-04 14:40:00 +0300
  
ActionController::RoutingError (No route matches [PATCH] "/"):
  
Started GET "/cart" for ::1 at 2023-05-04 14:40:02 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizza Load (0.7ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2, $3, $4)[0m  [["id", 28], ["id", 29], ["id", 30], ["id", 31]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaPicture Load (0.6ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3, $4, $5)[0m  [["picturable_type", "Pizza"], ["picturable_id", 28], ["picturable_id", 29], ["picturable_id", 30], ["picturable_id", 31]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaFilling Load (0.4ms)[0m  [1m[34mSELECT "pizza_fillings".* FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" IN ($1, $2, $3, $4)[0m  [["pizza_id", 28], ["pizza_id", 29], ["pizza_id", 30], ["pizza_id", 31]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8)[0m  [["id", 4], ["id", 5], ["id", 7], ["id", 10], ["id", 1], ["id", 3], ["id", 6], ["id", 8]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  Rendered carts/_order_items.haml (Duration: 37.2ms | Allocations: 21576)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2, $3, $4)[0m  [["id", 28], ["id", 29], ["id", 30], ["id", 31]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 28]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 29]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 30]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 31]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" IN ($1, $2, $3, $4)[0m  [["id", 28], ["id", 29], ["id", 30], ["id", 31]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 28]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 29]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 30]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 31]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 92.1ms | Allocations: 57237)
  [1m[36mOrderItem Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.5ms | Allocations: 919)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 58)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 99.2ms | Allocations: 60364)
Completed 200 OK in 238ms (Views: 94.1ms | ActiveRecord: 45.3ms | Allocations: 103267)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:40:02 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:40:02 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-04 14:40:02 +0300
Started DELETE "/order_items?id=13" for ::1 at 2023-05-04 14:40:04 +0300
Processing by OrderItemsController#destroy as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"13", "order_item"=>{}}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."id" = $2 LIMIT $3[0m  [["order_id", 9], ["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/order_items_controller.rb:14:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/order_items_controller.rb:14:in `destroy'
  [1m[36mOrderItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "order_items" WHERE "order_items"."id" = $1[0m  [["id", 13]]
  â†³ app/controllers/order_items_controller.rb:14:in `destroy'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/order_items_controller.rb:14:in `destroy'
No template found for OrderItemsController#destroy, rendering head :no_content
Completed 204 No Content in 11ms (ActiveRecord: 2.3ms | Allocations: 3963)


Started DELETE "/order_items?id=14" for ::1 at 2023-05-04 14:40:04 +0300
Processing by OrderItemsController#destroy as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"14", "order_item"=>{}}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.7ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."id" = $2 LIMIT $3[0m  [["order_id", 9], ["id", 14], ["LIMIT", 1]]
  â†³ app/controllers/order_items_controller.rb:14:in `destroy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/order_items_controller.rb:14:in `destroy'
  [1m[36mOrderItem Destroy (0.5ms)[0m  [1m[31mDELETE FROM "order_items" WHERE "order_items"."id" = $1[0m  [["id", 14]]
  â†³ app/controllers/order_items_controller.rb:14:in `destroy'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/order_items_controller.rb:14:in `destroy'
No template found for OrderItemsController#destroy, rendering head :no_content
Completed 204 No Content in 11ms (ActiveRecord: 3.1ms | Allocations: 3558)


Started DELETE "/order_items?id=15" for ::1 at 2023-05-04 14:40:05 +0300
Processing by OrderItemsController#destroy as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"15", "order_item"=>{}}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."id" = $2 LIMIT $3[0m  [["order_id", 9], ["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/order_items_controller.rb:14:in `destroy'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/order_items_controller.rb:14:in `destroy'
  [1m[36mOrderItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM "order_items" WHERE "order_items"."id" = $1[0m  [["id", 15]]
  â†³ app/controllers/order_items_controller.rb:14:in `destroy'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/order_items_controller.rb:14:in `destroy'
No template found for OrderItemsController#destroy, rendering head :no_content
Completed 204 No Content in 10ms (ActiveRecord: 2.6ms | Allocations: 3551)


Started DELETE "/order_items?id=16" for ::1 at 2023-05-04 14:40:05 +0300
Processing by OrderItemsController#destroy as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"16", "order_item"=>{}}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.6ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."id" = $2 LIMIT $3[0m  [["order_id", 9], ["id", 16], ["LIMIT", 1]]
  â†³ app/controllers/order_items_controller.rb:14:in `destroy'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/order_items_controller.rb:14:in `destroy'
  [1m[36mOrderItem Destroy (0.5ms)[0m  [1m[31mDELETE FROM "order_items" WHERE "order_items"."id" = $1[0m  [["id", 16]]
  â†³ app/controllers/order_items_controller.rb:14:in `destroy'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/order_items_controller.rb:14:in `destroy'
No template found for OrderItemsController#destroy, rendering head :no_content
Completed 204 No Content in 11ms (ActiveRecord: 2.8ms | Allocations: 3533)


Started GET "/pizzas" for ::1 at 2023-05-04 14:40:06 +0300
Processing by PizzasController#index as HTML
  [1m[36mPizza Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."type" = $1[0m  [["type", "OrdinaryPizza"]]
  â†³ app/controllers/pizzas_controller.rb:5:in `index'
  Rendering layout layouts/application.haml
  Rendering pizzas/index.haml within layouts/application
  Rendered pizzas/_order_dropdown.haml (Duration: 0.8ms | Allocations: 544)
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas"[0m
  â†³ app/views/pizzas/index.haml:12
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/pizzas/index.haml:13
  [1m[36mPizza Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 1]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 2]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 3]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 4]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Load (0.6ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."type" = $1 ORDER BY "pizzas"."name" ASC LIMIT $2 OFFSET $3[0m  [["type", "OrdinaryPizza"], ["LIMIT", 12], ["OFFSET", 0]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mPizzaPicture Load (0.5ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13)[0m  [["picturable_type", "Pizza"], ["picturable_id", 1], ["picturable_id", 8], ["picturable_id", 12], ["picturable_id", 14], ["picturable_id", 9], ["picturable_id", 3], ["picturable_id", 10], ["picturable_id", 5], ["picturable_id", 2], ["picturable_id", 15], ["picturable_id", 11], ["picturable_id", 13]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  Rendered pizzas/_pizza.haml (Duration: 53.8ms | Allocations: 31783)
  Rendered pizzas/_view_more.haml (Duration: 0.2ms | Allocations: 62)
  Rendered pizzas/index.haml within layouts/application (Duration: 78.0ms | Allocations: 38783)
  [1m[36mOrderItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.8ms | Allocations: 943)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 84.5ms | Allocations: 41784)
Completed 200 OK in 89ms (Views: 76.7ms | ActiveRecord: 9.5ms | Allocations: 43906)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:40:06 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:40:06 +0300
Started GET "/assets/medium.png" for ::1 at 2023-05-04 14:40:06 +0300
Started POST "/order_items?order_id=9&order_item%5Bpizza_id%5D=5&order_item%5Bquantity%5D=1" for ::1 at 2023-05-04 14:40:11 +0300
Processing by OrderItemsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_id"=>"9", "order_item"=>{"pizza_id"=>"5", "quantity"=>"1"}}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."pizza_id" = $2 LIMIT $3[0m  [["order_id", 9], ["pizza_id", 5], ["LIMIT", 1]]
  â†³ app/interactors/order_items/items_create.rb:20:in `checking_presence_pizza'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/order_items/items_create.rb:6:in `call'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/interactors/order_items/items_create.rb:6:in `call'
  [1m[36mOrderItem Create (0.8ms)[0m  [1m[32mINSERT INTO "order_items" ("price_cents", "price_currency", "quantity", "pizza_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["price_cents", 0], ["price_currency", "USD"], ["quantity", 1], ["pizza_id", 5], ["order_id", 9], ["created_at", "2023-05-04 11:40:11.419287"], ["updated_at", "2023-05-04 11:40:11.419287"]]
  â†³ app/interactors/order_items/items_create.rb:6:in `call'
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/order_items/items_create.rb:6:in `call'
Redirected to http://localhost:3000/pizzas
Completed 302 Found in 21ms (ActiveRecord: 7.1ms | Allocations: 6731)


Started GET "/pizzas" for ::1 at 2023-05-04 14:40:11 +0300
Processing by PizzasController#index as HTML
  [1m[36mPizza Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."type" = $1[0m  [["type", "OrdinaryPizza"]]
  â†³ app/controllers/pizzas_controller.rb:5:in `index'
  Rendering layout layouts/application.haml
  Rendering pizzas/index.haml within layouts/application
  Rendered pizzas/_order_dropdown.haml (Duration: 0.7ms | Allocations: 510)
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas"[0m
  â†³ app/views/pizzas/index.haml:12
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/pizzas/index.haml:13
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 1]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 2]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 3]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 4]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Load (0.6ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."type" = $1 ORDER BY "pizzas"."name" ASC LIMIT $2 OFFSET $3[0m  [["type", "OrdinaryPizza"], ["LIMIT", 12], ["OFFSET", 0]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mPizzaPicture Load (0.6ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13)[0m  [["picturable_type", "Pizza"], ["picturable_id", 1], ["picturable_id", 8], ["picturable_id", 12], ["picturable_id", 14], ["picturable_id", 9], ["picturable_id", 3], ["picturable_id", 10], ["picturable_id", 5], ["picturable_id", 2], ["picturable_id", 15], ["picturable_id", 11], ["picturable_id", 13]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  Rendered pizzas/_pizza.haml (Duration: 44.5ms | Allocations: 28413)
  Rendered pizzas/_view_more.haml (Duration: 0.1ms | Allocations: 49)
  Rendered pizzas/index.haml within layouts/application (Duration: 58.0ms | Allocations: 33475)
  [1m[36mOrderItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.6ms | Allocations: 902)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 51)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 121)
  Rendered layout layouts/application.haml (Duration: 63.5ms | Allocations: 36417)
Completed 200 OK in 67ms (Views: 58.3ms | ActiveRecord: 6.2ms | Allocations: 37567)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:40:11 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:40:11 +0300
Started GET "/assets/medium.png" for ::1 at 2023-05-04 14:40:11 +0300
Started GET "/pizzas" for ::1 at 2023-05-04 14:40:12 +0300
Processing by PizzasController#index as HTML
  [1m[36mPizza Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."type" = $1[0m  [["type", "OrdinaryPizza"]]
  â†³ app/controllers/pizzas_controller.rb:5:in `index'
  Rendering layout layouts/application.haml
  Rendering pizzas/index.haml within layouts/application
  Rendered pizzas/_order_dropdown.haml (Duration: 0.7ms | Allocations: 488)
  [1m[36mPizza Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas"[0m
  â†³ app/views/pizzas/index.haml:12
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/views/pizzas/index.haml:13
  [1m[36mPizza Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 1]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 2]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 3]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "pizzas" WHERE "pizzas"."category_id" = $1[0m  [["category_id", 4]]
  â†³ app/views/pizzas/index.haml:17
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."type" = $1 ORDER BY "pizzas"."name" ASC LIMIT $2 OFFSET $3[0m  [["type", "OrdinaryPizza"], ["LIMIT", 12], ["OFFSET", 0]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mPizzaPicture Load (0.4ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13)[0m  [["picturable_type", "Pizza"], ["picturable_id", 1], ["picturable_id", 8], ["picturable_id", 12], ["picturable_id", 14], ["picturable_id", 9], ["picturable_id", 3], ["picturable_id", 10], ["picturable_id", 5], ["picturable_id", 2], ["picturable_id", 15], ["picturable_id", 11], ["picturable_id", 13]]
  â†³ app/views/pizzas/_pizza.haml:1
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  Rendered pizzas/_pizza.haml (Duration: 41.9ms | Allocations: 28193)
  Rendered pizzas/_view_more.haml (Duration: 0.1ms | Allocations: 47)
  Rendered pizzas/index.haml within layouts/application (Duration: 52.6ms | Allocations: 33205)
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.2ms | Allocations: 896)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 57.6ms | Allocations: 36090)
Completed 200 OK in 61ms (Views: 54.8ms | ActiveRecord: 3.7ms | Allocations: 37130)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:40:13 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:40:13 +0300
Started GET "/assets/medium.png" for ::1 at 2023-05-04 14:40:13 +0300
Started GET "/cart" for ::1 at 2023-05-04 14:40:15 +0300
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 5]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaPicture Load (0.4ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" = $2[0m  [["picturable_type", "Pizza"], ["picturable_id", 5]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 4]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaFilling Load (0.3ms)[0m  [1m[34mSELECT "pizza_fillings".* FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 5]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" IN ($1, $2, $3, $4, $5, $6)[0m  [["id", 2], ["id", 5], ["id", 6], ["id", 1], ["id", 3], ["id", 8]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  Rendered carts/_order_items.haml (Duration: 7.9ms | Allocations: 5059)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 5]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 5]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 5]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 5]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 27.4ms | Allocations: 16672)
  [1m[36mOrderItem Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 2.5ms | Allocations: 816)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 33.2ms | Allocations: 19490)
Completed 200 OK in 55ms (Views: 31.9ms | ActiveRecord: 4.6ms | Allocations: 29051)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:40:15 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:40:15 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-04 14:40:15 +0300
Started GET "/custom_pizza/edit?order_item_id=17" for ::1 at 2023-05-04 14:40:17 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"17"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."name" = $1 LIMIT $2[0m  [["name", "Muellerport"], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:36:in `similar_pizza_fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 5]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 5]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 20.8ms | Allocations: 11200)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 5.8ms | Allocations: 1770)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.5ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 30.9ms | Allocations: 15204)
Completed 200 OK in 43ms (Views: 30.5ms | ActiveRecord: 4.2ms | Allocations: 19491)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:40:17 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:40:17 +0300
Started PATCH "/custom_pizza?filling_id=0" for ::1 at 2023-05-04 14:40:20 +0300
Processing by CustomPizzasController#update as */*
  Parameters: {"authenticity_token"=>"[FILTERED]", "order_item_id"=>17, "pizza_dimension"=>"30.0", "filling_id"=>"0", "custom_pizza"=>{}}
  [1m[36mOrderItem Load (0.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:51:in `current_order_item'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:55:in `current_pizza'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:9:in `call'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:9:in `call'
  [1m[36mPizzaDimension Load (0.6ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:9:in `call'
  [1m[36mCustomPizza Create (1.2ms)[0m  [1m[32mINSERT INTO "pizzas" ("name", "price_cents", "price_currency", "description", "category_id", "pizza_dimension_id", "created_at", "updated_at", "type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Muellerport"], ["price_cents", 6496], ["price_currency", "USD"], ["description", "Id in saepe porro unde accusantium iusto. Natus deserunt corrupti temporibus harum. Nemo esse tempora asperiores quis. Sapiente labore suscipit consequuntur quasi ex consequatur. Veritatis alias eveniet dignissimos ipsa quis. Ab et ipsum magni quia."], ["category_id", 1], ["pizza_dimension_id", 4], ["created_at", "2023-05-04 11:40:20.312636"], ["updated_at", "2023-05-04 11:40:20.312636"], ["type", "CustomPizza"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:9:in `call'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:9:in `call'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:15:in `good_outcome'
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:15:in `good_outcome'
  [1m[36mOrderItem Update (0.7ms)[0m  [1m[33mUPDATE "order_items" SET "pizza_id" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["pizza_id", 32], ["updated_at", "2023-05-04 11:40:20.326162"], ["id", 17]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:15:in `good_outcome'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:15:in `good_outcome'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 5]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:16:in `good_outcome'
  [1m[36mFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 32]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:16:in `good_outcome'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:16:in `good_outcome'
  [1m[36mPizzaFilling Create (0.5ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 32], ["filling_id", 1], ["created_at", "2023-05-04 11:40:20.341319"], ["updated_at", "2023-05-04 11:40:20.341319"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:16:in `good_outcome'
  [1m[36mPizzaFilling Create (0.6ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 32], ["filling_id", 2], ["created_at", "2023-05-04 11:40:20.346257"], ["updated_at", "2023-05-04 11:40:20.346257"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:16:in `good_outcome'
  [1m[36mPizzaFilling Create (0.5ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 32], ["filling_id", 3], ["created_at", "2023-05-04 11:40:20.349705"], ["updated_at", "2023-05-04 11:40:20.349705"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:16:in `good_outcome'
  [1m[36mPizzaFilling Create (0.5ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 32], ["filling_id", 5], ["created_at", "2023-05-04 11:40:20.353135"], ["updated_at", "2023-05-04 11:40:20.353135"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:16:in `good_outcome'
  [1m[36mPizzaFilling Create (0.6ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 32], ["filling_id", 6], ["created_at", "2023-05-04 11:40:20.356766"], ["updated_at", "2023-05-04 11:40:20.356766"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:16:in `good_outcome'
  [1m[36mPizzaFilling Create (0.6ms)[0m  [1m[32mINSERT INTO "pizza_fillings" ("pizza_id", "filling_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["pizza_id", 32], ["filling_id", 8], ["created_at", "2023-05-04 11:40:20.359990"], ["updated_at", "2023-05-04 11:40:20.359990"]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:16:in `good_outcome'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:16:in `good_outcome'
  [1m[36mPizzaDimension Load (0.9ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."dimension" = $1 LIMIT $2[0m  [["dimension", 30.0], ["LIMIT", 1]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:59:in `current_pizza_dimension'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:43:in `update_pizza_dimension'
  [1m[36mCustomPizza Update (0.7ms)[0m  [1m[33mUPDATE "pizzas" SET "pizza_dimension_id" = $1, "updated_at" = $2 WHERE "pizzas"."id" = $3[0m  [["pizza_dimension_id", 1], ["updated_at", "2023-05-04 11:40:20.369869"], ["id", 32]]
  â†³ app/interactors/pizzas/update_custom_pizza.rb:43:in `update_pizza_dimension'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/interactors/pizzas/update_custom_pizza.rb:43:in `update_pizza_dimension'
No template found for CustomPizzasController#update, rendering head :no_content
Completed 204 No Content in 79ms (ActiveRecord: 16.3ms | Allocations: 28598)


Started GET "/custom_pizza/edit?order_item_id=17" for ::1 at 2023-05-04 14:40:21 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"17"}
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 32]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.7ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.4ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 20.5ms | Allocations: 10568)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.5ms | Allocations: 1745)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 26)
  Rendered layouts/_footer.haml (Duration: 0.6ms | Allocations: 121)
  Rendered layout layouts/application.haml (Duration: 28.8ms | Allocations: 14481)
Completed 200 OK in 37ms (Views: 26.6ms | ActiveRecord: 3.6ms | Allocations: 17179)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:40:21 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:40:21 +0300
Started GET "/custom_pizza/edit?order_item_id=17" for ::1 at 2023-05-04 14:40:22 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"17"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.6ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 32]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 18.5ms | Allocations: 10383)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.4ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.0ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 26.0ms | Allocations: 14136)
Completed 200 OK in 32ms (Views: 23.8ms | ActiveRecord: 3.6ms | Allocations: 16713)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:40:22 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:40:22 +0300
Started GET "/custom_pizza/edit?order_item_id=17" for ::1 at 2023-05-04 14:40:22 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"17"}
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 32]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 18.8ms | Allocations: 10395)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.9ms | Allocations: 1714)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 27.2ms | Allocations: 14148)
Completed 200 OK in 34ms (Views: 25.1ms | ActiveRecord: 3.7ms | Allocations: 16723)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:40:22 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:40:22 +0300
Started GET "/custom_pizza/edit?order_item_id=17" for ::1 at 2023-05-04 14:40:22 +0300
Processing by CustomPizzasController#edit as HTML
  Parameters: {"order_item_id"=>"17"}
  [1m[36mPizzaDimension Load (0.5ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/queries/pizza_dimensions/dimensions_query.rb:15:in `separated_attributes'
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:15:in `edit'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1 LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  â†³ app/controllers/custom_pizzas_controller.rb:32:in `fillings'
  Rendering layout layouts/application.haml
  Rendering custom_pizzas/edit.haml within layouts/application
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions"[0m
  â†³ app/views/custom_pizzas/edit.haml:14
  [1m[36mPizzaDimension Load (0.3ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/helpers/custom_pizzas_helper.rb:3:in `current_dimension'
  [1m[36mFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 32]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mOrdinaryFilling Load (0.5ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "OrdinaryFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:31
  [1m[36mAdditionalFilling Load (0.3ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."type" = $1[0m  [["type", "AdditionalFilling"]]
  â†³ app/views/custom_pizzas/edit.haml:41
  Rendered custom_pizzas/edit.haml within layouts/application (Duration: 22.5ms | Allocations: 10386)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.4ms | Allocations: 1716)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 30.2ms | Allocations: 14142)
Completed 200 OK in 39ms (Views: 28.3ms | ActiveRecord: 3.9ms | Allocations: 16718)


Started GET "/assets/application.css" for ::1 at 2023-05-04 14:40:23 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 14:40:23 +0300
Started GET "/cart" for ::1 at 2023-05-04 15:00:43 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CartsController#show as HTML
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Load (0.6ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 32]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaPicture Load (0.4ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" = $2[0m  [["picturable_type", "Pizza"], ["picturable_id", 32]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mPizzaFilling Load (0.9ms)[0m  [1m[34mSELECT "pizza_fillings".* FROM "pizza_fillings" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 32]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  [1m[36mFilling Load (0.8ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" WHERE "fillings"."id" IN ($1, $2, $3, $4, $5, $6)[0m  [["id", 1], ["id", 2], ["id", 3], ["id", 5], ["id", 6], ["id", 8]]
  â†³ app/controllers/carts_controller.rb:4:in `show'
  Rendering layout layouts/application.haml
  Rendering carts/show.haml within layouts/application
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  Rendered carts/_order_items.haml (Duration: 175.6ms | Allocations: 243584)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 32]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mFilling Load (1.2ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 32]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mPizzaDimension Load (0.4ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  [1m[36mCACHE OrderItem Load (0.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Pizza Load (0.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."id" = $1[0m  [["id", 32]]
  â†³ app/decorators/order_decorator.rb:53:in `amount_pay'
  [1m[36mCACHE Filling Load (0.0ms)[0m  [1m[34mSELECT "fillings".* FROM "fillings" INNER JOIN "pizza_fillings" ON "fillings"."id" = "pizza_fillings"."filling_id" WHERE "pizza_fillings"."pizza_id" = $1[0m  [["pizza_id", 32]]
  â†³ app/decorators/order_item_decorator.rb:13:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_item_decorator.rb:13)
  [1m[36mCACHE PizzaDimension Load (0.0ms)[0m  [1m[34mSELECT "pizza_dimensions".* FROM "pizza_dimensions" WHERE "pizza_dimensions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/decorators/order_item_decorator.rb:14:in `amount_pay'
DEPRECATION WARNING: Rails 7.0 has deprecated Enumerable.sum in favor of Ruby's native implementation available since 2.4. Sum of non-numeric elements requires an initial argument. (called from amount_pay at /home/siplusplus/done_pj/website_pizzeria/app/decorators/order_decorator.rb:53)
  Rendered carts/show.haml within layouts/application (Duration: 220.2ms | Allocations: 272387)
  [1m[36mOrderItem Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 6.9ms | Allocations: 5195)
  Rendered layouts/_flesh.haml (Duration: 2.4ms | Allocations: 2043)
  Rendered layouts/_footer.haml (Duration: 10.5ms | Allocations: 12672)
  Rendered layout layouts/application.haml (Duration: 251.8ms | Allocations: 301551)
Completed 200 OK in 425ms (Views: 248.4ms | ActiveRecord: 58.3ms | Allocations: 353845)


Started GET "/assets/application.css" for ::1 at 2023-05-04 15:00:44 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 15:00:44 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-04 15:00:44 +0300
Started GET "/" for ::1 at 2023-05-04 15:00:45 +0300
Processing by HomesController#index as HTML
  [1m[36mPizza Load (1.8ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" INNER JOIN "order_items" ON "order_items"."pizza_id" = "pizzas"."id" INNER JOIN "orders" ON "orders"."id" = "order_items"."order_id" WHERE "pizzas"."type" = $1 AND "orders"."status" IN ($2, $3, $4, $5, $6) GROUP BY "pizzas"."id" ORDER BY sum(order_items.quantity) desc[0m  [["type", "OrdinaryPizza"], ["status", 4], ["status", 5], ["status", 6], ["status", 7], ["status", 8]]
  â†³ app/queries/pizzas/best_sellers_query.rb:12:in `call'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."type" = $1[0m  [["type", "OrdinaryPizza"]]
  â†³ app/controllers/homes_controller.rb:6:in `index'
  [1m[36mPizzaPicture Load (1.1ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16)[0m  [["picturable_type", "Pizza"], ["picturable_id", 1], ["picturable_id", 2], ["picturable_id", 3], ["picturable_id", 4], ["picturable_id", 5], ["picturable_id", 6], ["picturable_id", 7], ["picturable_id", 8], ["picturable_id", 9], ["picturable_id", 10], ["picturable_id", 11], ["picturable_id", 12], ["picturable_id", 13], ["picturable_id", 14], ["picturable_id", 15]]
  â†³ app/controllers/homes_controller.rb:6:in `index'
  Rendering layout layouts/application.haml
  Rendering homes/index.haml within layouts/application
  Rendered homes/_best_sellers.haml (Duration: 7.0ms | Allocations: 7712)
  Rendered homes/index.haml within layouts/application (Duration: 19.2ms | Allocations: 18222)
  [1m[36mOrder Load (0.8ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 5.1ms | Allocations: 1928)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 29)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 27.8ms | Allocations: 22537)
Completed 200 OK in 58ms (Views: 28.1ms | ActiveRecord: 4.6ms | Allocations: 36806)


Started GET "/assets/application.css" for ::1 at 2023-05-04 15:00:46 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 15:00:46 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-04 15:00:46 +0300
Started GET "/" for ::1 at 2023-05-04 15:02:29 +0300
Processing by HomesController#index as HTML
  [1m[36mPizza Load (2.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" INNER JOIN "order_items" ON "order_items"."pizza_id" = "pizzas"."id" INNER JOIN "orders" ON "orders"."id" = "order_items"."order_id" WHERE "pizzas"."type" = $1 AND "orders"."status" IN ($2, $3, $4, $5, $6) GROUP BY "pizzas"."id" ORDER BY sum(order_items.quantity) desc[0m  [["type", "OrdinaryPizza"], ["status", 4], ["status", 5], ["status", 6], ["status", 7], ["status", 8]]
  â†³ app/queries/pizzas/best_sellers_query.rb:12:in `call'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."type" = $1[0m  [["type", "OrdinaryPizza"]]
  â†³ app/controllers/homes_controller.rb:6:in `index'
  [1m[36mPizzaPicture Load (0.8ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16)[0m  [["picturable_type", "Pizza"], ["picturable_id", 1], ["picturable_id", 2], ["picturable_id", 3], ["picturable_id", 4], ["picturable_id", 5], ["picturable_id", 6], ["picturable_id", 7], ["picturable_id", 8], ["picturable_id", 9], ["picturable_id", 10], ["picturable_id", 11], ["picturable_id", 12], ["picturable_id", 13], ["picturable_id", 14], ["picturable_id", 15]]
  â†³ app/controllers/homes_controller.rb:6:in `index'
  Rendering layout layouts/application.haml
  Rendering homes/index.haml within layouts/application
  Rendered homes/_best_sellers.haml (Duration: 6.9ms | Allocations: 7688)
  Rendered homes/index.haml within layouts/application (Duration: 21.5ms | Allocations: 18126)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 9.0ms | Allocations: 6121)
  Rendered layouts/_flesh.haml (Duration: 2.4ms | Allocations: 2009)
  Rendered layouts/_footer.haml (Duration: 10.1ms | Allocations: 12631)
  Rendered layout layouts/application.haml (Duration: 52.4ms | Allocations: 47875)
Completed 200 OK in 75ms (Views: 54.6ms | ActiveRecord: 4.2ms | Allocations: 57619)


Started GET "/assets/application.css" for ::1 at 2023-05-04 15:02:29 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 15:02:29 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-04 15:02:29 +0300
Started GET "/" for ::1 at 2023-05-04 15:02:29 +0300
Processing by HomesController#index as HTML
  [1m[36mPizza Load (1.7ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" INNER JOIN "order_items" ON "order_items"."pizza_id" = "pizzas"."id" INNER JOIN "orders" ON "orders"."id" = "order_items"."order_id" WHERE "pizzas"."type" = $1 AND "orders"."status" IN ($2, $3, $4, $5, $6) GROUP BY "pizzas"."id" ORDER BY sum(order_items.quantity) desc[0m  [["type", "OrdinaryPizza"], ["status", 4], ["status", 5], ["status", 6], ["status", 7], ["status", 8]]
  â†³ app/queries/pizzas/best_sellers_query.rb:12:in `call'
  [1m[36mPizza Load (0.6ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."type" = $1[0m  [["type", "OrdinaryPizza"]]
  â†³ app/controllers/homes_controller.rb:6:in `index'
  [1m[36mPizzaPicture Load (1.0ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16)[0m  [["picturable_type", "Pizza"], ["picturable_id", 1], ["picturable_id", 2], ["picturable_id", 3], ["picturable_id", 4], ["picturable_id", 5], ["picturable_id", 6], ["picturable_id", 7], ["picturable_id", 8], ["picturable_id", 9], ["picturable_id", 10], ["picturable_id", 11], ["picturable_id", 12], ["picturable_id", 13], ["picturable_id", 14], ["picturable_id", 15]]
  â†³ app/controllers/homes_controller.rb:6:in `index'
  Rendering layout layouts/application.haml
  Rendering homes/index.haml within layouts/application
  Rendered homes/_best_sellers.haml (Duration: 0.0ms | Allocations: 9)
  Rendered homes/index.haml within layouts/application (Duration: 6.5ms | Allocations: 2838)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 4.4ms | Allocations: 1713)
  Rendered layouts/_flesh.haml (Duration: 0.0ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.2ms | Allocations: 115)
  Rendered layout layouts/application.haml (Duration: 13.8ms | Allocations: 6769)
Completed 200 OK in 32ms (Views: 13.0ms | ActiveRecord: 4.6ms | Allocations: 15944)


Started GET "/assets/application.css" for ::1 at 2023-05-04 15:02:29 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 15:02:29 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-04 15:02:30 +0300
Started GET "/" for ::1 at 2023-05-04 15:06:54 +0300
Processing by HomesController#index as HTML
  [1m[36mPizza Load (0.8ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" INNER JOIN "order_items" ON "order_items"."pizza_id" = "pizzas"."id" INNER JOIN "orders" ON "orders"."id" = "order_items"."order_id" WHERE "pizzas"."type" = $1 AND "orders"."status" IN ($2, $3, $4, $5, $6) GROUP BY "pizzas"."id" ORDER BY sum(order_items.quantity) desc[0m  [["type", "OrdinaryPizza"], ["status", 4], ["status", 5], ["status", 6], ["status", 7], ["status", 8]]
  â†³ app/queries/pizzas/best_sellers_query.rb:12:in `call'
  [1m[36mPizza Load (0.4ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."type" = $1[0m  [["type", "OrdinaryPizza"]]
  â†³ app/controllers/homes_controller.rb:6:in `index'
  [1m[36mPizzaPicture Load (0.7ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16)[0m  [["picturable_type", "Pizza"], ["picturable_id", 1], ["picturable_id", 2], ["picturable_id", 3], ["picturable_id", 4], ["picturable_id", 5], ["picturable_id", 6], ["picturable_id", 7], ["picturable_id", 8], ["picturable_id", 9], ["picturable_id", 10], ["picturable_id", 11], ["picturable_id", 12], ["picturable_id", 13], ["picturable_id", 14], ["picturable_id", 15]]
  â†³ app/controllers/homes_controller.rb:6:in `index'
  Rendering layout layouts/application.haml
  Rendering homes/index.haml within layouts/application
  Rendered homes/_best_sellers.haml (Duration: 8.8ms | Allocations: 7688)
  Rendered homes/index.haml within layouts/application (Duration: 24.0ms | Allocations: 18109)
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 11.9ms | Allocations: 6117)
  Rendered layouts/_flesh.haml (Duration: 3.6ms | Allocations: 2008)
  Rendered layouts/_footer.haml (Duration: 13.9ms | Allocations: 12619)
  Rendered layout layouts/application.haml (Duration: 66.6ms | Allocations: 47829)
Completed 200 OK in 89ms (Views: 67.3ms | ActiveRecord: 3.1ms | Allocations: 57427)


Started GET "/assets/application.css" for ::1 at 2023-05-04 15:06:54 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 15:06:54 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-04 15:06:54 +0300
Started GET "/users/sign_in" for ::1 at 2023-05-04 15:12:57 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.haml
  Rendering devise/sessions/new.haml within layouts/application
  Rendered devise/sessions/new.haml within layouts/application (Duration: 38.8ms | Allocations: 26327)
  [1m[36mOrder Load (0.9ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:8:in `call'
  [1m[36mOrderItem Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 9]]
  â†³ app/views/layouts/_header_guess_user.haml:9
  Rendered layouts/_header_guess_user.haml (Duration: 7.2ms | Allocations: 2051)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 12)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 124)
  Rendered layout layouts/application.haml (Duration: 50.0ms | Allocations: 30588)
Completed 200 OK in 115ms (Views: 51.5ms | ActiveRecord: 17.6ms | Allocations: 43236)


Started GET "/assets/application.css" for ::1 at 2023-05-04 15:12:57 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 15:12:57 +0300
Started POST "/users/auth/github" for ::1 at 2023-05-04 15:12:58 +0300
Started GET "/users/auth/github/callback?code=60ea06dfd513f06ad8f8&state=f3c2d5abc08a756225a8dae820e87a9c68edbef80f2897eb" for ::1 at 2023-05-04 15:12:59 +0300
Processing by Users::OmniauthCallbacksController#github as HTML
  Parameters: {"code"=>"60ea06dfd513f06ad8f8", "state"=>"f3c2d5abc08a756225a8dae820e87a9c68edbef80f2897eb"}
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "denis1sorokin@gmail.com"], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `from_omniauth'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:27:in `from_omniauth'
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "confirmed_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["confirmed_at", "2023-05-04 12:12:59.924008"], ["updated_at", "2023-05-04 12:12:59.925349"], ["id", 1]]
  â†³ app/models/user.rb:27:in `from_omniauth'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user.rb:27:in `from_omniauth'
Redirected to http://localhost:3000/
Completed 302 Found in 16ms (ActiveRecord: 4.4ms | Allocations: 4582)


Started GET "/" for ::1 at 2023-05-04 15:12:59 +0300
Processing by HomesController#index as HTML
  [1m[36mPizza Load (3.0ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" INNER JOIN "order_items" ON "order_items"."pizza_id" = "pizzas"."id" INNER JOIN "orders" ON "orders"."id" = "order_items"."order_id" WHERE "pizzas"."type" = $1 AND "orders"."status" IN ($2, $3, $4, $5, $6) GROUP BY "pizzas"."id" ORDER BY sum(order_items.quantity) desc[0m  [["type", "OrdinaryPizza"], ["status", 4], ["status", 5], ["status", 6], ["status", 7], ["status", 8]]
  â†³ app/queries/pizzas/best_sellers_query.rb:12:in `call'
  [1m[36mPizza Load (0.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."type" = $1[0m  [["type", "OrdinaryPizza"]]
  â†³ app/controllers/homes_controller.rb:6:in `index'
  [1m[36mPizzaPicture Load (1.3ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16)[0m  [["picturable_type", "Pizza"], ["picturable_id", 1], ["picturable_id", 2], ["picturable_id", 3], ["picturable_id", 4], ["picturable_id", 5], ["picturable_id", 6], ["picturable_id", 7], ["picturable_id", 8], ["picturable_id", 9], ["picturable_id", 10], ["picturable_id", 11], ["picturable_id", 12], ["picturable_id", 13], ["picturable_id", 14], ["picturable_id", 15]]
  â†³ app/controllers/homes_controller.rb:6:in `index'
  Rendering layout layouts/application.haml
  Rendering homes/index.haml within layouts/application
  Rendered homes/_best_sellers.haml (Duration: 0.0ms | Allocations: 10)
  Rendered homes/index.haml within layouts/application (Duration: 5.0ms | Allocations: 3010)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/layouts/application.haml:15
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."status" IN ($2, $3, $4, $5) LIMIT $6[0m  [["user_id", 1], ["status", 1], ["status", 0], ["status", 2], ["status", 3], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:21:in `find_order'
  [1m[36mOrderItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 1]]
  â†³ app/views/layouts/_header_authentificate_user.haml:10
  [1m[36mUserPicture Load (0.5ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_id" = $1 AND "pictures"."picturable_type" = $2 LIMIT $3[0m  [["picturable_id", 1], ["picturable_type", "User"], ["LIMIT", 1]]
  â†³ app/views/layouts/_header_authentificate_user.haml:13
  [1m[36mCACHE OrderItem Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 1]]
  â†³ app/views/layouts/_header_authentificate_user.haml:21
  Rendered layouts/_header_authentificate_user.haml (Duration: 30.5ms | Allocations: 19230)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 61)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 113)
  Rendered layout layouts/application.haml (Duration: 42.4ms | Allocations: 25573)
Completed 200 OK in 64ms (Views: 40.9ms | ActiveRecord: 6.7ms | Allocations: 34794)


Started GET "/assets/application.css" for ::1 at 2023-05-04 15:13:00 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 15:13:00 +0300
Started GET "/uploads/221d116c77d261f9d4a6d80c5fa715dc.png" for ::1 at 2023-05-04 15:13:00 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-04 15:13:00 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/221d116c77d261f9d4a6d80c5fa715dc.png"):
  
Started GET "/assets/application.css" for ::1 at 2023-05-04 15:13:03 +0300
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 15:13:03 +0300
Started GET "/" for ::1 at 2023-05-04 15:13:43 +0300
Processing by HomesController#index as HTML
  [1m[36mPizza Load (1.7ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" INNER JOIN "order_items" ON "order_items"."pizza_id" = "pizzas"."id" INNER JOIN "orders" ON "orders"."id" = "order_items"."order_id" WHERE "pizzas"."type" = $1 AND "orders"."status" IN ($2, $3, $4, $5, $6) GROUP BY "pizzas"."id" ORDER BY sum(order_items.quantity) desc[0m  [["type", "OrdinaryPizza"], ["status", 4], ["status", 5], ["status", 6], ["status", 7], ["status", 8]]
  â†³ app/queries/pizzas/best_sellers_query.rb:12:in `call'
  [1m[36mPizza Load (0.5ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."type" = $1[0m  [["type", "OrdinaryPizza"]]
  â†³ app/controllers/homes_controller.rb:6:in `index'
  [1m[36mPizzaPicture Load (0.7ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16)[0m  [["picturable_type", "Pizza"], ["picturable_id", 1], ["picturable_id", 2], ["picturable_id", 3], ["picturable_id", 4], ["picturable_id", 5], ["picturable_id", 6], ["picturable_id", 7], ["picturable_id", 8], ["picturable_id", 9], ["picturable_id", 10], ["picturable_id", 11], ["picturable_id", 12], ["picturable_id", 13], ["picturable_id", 14], ["picturable_id", 15]]
  â†³ app/controllers/homes_controller.rb:6:in `index'
  Rendering layout layouts/application.haml
  Rendering homes/index.haml within layouts/application
  Rendered homes/_best_sellers.haml (Duration: 6.6ms | Allocations: 7702)
  Rendered homes/index.haml within layouts/application (Duration: 18.4ms | Allocations: 18142)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/layouts/application.haml:15
  [1m[36mOrder Load (0.9ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."status" IN ($2, $3, $4, $5) LIMIT $6[0m  [["user_id", 1], ["status", 1], ["status", 0], ["status", 2], ["status", 3], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:21:in `find_order'
  [1m[36mOrderItem Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 1]]
  â†³ app/views/layouts/_header_authentificate_user.haml:10
  [1m[36mUserPicture Load (0.4ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_id" = $1 AND "pictures"."picturable_type" = $2 LIMIT $3[0m  [["picturable_id", 1], ["picturable_type", "User"], ["LIMIT", 1]]
  â†³ app/views/layouts/_header_authentificate_user.haml:13
  [1m[36mCACHE OrderItem Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 1]]
  â†³ app/views/layouts/_header_authentificate_user.haml:21
  Rendered layouts/_header_authentificate_user.haml (Duration: 19.1ms | Allocations: 15438)
  Rendered layouts/_flesh.haml (Duration: 2.6ms | Allocations: 2009)
  Rendered layouts/_footer.haml (Duration: 10.5ms | Allocations: 12619)
  Rendered layout layouts/application.haml (Duration: 63.1ms | Allocations: 58132)
Completed 200 OK in 86ms (Views: 62.7ms | ActiveRecord: 5.1ms | Allocations: 68044)


Started GET "/assets/application.css" for ::1 at 2023-05-04 15:13:43 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 15:13:43 +0300
Started GET "/uploads/221d116c77d261f9d4a6d80c5fa715dc.png" for ::1 at 2023-05-04 15:13:43 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-04 15:13:43 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/221d116c77d261f9d4a6d80c5fa715dc.png"):
  
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 15:13:43 +0300
Started GET "/" for ::1 at 2023-05-04 15:13:44 +0300
Processing by HomesController#index as HTML
  [1m[36mPizza Load (1.3ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" INNER JOIN "order_items" ON "order_items"."pizza_id" = "pizzas"."id" INNER JOIN "orders" ON "orders"."id" = "order_items"."order_id" WHERE "pizzas"."type" = $1 AND "orders"."status" IN ($2, $3, $4, $5, $6) GROUP BY "pizzas"."id" ORDER BY sum(order_items.quantity) desc[0m  [["type", "OrdinaryPizza"], ["status", 4], ["status", 5], ["status", 6], ["status", 7], ["status", 8]]
  â†³ app/queries/pizzas/best_sellers_query.rb:12:in `call'
  [1m[36mPizza Load (0.6ms)[0m  [1m[34mSELECT "pizzas".* FROM "pizzas" WHERE "pizzas"."type" = $1[0m  [["type", "OrdinaryPizza"]]
  â†³ app/controllers/homes_controller.rb:6:in `index'
  [1m[36mPizzaPicture Load (0.8ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_type" = $1 AND "pictures"."picturable_id" IN ($2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16)[0m  [["picturable_type", "Pizza"], ["picturable_id", 1], ["picturable_id", 2], ["picturable_id", 3], ["picturable_id", 4], ["picturable_id", 5], ["picturable_id", 6], ["picturable_id", 7], ["picturable_id", 8], ["picturable_id", 9], ["picturable_id", 10], ["picturable_id", 11], ["picturable_id", 12], ["picturable_id", 13], ["picturable_id", 14], ["picturable_id", 15]]
  â†³ app/controllers/homes_controller.rb:6:in `index'
  Rendering layout layouts/application.haml
  Rendering homes/index.haml within layouts/application
  Rendered homes/_best_sellers.haml (Duration: 0.0ms | Allocations: 9)
  Rendered homes/index.haml within layouts/application (Duration: 4.6ms | Allocations: 2838)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/layouts/application.haml:15
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."status" IN ($2, $3, $4, $5) LIMIT $6[0m  [["user_id", 1], ["status", 1], ["status", 0], ["status", 2], ["status", 3], ["LIMIT", 1]]
  â†³ app/interactors/orders/find_or_create.rb:21:in `find_order'
  [1m[36mOrderItem Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 1]]
  â†³ app/views/layouts/_header_authentificate_user.haml:10
  [1m[36mUserPicture Load (0.4ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."picturable_id" = $1 AND "pictures"."picturable_type" = $2 LIMIT $3[0m  [["picturable_id", 1], ["picturable_type", "User"], ["LIMIT", 1]]
  â†³ app/views/layouts/_header_authentificate_user.haml:13
  [1m[36mCACHE OrderItem Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_items" WHERE "order_items"."order_id" = $1[0m  [["order_id", 1]]
  â†³ app/views/layouts/_header_authentificate_user.haml:21
  Rendered layouts/_header_authentificate_user.haml (Duration: 9.1ms | Allocations: 4122)
  Rendered layouts/_flesh.haml (Duration: 0.1ms | Allocations: 21)
  Rendered layouts/_footer.haml (Duration: 0.3ms | Allocations: 103)
  Rendered layout layouts/application.haml (Duration: 19.5ms | Allocations: 9946)
Completed 200 OK in 39ms (Views: 18.0ms | ActiveRecord: 4.6ms | Allocations: 19076)


Started GET "/assets/application.css" for ::1 at 2023-05-04 15:13:44 +0300
Started GET "/assets/application.js" for ::1 at 2023-05-04 15:13:44 +0300
Started GET "/uploads/221d116c77d261f9d4a6d80c5fa715dc.png" for ::1 at 2023-05-04 15:13:44 +0300
Started GET "/assets/small.png" for ::1 at 2023-05-04 15:13:44 +0300
  
ActionController::RoutingError (No route matches [GET] "/uploads/221d116c77d261f9d4a6d80c5fa715dc.png"):
  
Started GET "/assets/application.js.map" for ::1 at 2023-05-04 15:13:44 +0300
